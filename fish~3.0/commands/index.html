
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Commands - Fish 3.0 - W3cubDocs</title>
  
  <meta name="description" content=" fish ships with a large number of builtin commands, shellscript functions and external commands. These are all described below. ">
  <meta name="keywords" content="command, reference, commands, -, fish, fish~3.0">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/fish~3.0/commands/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" integrity="sha256-6/DH7X+2hvUPElJfGsvzm+tgIpmM9zjbYxnpsr6gR1A=" crossorigin="anonymous" href="/assets/application-ebf0c7ed7fb686f50f12525f1acbf39beb6022998cf738db6319e9b2bea04750.css">
  <script type="text/javascript" src="/assets/application-db285287b40ed28fac520fcfd75d7d874692b647b5b5e05968c741dda5de4148.js" integrity="sha256-2yhSh7QO0o+sUg/P1119h0aStke1teBZaMdB3aXeQUg=" crossorigin="anonymous"></script>
  <script src="/json/fish~3.0.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-2572770204602497",
            enable_page_level_ads: true
        });
  </script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/fish~3.0/" class="_nav-link" title="" style="margin-left:0;">Fish 3.0</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1 class="interior_title">Command reference</h1> <p> <code>fish</code> ships with a large number of builtin commands, shellscript functions and external commands. These are all described below.</p> <p>Almost all fish commands respond to the <code>-h</code> or <code>--help</code> options to display their relevant help, also accessible using the <code>help</code> and <code>man</code> commands, like so:</p> <pre class="fish" data-language="fish">
echo -h
echo --help
# Prints help to the terminal window

man echo
# Displays the man page in the system pager
# (normally 'less', 'more' or 'most').

help echo
# Open a web browser to show the relevant documentation
</pre> <h2 id="abbr">
 abbr - manage fish abbreviations</h2> <h3 id="abbr-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
abbr --add [SCOPE] WORD EXPANSION
abbr --erase word
abbr --rename [SCOPE] OLD_WORD NEW_WORD
abbr --show
abbr --list
</pre>
<h3 id="abbr-description">
 Description</h3> <p><code>abbr</code> manages abbreviations - user-defined words that are replaced with longer phrases after they are entered.</p> <p>For example, a frequently-run command like <code>git checkout</code> can be abbreviated to <code>gco</code>. After entering <code>gco</code> and pressing <span class="key"><b>Space</b></span> or <span class="key"><b>Enter</b></span>, the full text <code>git checkout</code> will appear in the command line.</p> <h3 id="abbr-options">
 Options</h3> <p>The following options are available:</p> <ul> <li>
<code>-a WORD EXPANSION</code> or <code>--add WORD EXPANSION</code> Adds a new abbreviation, causing WORD to be expanded to PHRASE.</li> <li>
<code>-r OLD_WORD NEW_WORD</code> or <code>--rename OLD_WORD NEW_WORD</code> Renames an abbreviation, from OLD_WORD to NEW_WORD.</li> <li>
<code>-s</code> or <code>--show</code> Show all abbreviations in a manner suitable for export and import.</li> <li>
<code>-l</code> or <code>--list</code> Lists all abbreviated words.</li> <li>
<code>-e WORD</code> or <code>--erase WORD</code> Erase the abbreviation WORD.</li> </ul> <p>In addition, when adding abbreviations:</p> <ul> <li>
<code>-g</code> or <code>--global</code> to use a global variable.</li> <li>
<code>-U</code> or <code>--universal</code> to use a universal variable (default).</li> </ul> <p>See the "Internals" section for more on them.</p> <h3 id="abbr-example">
 Examples</h3> <pre class="fish" data-language="fish">
abbr -a -g gco git checkout
</pre>
<p> Add a new abbreviation where <code>gco</code> will be replaced with <code>git checkout</code> global to the current shell. This abbreviation will not be automatically visible to other shells unless the same command is run in those shells (such as when executing the commands in config.fish).</p> <pre class="fish" data-language="fish">
abbr -a -U l less
</pre>
<p> Add a new abbreviation where <code>l</code> will be replaced with <code>less</code> universal so all shells. Note that you omit the <code>-U</code> since it is the default.</p> <pre class="fish" data-language="fish">
abbr -r gco gch
</pre>
<p> Renames an existing abbreviation from <code>gco</code> to <code>gch</code>.</p> <pre class="fish" data-language="fish">
abbr -e gco
</pre>
<p> Erase the <code>gco</code> abbreviation.</p> <pre class="fish" data-language="fish">
ssh another_host abbr -s | source
</pre>
<p> Import the abbreviations defined on another_host over SSH.</p> <h3 id="abbr-internals">
 Internals</h3> <p>Each abbreviation is stored in its own global or universal variable. The name consists of the prefix <code>_fish_abbr_</code> followed by the WORD after being transformed by <code>string escape style=var</code>. The WORD cannot contain a space but all other characters are legal.</p> <p>Defining an abbreviation with global scope is slightly faster than universal scope (which is the default). But in general you'll only want to use the global scope when defining abbreviations in a startup script like <code>~/.config/fish/config.fish</code> like this:</p> <pre class="fish" data-language="fish">
if status --is-interactive
    abbr --add --global first 'echo my first abbreviation'
    abbr --add --global second 'echo my second abbreviation'
    abbr --add --global gco git checkout
    # etcetera
end
</pre>
<p>You can create abbreviations interactively and they will be visible to other fish sessions if you use the <code>-U</code> or <code>--universal</code> flag or don't explicitly specify the scope and the abbreviation isn't already defined with global scope. If you want it to be visible only to the current shell use the <code>-g</code> or <code>--global</code> flag.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="alias">
 alias - create a function</h2> <h3 id="alias-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
alias
alias [OPTIONS] NAME DEFINITION
alias [OPTIONS] NAME=DEFINITION
</pre>
<h3 id="alias-description">
 Description</h3> <p><code>alias</code> is a simple wrapper for the <code>function</code> builtin, which creates a function wrapping a command. It has similar syntax to POSIX shell <code>alias</code>. For other uses, it is recommended to define a <a href="#function">function</a>.</p> <p><code>fish</code> marks functions that have been created by <code>alias</code> by including the command used to create them in the function description. You can list <code>alias</code>-created functions by running <code>alias</code> without arguments. They must be erased using <code>functions -e</code>.</p> <ul> <li>
<code>NAME</code> is the name of the alias</li> <li>
<code>DEFINITION</code> is the actual command to execute. The string <code>$argv</code> will be appended.</li> </ul> <p>You cannot create an alias to a function with the same name. Note that spaces need to be escaped in the call to <code>alias</code> just like at the command line, <em>even inside quoted parts</em>.</p> <p>The following options are available:</p> <ul> <li>
<code>-h</code> or <code>--help</code> displays help about using this command.</li> <li>
<code>-s</code> or <code>--save</code> Automatically save the function created by the alias into your fish configuration directory using <a href="#funcsave">funcsave</a>.</li> </ul> <h3 id="alias-example">
 Example</h3> <p>The following code will create <code>rmi</code>, which runs <code>rm</code> with additional arguments on every invocation.</p> <pre class="fish" data-language="fish">
alias rmi="rm -i"

# This is equivalent to entering the following function:
function rmi --wraps rm --description 'alias rmi=rm -i'
    rm -i $argv
end

# This needs to have the spaces escaped or "Chrome.app..." will be seen as an argument to "/Applications/Google":
alias chrome='/Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome banana'
</pre>
<p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="and">
 and - conditionally execute a command</h2> <h3 id="and-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
COMMAND1; and COMMAND2
</pre>
<h3 id="and-description">
 Description</h3> <p><code>and</code> is used to execute a command if the previous command was successful (returned a status of 0).</p> <p><code>and</code> statements may be used as part of the condition in an <a href="#if"><code>if</code></a> or <a href="#while"><code>while</code></a> block. See the documentation for <a href="#if"><code>if</code></a> and <a href="#while"><code>while</code></a> for examples.</p> <p><code>and</code> does not change the current exit status itself, but the command it runs most likely will. The exit status of the last foreground command to exit can always be accessed using the <a href="../#variables-status">$status</a> variable.</p> <h3 id="and-example">
 Example</h3> <p>The following code runs the <code>make</code> command to build a program. If the build succeeds, <code>make</code>'s exit status is 0, and the program is installed. If either step fails, the exit status is 1, and <code>make clean</code> is run, which removes the files created by the build process.</p> <pre class="fish" data-language="fish">
make; and make install; or make clean
</pre>
<p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="argparse">
 argparse - parse options passed to a fish script or function</h2> <h3 id="argparse-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
argparse [OPTIONS] OPTION_SPEC... -- [ARG...]
</pre>
<h3 id="argparse-description">
 Description</h3> <p>This command makes it easy for fish scripts and functions to handle arguments in a manner 100% identical to how fish builtin commands handle their arguments. You pass a sequence of arguments that define the options recognized, followed by a literal <code>--</code>, then the arguments to be parsed (which might also include a literal <code>--</code>). More on this in the <a href="#argparse-usage">usage</a> section below.</p> <p>Each OPTION_SPEC can be written in the domain specific language <a href="#argparse-option-specs">described below</a> or created using the companion <a href="#fish-opt"><code>fish_opt</code></a> command. All OPTION_SPECs must appear after any argparse flags and before the <code>--</code> that separates them from the arguments to be parsed.</p> <p>Each option that is seen in the ARG list will result in a var name of the form <code>_flag_X</code>, where <code>X</code> is the short flag letter and the long flag name. The OPTION_SPEC always requires a short flag even if it can't be used. So there will always be <code>_flag_X</code> var set using the short flag letter if the corresponding short or long flag is seen. The long flag name var (e.g., <code>_flag_help</code>) will only be defined, obviously, if the OPTION_SPEC includes a long flag name.</p> <p>For example <code>_flag_h</code> and <code>_flag_help</code> if <code>-h</code> or <code>--help</code> is seen. The var will be set with local scope (i.e., as if the script had done <code>set -l _flag_X</code>). If the flag is a boolean (that is, does not have an associated value) the values are the short and long flags seen. If the option is not a boolean flag the values will be zero or more values corresponding to the values collected when the ARG list is processed. If the flag was not seen the flag var will not be set.</p> <h3 id="argparse-options">
 Options</h3> <p>The following <code>argparse</code> options are available. They must appear before all OPTION_SPECs:</p> <ul> <li>
<code>-n</code> or <code>--name</code> is the command name to insert into any error messages. If you don't provide this value <code>argparse</code> will be used.</li> <li>
<code>-x</code> or <code>--exclusive</code> should be followed by a comma separated list of short of long options that are mutually exclusive. You can use this option more than once to define multiple sets of mutually exclusive options.</li> <li>
<code>-N</code> or <code>--min-args</code> is followed by an integer that defines the minimum number of acceptable non-option arguments. The default is zero.</li> <li>
<code>-X</code> or <code>--max-args</code> is followed by an integer that defines the maximum number of acceptable non-option arguments. The default is infinity.</li> <li>
<code>-s</code> or <code>--stop-nonopt</code> causes scanning the arguments to stop as soon as the first non-option argument is seen. Using this arg is equivalent to calling the C function <code>getopt_long()</code> with the short options starting with a <code>+</code> symbol. This is sometimes known as "POSIXLY CORRECT". If this flag is not used then arguments are reordered (i.e., permuted) so that all non-option arguments are moved after option arguments. This mode has several uses but the main one is to implement a command that has subcommands.</li> <li>
<code>-h</code> or <code>--help</code> displays help about using this command.</li> </ul> <h3 id="argparse-usage">
 Usage</h3> <p>Using this command involves passing two sets of arguments separated by <code>--</code>. The first set consists of one or more option specifications (<code>OPTION_SPEC</code> above) and options that modify the behavior of <code>argparse</code>. These must be listed before the <code>--</code> argument. The second set are the arguments to be parsed in accordance with the option specifications. They occur after the <code>--</code> argument and can be empty. More about this below but here is a simple example that might be used in a function named <code>my_function</code>:</p> <pre class="fish" data-language="fish">
argparse --name=my_function 'h/help' 'n/name=' -- $argv
or return
</pre>
<p>If <code>$argv</code> is empty then there is nothing to parse and <code>argparse</code> returns zero to indicate success. If <code>$argv</code> is not empty then it is checked for flags <code>-h</code>, <code>--help</code>, <code>-n</code> and <code>--name</code>. If they are found they are removed from the arguments and local variables (more on this <a href="../argparse-local-variables/">below</a>) are set so the script can determine which options were seen. Assuming <code>$argv</code> doesn't have any errors, such as a missing mandatory value for an option, then <code>argparse</code> exits with status zero. Otherwise it writes appropriate error messages to stderr and exits with a status of one.</p> <p>The <code>--</code> argument is required. You do not have to include any arguments after the <code>--</code> but you must include the <code>--</code>. For example, this is acceptable:</p> <pre class="fish" data-language="fish">
set -l argv
argparse 'h/help' 'n/name' -- $argv
</pre>
<p>But this is not:</p> <pre class="fish" data-language="fish">
set -l argv
argparse 'h/help' 'n/name' $argv
</pre>
<p>The first <code>--</code> seen is what allows the <code>argparse</code> command to reliably separate the option specifications from the command arguments.</p> <h3 id="argparse-option-specs">
 Option Specifications</h3> <p>Each option specification is a string composed of</p> <ul> <li>A short flag letter (which is mandatory). It must be an alphanumeric or "#". The "#" character is special and means that a flag of the form <code>-123</code> is valid. The short flag "#" must be followed by "-" (since the short name isn't otherwise valid since <code>_flag_#</code> is not a valid var name) and must be followed by a long flag name with no modifiers.</li> <li>A <code>/</code> if the short flag can be used by someone invoking your command else <code>-</code> if it should not be exposed as a valid short flag. If there is no long flag name these characters should be omitted. You can also specify a '#' to indicate the short and long flag names can be used and the value can be specified as an implicit int; i.e., a flag of the form <code>-NNN</code>.</li> <li>A long flag name which is optional. If not present then only the short flag letter can be used.</li> <li>Nothing if the flag is a boolean that takes no argument or is an implicit int flag, else</li> <li>
<code>=</code> if it requires a value and only the last instance of the flag is saved, else</li> <li>
<code>=?</code> it takes an optional value and only the last instance of the flag is saved, else</li> <li>
<code>=+</code> if it requires a value and each instance of the flag is saved.</li> <li>Optionally a <code>!</code> followed by fish script to validate the value. Typically this will be a function to run. If the return status is zero the value for the flag is valid. If non-zero the value is invalid. Any error messages should be written to stdout (not stderr). See the section on <a href="#arparse-validation">Flag Value Validation</a> for more information.</li> </ul> <p>See the <a href="#fish-opt"><code>fish_opt</code></a> command for a friendlier but more verbose way to create option specifications.</p> <p>In the following examples if a flag is not seen when parsing the arguments then the corresponding _flag_X var(s) will not be set.</p> <h3 id="argparse-validation">
 Flag Value Validation</h3> <p>It is common to want to validate the the value provided for an option satisfies some criteria. For example, that it is a valid integer within a specific range. You can always do this after <code>argparse</code> returns but you can also request that <code>argparse</code> perform the validation by executing arbitrary fish script. To do so simply append an <code>!</code> (exclamation-mark) then the fish script to be run. When that code is executed three vars will be defined:</p> <ul> <li>
<code>_argparse_cmd</code> will be set to the value of the value of the <code>argparse --name</code> value.</li> <li>
<code>_flag_name</code> will be set to the short or long flag that being processed.</li> <li>
<code>_flag_value</code> will be set to the value associated with the flag being processed.</li> </ul> <p>If you do this via a function it should be defined with the <code>--no-scope-shadowing</code> flag. Otherwise it won't have access to those variables.</p> <p>The script should write any error messages to stdout, not stderr. It should return a status of zero if the flag value is valid otherwise a non-zero status to indicate it is invalid.</p> <p>Fish ships with a <code>_validate_int</code> function that accepts a <code>--min</code> and <code>--max</code> flag. Let's say your command accepts a <code>-m</code> or <code>--max</code> flag and the minimum allowable value is zero and the maximum is 5. You would define the option like this: <code>m/max=!_validate_int --min 0 --max 5</code>. The default if you just call <code>_validate_int</code> without those flags is to simply check that the value is a valid integer with no limits on the min or max value allowed.</p> <h3 id="argparse-optspec-examples">
 Example OPTION_SPECs</h3> <p>Some OPTION_SPEC examples:</p> <ul> <li>
<code>h/help</code> means that both <code>-h</code> and <code>--help</code> are valid. The flag is a boolean and can be used more than once. If either flag is used then <code>_flag_h</code> and <code>_flag_help</code> will be set to the count of how many times either flag was seen.</li> <li>
<code>h-help</code> means that only <code>--help</code> is valid. The flag is a boolean and can be used more than once. If the long flag is used then <code>_flag_h</code> and <code>_flag_help</code> will be set to the count of how many times the long flag was seen.</li> <li>
<code>n/name=</code> means that both <code>-n</code> and <code>--name</code> are valid. It requires a value and can be used at most once. If the flag is seen then <code>_flag_n</code> and <code>_flag_name</code> will be set with the single mandatory value associated with the flag.</li> <li>
<code>n/name=?</code> means that both <code>-n</code> and <code>--name</code> are valid. It accepts an optional value and can be used at most once. If the flag is seen then <code>_flag_n</code> and <code>_flag_name</code> will be set with the value associated with the flag if one was provided else it will be set with no values.</li> <li>
<code>n-name=+</code> means that only <code>--name</code> is valid. It requires a value and can be used more than once. If the flag is seen then <code>_flag_n</code> and <code>_flag_name</code> will be set with the values associated with each occurrence of the flag.</li> <li>
<code>x</code> means that only <code>-x</code> is valid. It is a boolean can can be used more than once. If it is seen then <code>_flag_x</code> will be set to the count of how many times the flag was seen.</li> <li>
<code>x=</code>, <code>x=?</code>, and <code>x=+</code> are similar to the n/name examples above but there is no long flag alternative to the short flag <code>-x</code>.</li> <li>
<code>x-</code> is not valid since there is no long flag name and therefore the short flag, <code>-x</code>, has to be usable.</li> <li>
<code>#-max</code> means that flags matching the regex "^--?\d+$" are valid. When seen they are assigned to the variable <code>_flag_max</code>. This allows any valid positive or negative integer to be specified by prefixing it with a single "-". Many commands support this idiom. For example <code>head -3 /a/file</code> to emit only the first three lines of /a/file.</li> <li>
<code>n::max</code> means that flags matching the regex "^--?\d+$" are valid. When seen they are assigned to the variables <code>_flag_n</code> and <code>_flag_max</code>. This allows any valid positive or negative integer to be specified by prefixing it with a single "-". Many commands support this idiom. For example <code>head -3 /a/file</code> to emit only the first three lines of /a/file. You can also specify the value using either flag: <code>-n NNN</code> or <code>--max NNN</code> in this example.</li> </ul> <p>After parsing the arguments the <code>argv</code> var is set with local scope to any values not already consumed during flag processing. If there are not unbound values the var is set but <code>count $argv</code> will be zero.</p> <p>If an error occurs during argparse processing it will exit with a non-zero status and print error messages to stderr.</p> <h3 id="argparse-notes">
 Notes</h3> <p>Prior to the addition of this builtin command in the 2.7.0 release there were two main ways to parse the arguments passed to a fish script or function. One way was to use the OS provided <code>getopt</code> command. The problem with that is that the GNU and BSD implementations are not compatible. Which makes using that external command difficult other than in trivial situations. The other way is to iterate over <code>$argv</code> and use the fish <code>switch</code> statement to decide how to handle the argument. That, however, involves a huge amount of boilerplate code. It is also borderline impossible to implement the same behavior as builtin commands.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="begin">
 begin - start a new block of code</h2> <h3 id="begin-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
begin; [COMMANDS...;] end
</pre>
<h3 id="begin-description">
 Description</h3> <p><code>begin</code> is used to create a new block of code.</p> <p>A block allows the introduction of a new variable scope, redirection of the input or output of a set of commands as a group, or to specify precedence when using the conditional commands like <code>and</code>.</p> <p>The block is unconditionally executed. <code>begin; ...; end</code> is equivalent to <code>if true; ...; end</code>.</p> <p><code>begin</code> does not change the current exit status itself. After the block has completed, <code>$status</code> will be set to the status returned by the most recent command.</p> <h3 id="begin-example">
 Example</h3> <p>The following code sets a number of variables inside of a block scope. Since the variables are set inside the block and have local scope, they will be automatically deleted when the block ends.</p> <pre class="fish" data-language="fish">
begin
    set -l PIRATE Yarrr

    ...
end

echo $PIRATE
# This will not output anything, since the PIRATE variable
# went out of scope at the end of the block
</pre>
<p>In the following code, all output is redirected to the file out.html.</p> <pre class="fish" data-language="fish">
begin
    echo $xml_header
    echo $html_header
    if test -e $file
        ...
    end
    ...
end &gt; out.html
</pre>
<p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="bg">
 bg - send jobs to background</h2> <h3 id="bg-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
bg [PID...]
</pre>
<h3 id="bg-description">
 Description</h3> <p><code>bg</code> sends <a href="../#syntax-job-control">jobs</a> to the background, resuming them if they are stopped.</p> <p>A background job is executed simultaneously with fish, and does not have access to the keyboard. If no job is specified, the last job to be used is put in the background. If PID is specified, the jobs with the specified process group IDs are put in the background.</p> <p>When at least one of the arguments isn't a valid job specifier (i.e. PID), <code>bg</code> will print an error without backgrounding anything.</p> <p>When all arguments are valid job specifiers, bg will background all matching jobs that exist.</p> <h3 id="bg-example">
 Example</h3> <p><code>bg 123 456 789</code> will background 123, 456 and 789.</p> <p>If only 123 and 789 exist, it will still background them and print an error about 456.</p> <p><code>bg 123 banana</code> or <code>bg banana 123</code> will complain that "banana" is not a valid job specifier.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="bind">
 bind - handle fish key bindings</h2> <h3 id="bind-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
bind [(-M | --mode) MODE] [(-m | --sets-mode) NEW_MODE]
     [--preset | --user]
     [(-s | --silent)] [(-k | --key)] SEQUENCE COMMAND [COMMAND...]
bind [(-M | --mode) MODE] [(-k | --key)] [--preset] [--user] SEQUENCE
bind (-K | --key-names) [(-a | --all)] [--preset] [--user]
bind (-f | --function-names)
bind (-L | --list-modes)
bind (-e | --erase) [(-M | --mode) MODE]
     [--preset] [--user]
     (-a | --all | [(-k | --key)] SEQUENCE [SEQUENCE...])
</pre>
<h3 id="bind-description">
 Description</h3> <p><code>bind</code> adds a binding for the specified key sequence to the specified command.</p> <p>SEQUENCE is the character sequence to bind to. These should be written as <a href="../#escapes">fish escape sequences</a>. For example, because pressing the Alt key and another character sends that character prefixed with an escape character, Alt-based key bindings can be written using the <code>\e</code> escape. For example, <span class="key"><em>Alt</em><span>-</span><b>w</b></span> can be written as <code>\ew</code>. The control character can be written in much the same way using the <code>\c</code> escape, for example <span class="key"><em>Control</em><span>-</span><b>X</b></span> (^X) can be written as <code>\cx</code>. Note that Alt-based key bindings are case sensitive and Control-based key bindings are not. This is a constraint of text-based terminals, not <code>fish</code>.</p> <p>The default key binding can be set by specifying a <code>SEQUENCE</code> of the empty string (that is, <code>''</code> ). It will be used whenever no other binding matches. For most key bindings, it makes sense to use the <code>self-insert</code> function (i.e. <code>bind '' self-insert</code>) as the default keybinding. This will insert any keystrokes not specifically bound to into the editor. Non- printable characters are ignored by the editor, so this will not result in control sequences being printable.</p> <p>If the <code>-k</code> switch is used, the name of the key (such as 'down', 'up' or 'backspace') is used instead of a sequence. The names used are the same as the corresponding curses variables, but without the 'key_' prefix. (See <code>terminfo(5)</code> for more information, or use <code>bind --key-names</code> for a list of all available named keys.) If used in conjunction with the <code>-s</code> switch, <code>bind</code> will silently ignore bindings to named keys that are not found in termcap for the current <code>$TERMINAL</code>, otherwise a warning is emitted.</p> <p><code>COMMAND</code> can be any fish command, but it can also be one of a set of special input functions. These include functions for moving the cursor, operating on the kill-ring, performing tab completion, etc. Use <code>bind --function-names</code> for a complete list of these input functions.</p> <p>When <code>COMMAND</code> is a shellscript command, it is a good practice to put the actual code into a <a href="#function">function</a> and simply bind to the function name. This way it becomes significantly easier to test the function while editing, and the result is usually more readable as well.</p> <p>If a script produces output, it should finish by calling <code>commandline -f repaint</code> to tell fish that a repaint is in order.</p> <p>When multiple <code>COMMAND</code>s are provided, they are all run in the specified order when the key is pressed. Note that special input functions cannot be combined with ordinary shell script commands. The commands must be entirely a sequence of special input functions (from <code>bind -f</code>) or all shell script commands (i.e., valid fish script).</p> <p>If no <code>SEQUENCE</code> is provided, all bindings (or just the bindings in the specified <code>MODE</code>) are printed. If <code>SEQUENCE</code> is provided without <code>COMMAND</code>, just the binding matching that sequence is printed.</p> <p>To save custom keybindings, put the <code>bind</code> statements into <a href="../#initialization">config.fish</a>. Alternatively, fish also automatically executes a function called <code>fish_user_key_bindings</code> if it exists.</p> <p>Key bindings may use "modes", which mimics Vi's modal input behavior. The default mode is "default", and every bind applies to a single mode. The mode can be viewed/changed with the <code>$fish_bind_mode</code> variable.</p> <p>The following parameters are available:</p> <ul> <li>
<code>-k</code> or <code>--key</code> Specify a key name, such as 'left' or 'backspace' instead of a character sequence</li> <li>
<code>-K</code> or <code>--key-names</code> Display a list of available key names. Specifying <code>-a</code> or <code>--all</code> includes keys that don't have a known mapping</li> <li>
<code>-f</code> or <code>--function-names</code> Display a list of available input functions</li> <li>
<code>-L</code> or <code>--list-modes</code> Display a list of defined bind modes</li> <li>
<code>-M MODE</code> or <code>--mode MODE</code> Specify a bind mode that the bind is used in. Defaults to "default"</li> <li>
<code>-m NEW_MODE</code> or <code>--sets-mode NEW_MODE</code> Change the current mode to <code>NEW_MODE</code> after this binding is executed</li> <li>
<code>-e</code> or <code>--erase</code> Erase the binding with the given sequence and mode instead of defining a new one. Multiple sequences can be specified with this flag. Specifying <code>-a</code> or <code>--all</code> with <code>-M</code> or <code>--mode</code> erases all binds in the given mode regardless of sequence. Specifying <code>-a</code> or <code>--all</code> without <code>-M</code> or <code>--mode</code> erases all binds in all modes regardless of sequence.</li> <li>
<code>-a</code> or <code>--all</code> See <code>--erase</code> and <code>--key-names</code>
</li> <li>
<code>--preset</code> and <code>--user</code> specify if bind should operate on user or preset bindings. User bindings take precedence over preset bindings when fish looks up mappings. By default, all <code>bind</code> invocations work on the "user" level except for listing, which will show both levels. All invocations except for inserting new bindings can operate on both levels at the same time. <code>--preset</code> should only be used in full binding sets (like when working on <code>fish_vi_key_bindings</code>).</li> </ul> <h3 id="bind-functions">
 Special input functions</h3> <p>The following special input functions are available:</p> <ul> <li>
<code>accept-autosuggestion</code>, accept the current autosuggestion completely</li> <li>
<code>backward-char</code>, moves one character to the left</li> <li>
<code>backward-bigword</code>, move one whitespace-delimited word to the left</li> <li>
<code>backward-delete-char</code>, deletes one character of input to the left of the cursor</li> <li>
<code>backward-kill-bigword</code>, move the whitespace-delimited word to the left of the cursor to the killring</li> <li>
<code>backward-kill-line</code>, move everything from the beginning of the line to the cursor to the killring</li> <li>
<code>backward-kill-path-component</code>, move one path component to the left of the cursor (everything from the last "/" or whitespace exclusive) to the killring</li> <li>
<code>backward-kill-word</code>, move the word to the left of the cursor to the killring</li> <li>
<code>backward-word</code>, move one word to the left</li> <li>
<code>beginning-of-buffer</code>, moves to the beginning of the buffer, i.e. the start of the first line</li> <li>
<code>beginning-of-history</code>, move to the beginning of the history</li> <li>
<code>beginning-of-line</code>, move to the beginning of the line</li> <li>
<code>begin-selection</code>, start selecting text</li> <li>
<code>capitalize-word</code>, make the current word begin with a capital letter</li> <li>
<code>complete</code>, guess the remainder of the current token</li> <li>
<code>complete-and-search</code>, invoke the searchable pager on completion options (for convenience, this also moves backwards in the completion pager)</li> <li>
<code>delete-char</code>, delete one character to the right of the cursor</li> <li>
<code>downcase-word</code>, make the current word lowercase</li> <li>
<code>end-of-buffer</code>, moves to the end of the buffer, i.e. the end of the first line</li> <li>
<code>end-of-history</code>, move to the end of the history</li> <li>
<code>end-of-line</code>, move to the end of the line</li> <li>
<code>end-selection</code>, end selecting text</li> <li>
<code>forward-bigword</code>, move one whitespace-delimited word to the right</li> <li>
<code>forward-char</code>, move one character to the right</li> <li>
<code>forward-word</code>, move one word to the right</li> <li>
<code>history-search-backward</code>, search the history for the previous match</li> <li>
<code>history-search-forward</code>, search the history for the next match</li> <li>
<code>kill-bigword</code>, move the next whitespace-delimited word to the killring</li> <li>
<code>kill-line</code>, move everything from the cursor to the end of the line to the killring</li> <li>
<code>kill-selection</code>, move the selected text to the killring</li> <li>
<code>kill-whole-line</code>, move the line to the killring</li> <li>
<code>kill-word</code>, move the next word to the killring</li> <li>
<code>pager-toggle-search</code>, toggles the search field if the completions pager is visible.</li> <li>
<code>suppress-autosuggestion</code>, remove the current autosuggestion</li> <li>
<code>swap-selection-start-stop</code>, go to the other end of the highlighted text without changing the selection</li> <li>
<code>transpose-chars</code>, transpose two characters to the left of the cursor</li> <li>
<code>transpose-words</code>, transpose two words to the left of the cursor</li> <li>
<code>upcase-word</code>, make the current word uppercase</li> <li>
<code>yank</code>, insert the latest entry of the killring into the buffer</li> <li>
<code>yank-pop</code>, rotate to the previous entry of the killring</li> </ul> <h3 id="bind-example">
 Examples</h3> <pre class="fish" data-language="fish">
bind \cd 'exit'
</pre>
<p> Causes <code>fish</code> to exit when <span class="key"><em>Control</em><span>-</span><b>D</b></span> is pressed.</p> <pre class="fish" data-language="fish">
bind -k ppage history-search-backward
</pre>
<p> Performs a history search when the <span class="key"><b>Page Up</b></span> key is pressed.</p> <pre class="fish" data-language="fish">
set -g fish_key_bindings fish_vi_key_bindings
bind -M insert \cc kill-whole-line force-repaint
</pre>
<p> Turns on Vi key bindings and rebinds <span class="key"><em>Control</em><span>-</span><b>C</b></span> to clear the input line.</p> <h3 id="special-case-escape">
 Special Case: The escape Character</h3> <p>The escape key can be used standalone, for example, to switch from insertion mode to normal mode when using Vi keybindings. Escape may also be used as a "meta" key, to indicate the start of an escape sequence, such as function or arrow keys. Custom bindings can also be defined that begin with an escape character.</p> <p>fish waits for a period after receiving the escape character, to determine whether it is standalone or part of an escape sequence. While waiting, additional key presses make the escape key behave as a meta key. If no other key presses come in, it is handled as a standalone escape. The waiting period is set to 300 milliseconds (0.3 seconds) in the default key bindings and 10 milliseconds in the vi key bindings. It can be configured by setting the <code>fish_escape_delay_ms</code> variable to a value between 10 and 5000 ms. It is recommended that this be a universal variable that you set once from an interactive session.</p> <p>Note: fish 2.2.0 and earlier used a default of 10 milliseconds, and provided no way to configure it. That effectively made it impossible to use escape as a meta key.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="block">
 block - temporarily block delivery of events</h2> <h3 id="block-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
block [OPTIONS...]
</pre>
<h3 id="block-description">
 Description</h3> <p><code>block</code> prevents events triggered by <code>fish</code> or the <a href="../commands/#emit"><code>emit</code></a> command from being delivered and acted upon while the block is in place.</p> <p>In functions, <code>block</code> can be useful while performing work that should not be interrupted by the shell.</p> <p>The block can be removed. Any events which triggered while the block was in place will then be delivered.</p> <p>Event blocks should not be confused with code blocks, which are created with <code>begin</code>, <code>if</code>, <code>while</code> or <code>for</code></p> <p>The following parameters are available:</p> <ul> <li>
<code>-l</code> or <code>--local</code> Release the block automatically at the end of the current innermost code block scope</li> <li>
<code>-g</code> or <code>--global</code> Never automatically release the lock</li> <li>
<code>-e</code> or <code>--erase</code> Release global block</li> </ul> <h3 id="block-example">
 Example</h3> <pre class="fish" data-language="fish">
# Create a function that listens for events
function --on-event foo foo; echo 'foo fired'; end

# Block the delivery of events
block -g

emit foo
# No output will be produced

block -e
# 'foo fired' will now be printed
</pre>
<h3 id="block-notes">
 Notes</h3> <p>Note that events are only received from the current fish process as there is no way to send events from one fish process to another.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="break">
 break - stop the current inner loop</h2> <h3 id="break-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
LOOP_CONSTRUCT; [COMMANDS...] break; [COMMANDS...] end
</pre>
<h3 id="break-description">
 Description</h3> <p><code>break</code> halts a currently running loop, such as a <a href="#for">for</a> loop or a <a href="#while">while</a> loop. It is usually added inside of a conditional block such as an <a href="#if">if</a> statement or a <a href="#switch">switch</a> statement.</p> <p>There are no parameters for <code>break</code>.</p> <h3 id="break-example">
 Example</h3> <p>The following code searches all .c files for "smurf", and halts at the first occurrence.</p> <pre class="fish" data-language="fish">
for i in *.c
    if grep smurf $i
        echo Smurfs are present in $i
        break
    end
end
</pre>
<p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="breakpoint">
 breakpoint - Launch debug mode</h2> <h3 id="breakpoint-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
breakpoint
</pre>
<h3 id="breakpoint-description">
 Description</h3> <p><code>breakpoint</code> is used to halt a running script and launch an interactive debugging prompt.</p> <p>For more details, see <a href="../#debugging">Debugging fish scripts</a> in the <code>fish</code> manual.</p> <p>There are no parameters for <code>breakpoint</code>.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="builtin">
 builtin - run a builtin command</h2> <h3 id="builtin-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
builtin BUILTINNAME [OPTIONS...]
</pre>
<h3 id="builtin-description">
 Description</h3> <p><code>builtin</code> forces the shell to use a builtin command, rather than a function or program.</p> <p>The following parameters are available:</p> <ul> <li>
<code>-n</code> or <code>--names</code> List the names of all defined builtins</li> </ul> <h3 id="builtin-example">
 Example</h3> <pre class="fish" data-language="fish">
builtin jobs
# executes the jobs builtin, even if a function named jobs exists
</pre>
<p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="case">
 case - conditionally execute a block of commands</h2> <h3 id="case-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
switch VALUE; [case [WILDCARD...]; [COMMANDS...]; ...] end
</pre>
<h3 id="case-description">
 Description</h3> <p><code>switch</code> executes one of several blocks of commands, depending on whether a specified value matches one of several values. <code>case</code> is used together with the <code>switch</code> statement in order to determine which block should be executed.</p> <p>Each <code>case</code> command is given one or more parameters. The first <code>case</code> command with a parameter that matches the string specified in the switch command will be evaluated. <code>case</code> parameters may contain wildcards. These need to be escaped or quoted in order to avoid regular wildcard expansion using filenames.</p> <p>Note that fish does not fall through on case statements. Only the first matching case is executed.</p> <p>Note that command substitutions in a case statement will be evaluated even if its body is not taken. All substitutions, including command substitutions, must be performed before the value can be compared against the parameter.</p> <h3 id="case-example">
 Example</h3> <p>Say $animal contains the name of an animal. Then this code would classify it:</p> <pre class="fish" data-language="fish">
switch $animal
    case cat
        echo evil
    case wolf dog human moose dolphin whale
        echo mammal
    case duck goose albatross
        echo bird
    case shark trout stingray
        echo fish
    # Note that the next case has a wildcard which is quoted
    case '*'
        echo I have no idea what a $animal is
end
</pre>
<p>If the above code was run with <code>$animal</code> set to <code>whale</code>, the output would be <code>mammal</code>.</p> <p>If <code>$animal</code> was set to "banana", it would print "I have no idea what a banana is".</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="cd">
 cd - change directory</h2> <h3 id="cd-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
cd [DIRECTORY]
</pre>
<h3 id="cd-description">
 Description</h3> <p><code>cd</code> changes the current working directory.</p> <p>If <code>DIRECTORY</code> is supplied, it will become the new directory. If no parameter is given, the contents of the <code>HOME</code> environment variable will be used.</p> <p>If <code>DIRECTORY</code> is a relative path, the paths found in the <code>CDPATH</code> environment variable array will be tried as prefixes for the specified path.</p> <p>Note that the shell will attempt to change directory without requiring <code>cd</code> if the name of a directory is provided (starting with <code>.</code>, <code>/</code> or <code>~</code>, or ending with <code>/</code>).</p> <p>Fish also ships a wrapper function around the builtin <code>cd</code> that understands <code>cd -</code> as changing to the previous directory. See also <a href="../commands/#prevd"><code>prevd</code></a>. This wrapper function maintains a history of the 25 most recently visited directories in the <code>$dirprev</code> and <code>$dirnext</code> global variables. If you make those universal variables your <code>cd</code> history is shared among all fish instances.</p> <p>As a special case, <code>cd .</code> is equivalent to <code>cd $PWD</code>, which is useful in cases where a mountpoint has been recycled or a directory has been removed and recreated.</p> <h3 id="cd-example">
 Examples</h3> <pre class="fish" data-language="fish">
cd
# changes the working directory to your home directory.

cd /usr/src/fish-shell
# changes the working directory to /usr/src/fish-shell
</pre>
<h3 id="cd-see-also">
 See Also</h3> <p>See also the <a href="../commands/#cdh"><code>cdh</code></a> command for changing to a recently visited directory.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="cdh">
 cdh - change to a recently visited directory</h2> <h3 id="cdh-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
cdh [ directory ]
</pre>
<h3 id="cdh-description">
 Description</h3> <p><code>cdh</code> with no arguments presents a list of recently visited directories. You can then select one of the entries by letter or number. You can also press <span class="key"><b>tab</b></span> to use the completion pager to select an item from the list. If you give it a single argument it is equivalent to <code>cd directory</code>.</p> <p>Note that the <code>cd</code> command limits directory history to the 25 most recently visited directories. The history is stored in the <code>$dirprev</code> and <code>$dirnext</code> variables which this command manipulates. If you make those universal variables your <code>cd</code> history is shared among all fish instances.</p> <h3 id="cdh-see-also">
 See Also</h3> <p>See also the <a href="../commands/#prevd"><code>prevd</code></a> and <a href="../commands/#pushd"><code>pushd</code></a> commands which also work with the recent <code>cd</code> history and are provided for compatibility with other shells.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="command">
 command - run a program</h2> <h3 id="command-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
command [OPTIONS] COMMANDNAME [ARGS...]
</pre>
<h3 id="command-description">
 Description</h3> <p><code>command</code> forces the shell to execute the program <code>COMMANDNAME</code> and ignore any functions or builtins with the same name.</p> <p>The following options are available:</p> <ul> <li>
<code>-a</code> or <code>--all</code> returns all the external commands that are found in <code>$PATH</code> in the order they are found.</li> <li>
<code>-q</code> or <code>--quiet</code>, in conjunction with <code>-s</code>, silences the output and prints nothing, setting only the exit code.</li> <li>
<code>-s</code> or <code>--search</code> returns the name of the external command that would be executed, or nothing if no file with the specified name could be found in the <code>$PATH</code>.</li> </ul> <p>With the <code>-s</code> option, <code>command</code> treats every argument as a separate command to look up and sets the exit status to 0 if any of the specified commands were found, or 1 if no commands could be found. Additionally passing a <code>-q</code> or <code>--quiet</code> option prevents any paths from being printed, like <code>type -q</code>, for testing only the exit status.</p> <p>For basic compatibility with POSIX <code>command</code>, the <code>-v</code> flag is recognized as an alias for <code>-s</code>.</p> <h3 id="command-example">
 Examples</h3> <p><code>command ls</code> causes fish to execute the <code>ls</code> program, even if an <code>ls</code> function exists.</p> <p><code>command -s ls</code> returns the path to the <code>ls</code> program.</p> <p><code>command -sq git; and command git log</code> runs <code>git log</code> only if <code>git</code> exists.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="commandline">
 commandline - set or get the current command line buffer</h2> <h3 id="commandline-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
commandline [OPTIONS] [CMD]
</pre>
<h3 id="commandline-description">
 Description</h3> <p><code>commandline</code> can be used to set or get the current contents of the command line buffer.</p> <p>With no parameters, <code>commandline</code> returns the current value of the command line.</p> <p>With <code>CMD</code> specified, the command line buffer is erased and replaced with the contents of <code>CMD</code>.</p> <p>The following options are available:</p> <ul> <li>
<code>-C</code> or <code>--cursor</code> set or get the current cursor position, not the contents of the buffer. If no argument is given, the current cursor position is printed, otherwise the argument is interpreted as the new cursor position.</li> <li>
<code>-f</code> or <code>--function</code> inject readline functions into the reader. This option cannot be combined with any other option. It will cause any additional arguments to be interpreted as readline functions, and these functions will be injected into the reader, so that they will be returned to the reader before any additional actual key presses are read.</li> </ul> <p>The following options change the way <code>commandline</code> updates the command line buffer:</p> <ul> <li>
<code>-a</code> or <code>--append</code> do not remove the current commandline, append the specified string at the end of it</li> <li>
<code>-i</code> or <code>--insert</code> do not remove the current commandline, insert the specified string at the current cursor position</li> <li>
<code>-r</code> or <code>--replace</code> remove the current commandline and replace it with the specified string (default)</li> </ul> <p>The following options change what part of the commandline is printed or updated:</p> <ul> <li>
<code>-b</code> or <code>--current-buffer</code> select the entire buffer, including any displayed autosuggestion (default)</li> <li>
<code>-j</code> or <code>--current-job</code> select the current job</li> <li>
<code>-p</code> or <code>--current-process</code> select the current process</li> <li>
<code>-s</code> or <code>--current-selection</code> selects the current selection</li> <li>
<code>-t</code> or <code>--current-token</code> select the current token</li> </ul> <p>The following options change the way <code>commandline</code> prints the current commandline buffer:</p> <ul> <li>
<code>-c</code> or <code>--cut-at-cursor</code> only print selection up until the current cursor position</li> <li>
<code>-o</code> or <code>--tokenize</code> tokenize the selection and print one string-type token per line</li> </ul> <p>If <code>commandline</code> is called during a call to complete a given string using <code>complete -C STRING</code>, <code>commandline</code> will consider the specified string to be the current contents of the command line.</p> <p>The following options output metadata about the commandline state:</p> <ul> <li>
<code>-L</code> or <code>--line</code> print the line that the cursor is on, with the topmost line starting at 1</li> <li>
<code>-S</code> or <code>--search-mode</code> evaluates to true if the commandline is performing a history search</li> <li>
<code>-P</code> or <code>--paging-mode</code> evaluates to true if the commandline is showing pager contents, such as tab completions</li> </ul> <h3 id="commandline-example">
 Example</h3> <p><code>commandline -j $history[3]</code> replaces the job under the cursor with the third item from the command line history.</p> <p>If the commandline contains </p> <pre class="fish" data-language="fish">
&gt; echo $flounder &gt;&amp;2 | less; and echo $catfish
</pre>
<p>(with the cursor on the "o" of "flounder")</p> <p>Then the following invocations behave like this: </p> <pre class="fish" data-language="fish">
&gt; commandline -t
$flounder
&gt; commandline -ct
$fl
&gt; commandline -b ## or just commandline
echo $flounder &gt;&amp;2 | less; and echo $catfish
&gt; commandline -p
echo $flounder &gt;&amp;2
&gt; commandline -j
echo $flounder &gt;&amp;2 | less
</pre>
<p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="complete">
 complete - edit command specific tab-completions</h2> <h3 id="complete-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
complete ( -c | --command | -p | --path ) COMMAND
        [( -c | --command | -p | --path ) COMMAND]...
        [( -e | --erase )]
        [( -s | --short-option ) SHORT_OPTION]...
        [( -l | --long-option | -o | --old-option ) LONG_OPTION]...
        [( -a | --arguments ) OPTION_ARGUMENTS]
        [( -k | --keep-order )]
        [( -f | --no-files )]
        [( -r | --require-parameter )]
        [( -x | --exclusive )]
        [( -w | --wraps ) WRAPPED_COMMAND]...
        [( -n | --condition ) CONDITION]
        [( -d | --description ) DESCRIPTION]
complete ( -C[STRING] | --do-complete[=STRING] )
</pre>
<h3 id="complete-description">
 Description</h3> <p>For an introduction to specifying completions, see <a href="../#completion-own">Writing your own completions</a> in the fish manual.</p> <ul> <li>
<code>COMMAND</code> is the name of the command for which to add a completion.</li> <li>
<code>SHORT_OPTION</code> is a one character option for the command.</li> <li>
<code>LONG_OPTION</code> is a multi character option for the command.</li> <li>
<code>OPTION_ARGUMENTS</code> is parameter containing a space-separated list of possible option-arguments, which may contain command substitutions.</li> <li>
<code>DESCRIPTION</code> is a description of what the option and/or option arguments do.</li> <li>
<code>-c COMMAND</code> or <code>--command COMMAND</code> specifies that <code>COMMAND</code> is the name of the command.</li> <li>
<code>-p COMMAND</code> or <code>--path COMMAND</code> specifies that <code>COMMAND</code> is the absolute path of the program (optionally containing wildcards).</li> <li>
<code>-e</code> or <code>--erase</code> deletes the specified completion.</li> <li>
<code>-s SHORT_OPTION</code> or <code>--short-option=SHORT_OPTION</code> adds a short option to the completions list.</li> <li>
<code>-l LONG_OPTION</code> or <code>--long-option=LONG_OPTION</code> adds a GNU style long option to the completions list.</li> <li>
<code>-o LONG_OPTION</code> or <code>--old-option=LONG_OPTION</code> adds an old style long option to the completions list (See below for details).</li> <li>
<code>-a OPTION_ARGUMENTS</code> or <code>--arguments=OPTION_ARGUMENTS</code> adds the specified option arguments to the completions list.</li> <li>
<code>-k</code> or <code>--keep-order</code> preserves the order of the <code>OPTION_ARGUMENTS</code> specified via <code>-a</code> or <code>--arguments</code> instead of sorting alphabetically.</li> <li>
<code>-f</code> or <code>--no-files</code> specifies that the options specified by this completion may not be followed by a filename.</li> <li>
<code>-r</code> or <code>--require-parameter</code> specifies that the options specified by this completion always must have an option argument, i.e. may not be followed by another option.</li> <li>
<code>-x</code> or <code>--exclusive</code> implies both <code>-r</code> and <code>-f</code>.</li> <li>
<code>-w WRAPPED_COMMAND</code> or <code>--wraps=WRAPPED_COMMAND</code> causes the specified command to inherit completions from the wrapped command (See below for details).</li> <li>
<code>-n</code> or <code>--condition</code> specifies a shell command that must return 0 if the completion is to be used. This makes it possible to specify completions that should only be used in some cases.</li> <li>
<code>-CSTRING</code> or <code>--do-complete=STRING</code> makes complete try to find all possible completions for the specified string.</li> <li>
<code>-C</code> or <code>--do-complete</code> with no argument makes complete try to find all possible completions for the current command line buffer. If the shell is not in interactive mode, an error is returned.</li> <li>
<code>-A</code> and <code>--authoritative</code> no longer do anything and are silently ignored.</li> <li>
<code>-u</code> and <code>--unauthoritative</code> no longer do anything and are silently ignored.</li> </ul> <p>Command specific tab-completions in <code>fish</code> are based on the notion of options and arguments. An option is a parameter which begins with a hyphen, such as '<code>-h</code>', '<code>-help</code>' or '<code>--help</code>'. Arguments are parameters that do not begin with a hyphen. Fish recognizes three styles of options, the same styles as the GNU version of the getopt library. These styles are:</p> <ul> <li>Short options, like '<code>-a</code>'. Short options are a single character long, are preceded by a single hyphen and may be grouped together (like '<code>-la</code>', which is equivalent to '<code>-l -a</code>'). Option arguments may be specified in the following parameter ('<code>-w 32</code>') or by appending the option with the value ('<code>-w32</code>').</li> <li>Old style long options, like '<code>-Wall</code>'. Old style long options can be more than one character long, are preceded by a single hyphen and may not be grouped together. Option arguments are specified in the following parameter ('<code>-ao null</code>').</li> <li>GNU style long options, like '<code>--colors</code>'. GNU style long options can be more than one character long, are preceded by two hyphens, and may not be grouped together. Option arguments may be specified in the following parameter ('<code>--quoting-style shell</code>') or by appending the option with a '<code>=</code>' and the value ('<code>--quoting-style=shell</code>'). GNU style long options may be abbreviated so long as the abbreviation is unique ('<code>--h</code>') is equivalent to '<code>--help</code>' if help is the only long option beginning with an 'h').</li> </ul> <p>The options for specifying command name and command path may be used multiple times to define the same completions for multiple commands.</p> <p>The options for specifying command switches and wrapped commands may be used multiple times to define multiple completions for the command(s) in a single call.</p> <p>Invoking <code>complete</code> multiple times for the same command adds the new definitions on top of any existing completions defined for the command.</p> <p>When <code>-a</code> or <code>--arguments</code> is specified in conjunction with long, short, or old style options, the specified arguments are only used as completions when attempting to complete an argument for any of the specified options. If <code>-a</code> or <code>--arguments</code> is specified without any long, short, or old style options, the specified arguments are used when completing any argument to the command (except when completing an option argument that was specified with <code>-r</code> or <code>--require-parameter</code>).</p> <p>Command substitutions found in <code>OPTION_ARGUMENTS</code> are not expected to return a space-separated list of arguments. Instead they must return a newline-separated list of arguments, and each argument may optionally have a tab character followed by the argument description. Any description provided in this way overrides a description given with <code>-d</code> or <code>--description</code>.</p> <p>The <code>-w</code> or <code>--wraps</code> options causes the specified command to inherit completions from another command. The inheriting command is said to "wrap" the inherited command. The wrapping command may have its own completions in addition to inherited ones. A command may wrap multiple commands, and wrapping is transitive: if A wraps B, and B wraps C, then A automatically inherits all of C's completions. Wrapping can be removed using the <code>-e</code> or <code>--erase</code> options. Note that wrapping only works for completions specified with <code>-c</code> or <code>--command</code> and are ignored when specifying completions with <code>-p</code> or <code>--path</code>.</p> <p>When erasing completions, it is possible to either erase all completions for a specific command by specifying <code>complete -c COMMAND -e</code>, or by specifying a specific completion option to delete by specifying either a long, short or old style option.</p> <h3 id="complete-example">
 Example</h3> <p>The short style option <code>-o</code> for the <code>gcc</code> command requires that a file follows it. This can be done using writing:</p> <pre class="fish" data-language="fish">
complete -c gcc -s o -r
</pre>
<p>The short style option <code>-d</code> for the <code>grep</code> command requires that one of the strings '<code>read</code>', '<code>skip</code>' or '<code>recurse</code>' is used. This can be specified writing:</p> <pre class="fish" data-language="fish">
complete -c grep -s d -x -a "read skip recurse"
</pre>
<p>The <code>su</code> command takes any username as an argument. Usernames are given as the first colon-separated field in the file /etc/passwd. This can be specified as:</p> <pre class="fish" data-language="fish">
complete -x -c su -d "Username" -a "(cat /etc/passwd | cut -d : -f 1)"
</pre>
<p>The <code>rpm</code> command has several different modes. If the <code>-e</code> or <code>--erase</code> flag has been specified, <code>rpm</code> should delete one or more packages, in which case several switches related to deleting packages are valid, like the <code>nodeps</code> switch.</p> <p>This can be written as:</p> <pre class="fish" data-language="fish">
complete -c rpm -n "__fish_contains_opt -s e erase" -d nodeps "Don't check dependencies"
</pre>
<p>where <code>__fish_contains_opt</code> is a function that checks the command line buffer for the presence of a specified set of options.</p> <p>To implement an alias, use the <code>-w</code> or <code>--wraps</code> option:</p> <pre class="fish" data-language="fish">
complete -c hub -w git
</pre>
<p>Now hub inherits all of the completions from git. Note this can also be specified in a function declaration.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="contains">
 contains - test if a word is present in a list</h2> <h3 id="contains-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
contains [OPTIONS] KEY [VALUES...]
</pre>
<h3 id="contains-description">
 Description</h3> <p><code>contains</code> tests whether the set <code>VALUES</code> contains the string <code>KEY</code>. If so, <code>contains</code> exits with status 0; if not, it exits with status 1.</p> <p>The following options are available:</p> <ul> <li>
<code>-i</code> or <code>--index</code> print the word index</li> </ul> <p>Note that, like GNU tools and most of fish's builtins, <code>contains</code> interprets all arguments starting with a <code>-</code> as options to contains, until it reaches an argument that is <code>--</code> (two dashes). See the examples below.</p> <h3 id="contains-example">
 Example</h3> <p>If $animals is a list of animals, the following will test if it contains a cat:</p> <pre class="fish" data-language="fish">
if contains cat $animals
   echo Your animal list is evil!
end
</pre>
<p>This code will add some directories to $PATH if they aren't yet included:</p> <pre class="fish" data-language="fish">
for i in ~/bin /usr/local/bin
    if not contains $i $PATH
        set PATH $PATH $i
    end
end
</pre>
<p>While this will check if <code>hasargs</code> was run with the <code>-q</code> option:</p> <pre class="fish" data-language="fish">
function hasargs
    if contains -- -q $argv
        echo '$argv contains a -q option'
    end
end
</pre>
<p>The <code>--</code> here stops <code>contains</code> from treating <code>-q</code> to an option to itself. Instead it treats it as a normal string to check.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="continue">
 continue - skip the remainder of the current iteration of the current inner loop</h2> <h3 id="continue-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
LOOP_CONSTRUCT; [COMMANDS...;] continue; [COMMANDS...;] end
</pre>
<h3 id="continue-description">
 Description</h3> <p><code>continue</code> skips the remainder of the current iteration of the current inner loop, such as a <a href="#for">for</a> loop or a <a href="#while">while</a> loop. It is usually added inside of a conditional block such as an <a href="#if">if</a> statement or a <a href="#switch">switch</a> statement.</p> <h3 id="continue-example">
 Example</h3> <p>The following code removes all tmp files that do not contain the word smurf.</p> <pre class="fish" data-language="fish">
for i in *.tmp
    if grep smurf $i
        continue
    end
    # This "rm" is skipped over if "continue" is executed.
    rm $i
    # As is this "echo"
    echo $i
end
</pre>
<p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="count">
 count - count the number of elements of an array</h2> <h3 id="count-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
count $VARIABLE
</pre>
<h3 id="count-description">
 Description</h3> <p><code>count</code> prints the number of arguments that were passed to it. This is usually used to find out how many elements an environment variable array contains.</p> <p><code>count</code> does not accept any options, not even <code>-h</code> or <code>--help</code>.</p> <p><code>count</code> exits with a non-zero exit status if no arguments were passed to it, and with zero if at least one argument was passed.</p> <h3 id="count-example">
 Example</h3> <pre class="fish" data-language="fish">
count $PATH
# Returns the number of directories in the users PATH variable.

count *.txt
# Returns the number of files in the current working directory ending with the suffix '.txt'.
</pre>
<p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="dirh">
 dirh - print directory history</h2> <h3 id="dirh-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
dirh
</pre>
<h3 id="dirh-description">
 Description</h3> <p><code>dirh</code> prints the current directory history. The current position in the history is highlighted using the color defined in the <code>fish_color_history_current</code> environment variable.</p> <p><code>dirh</code> does not accept any parameters.</p> <p>Note that the <code>cd</code> command limits directory history to the 25 most recently visited directories. The history is stored in the <code>$dirprev</code> and <code>$dirnext</code> variables.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="dirs">
 dirs - print directory stack</h2> <h3 id="dirs-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
dirs
dirs -c
</pre>
<h3 id="dirs-description">
 Description</h3> <p><code>dirs</code> prints the current directory stack, as created by the <a href="#pushd"><code>pushd</code></a> command.</p> <p>With "-c", it clears the directory stack instead.</p> <p><code>dirs</code> does not accept any parameters.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="disown">
 disown - remove a process from the list of jobs</h2> <h3 id="disown-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
disown [ PID ... ]
</pre>
<h3 id="disown-description">
 Description</h3> <p><code>disown</code> removes the specified <a href="../#syntax-job-control">job</a> from the list of jobs. The job itself continues to exist, but fish does not keep track of it any longer.</p> <p>Jobs in the list of jobs are sent a hang-up signal when fish terminates, which usually causes the job to terminate; <code>disown</code> allows these processes to continue regardless.</p> <p>If no process is specified, the most recently-used job is removed (like <code>bg</code> and <code>fg</code>). If one or more <code>PID</code>s are specified, jobs with the specified process IDs are removed from the job list. Invalid jobs are ignored and a warning is printed.</p> <p>If a job is stopped, it is sent a signal to continue running, and a warning is printed. It is not possible to use the <code>bg</code> builtin to continue a job once it has been disowned.</p> <p><code>disown</code> returns 0 if all specified jobs were disowned successfully, and 1 if any problems were encountered.</p> <h3 id="disown-example">
 Example</h3> <p><code>firefox &amp;; disown</code> will start the Firefox web browser in the background and remove it from the job list, meaning it will not be closed when the fish process is closed.</p> <p><code>disown (jobs -p)</code> removes all jobs from the job list without terminating them.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="echo">
 echo - display a line of text</h2> <h3 id="echo-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
echo [OPTIONS] [STRING]
</pre>
<h3 id="echo-description">
 Description</h3> <p><code>echo</code> displays a string of text.</p> <p>The following options are available:</p> <ul> <li>
<code>-n</code>, Do not output a newline</li> <li>
<code>-s</code>, Do not separate arguments with spaces</li> <li>
<code>-E</code>, Disable interpretation of backslash escapes (default)</li> <li>
<code>-e</code>, Enable interpretation of backslash escapes</li> </ul> <h3 id="echo-escapes">
 Escape Sequences</h3> <p>If <code>-e</code> is used, the following sequences are recognized:</p> <ul> <li>
<code>\</code> backslash</li> <li>
<code>\a</code> alert (BEL)</li> <li>
<code>\b</code> backspace</li> <li>
<code>\c</code> produce no further output</li> <li>
<code>\e</code> escape</li> <li>
<code>\f</code> form feed</li> <li>
<code>\n</code> new line</li> <li>
<code>\r</code> carriage return</li> <li>
<code>\t</code> horizontal tab</li> <li>
<code>\v</code> vertical tab</li> <li>
<code>\0NNN</code> byte with octal value NNN (1 to 3 digits)</li> <li>
<code>\xHH</code> byte with hexadecimal value HH (1 to 2 digits)</li> </ul> <h3 id="echo-example">
 Example</h3> <pre class="fish" data-language="fish">
echo 'Hello World'
</pre>
<p> Print hello world to stdout</p> <pre class="fish" data-language="fish">
echo -e 'Top\nBottom'
</pre>
<p> Print Top and Bottom on separate lines, using an escape sequence</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="else">
 else - execute command if a condition is not met</h2> <h3 id="else-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
if CONDITION; COMMANDS_TRUE...; [else; COMMANDS_FALSE...;] end
</pre>
<h3 id="else-description">
 Description</h3> <p><code>if</code> will execute the command <code>CONDITION</code>. If the condition's exit status is 0, the commands <code>COMMANDS_TRUE</code> will execute. If it is not 0 and <code>else</code> is given, <code>COMMANDS_FALSE</code> will be executed.</p> <h3 id="else-example">
 Example</h3> <p>The following code tests whether a file <code>foo.txt</code> exists as a regular file.</p> <pre class="fish" data-language="fish">
if test -f foo.txt
    echo foo.txt exists
else
    echo foo.txt does not exist
end
</pre>
<p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="emit">
 emit - Emit a generic event</h2> <h3 id="emit-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
emit EVENT_NAME [ARGUMENTS...]
</pre>
<h3 id="emit-description">
 Description</h3> <p><code>emit</code> emits, or fires, an event. Events are delivered to, or caught by, special functions called event handlers. The arguments are passed to the event handlers as function arguments.</p> <h3 id="emit-example">
 Example</h3> <p>The following code first defines an event handler for the generic event named 'test_event', and then emits an event of that type.</p> <pre class="fish" data-language="fish">
function event_test --on-event test_event
    echo event test: $argv
end

emit test_event something
</pre>
<h3 id="emit-notes">
 Notes</h3> <p>Note that events are only sent to the current fish process as there is no way to send events from one fish process to another.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="end">
 end - end a block of commands.</h2> <h3 id="end-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
begin; [COMMANDS...] end
if CONDITION; COMMANDS_TRUE...; [else; COMMANDS_FALSE...;] end
while CONDITION; COMMANDS...; end
for VARNAME in [VALUES...]; COMMANDS...; end
switch VALUE; [case [WILDCARD...]; [COMMANDS...]; ...] end
</pre>
<h3 id="end-description">
 Description</h3> <p><code>end</code> ends a block of commands.</p> <p>For more information, read the documentation for the block constructs, such as <code>if</code>, <code>for</code> and <code>while</code>.</p> <p>The <code>end</code> command does not change the current exit status. Instead, the status after it will be the status returned by the most recent command.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="eval">
 eval - evaluate the specified commands</h2> <h3 id="eval-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
eval [COMMANDS...]
</pre>
<h3 id="eval-description">
 Description</h3> <p><code>eval</code> evaluates the specified parameters as a command. If more than one parameter is specified, all parameters will be joined using a space character as a separator.</p> <p>If your command does not need access to stdin, consider using <code>source</code> instead.</p> <h3 id="eval-example">
 Example</h3> <p>The following code will call the ls command. Note that <code>fish</code> does not support the use of shell variables as direct commands; <code>eval</code> can be used to work around this.</p> <pre class="fish" data-language="fish">
set cmd ls
eval $cmd
</pre>
<p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="exec">
 exec - execute command in current process</h2> <h3 id="exec-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
exec COMMAND [OPTIONS...]
</pre>
<h3 id="exec-description">
 Description</h3> <p><code>exec</code> replaces the currently running shell with a new command. On successful completion, <code>exec</code> never returns. <code>exec</code> cannot be used inside a pipeline.</p> <h3 id="exec-example">
 Example</h3> <p><code>exec emacs</code> starts up the emacs text editor, and exits <code>fish</code>. When emacs exits, the session will terminate.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="exit">
 exit - exit the shell</h2> <h3 id="exit-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
exit [STATUS]
</pre>
<h3 id="exit-description">
 Description</h3> <p><code>exit</code> causes fish to exit. If <code>STATUS</code> is supplied, it will be converted to an integer and used as the exit code. Otherwise, the exit code will be that of the last command executed.</p> <p>If exit is called while sourcing a file (using the <a href="#source">source</a> builtin) the rest of the file will be skipped, but the shell itself will not exit.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="false">
 false - return an unsuccessful result</h2> <h3 id="false-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
false
</pre>
<h3 id="false-description">
 Description</h3> <p><code>false</code> sets the exit status to 1.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="fg">
 fg - bring job to foreground</h2> <h3 id="fg-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
fg [PID]
</pre>
<h3 id="fg-description">
 Description</h3> <p><code>fg</code> brings the specified <a href="../#syntax-job-control">job</a> to the foreground, resuming it if it is stopped. While a foreground job is executed, fish is suspended. If no job is specified, the last job to be used is put in the foreground. If PID is specified, the job with the specified group ID is put in the foreground.</p> <h3 id="fg-example">
 Example</h3> <p><code>fg</code> will put the last job in the foreground.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="fish">
 fish - the friendly interactive shell</h2> <h3 id="fish-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
fish [OPTIONS] [-c command] [FILE [ARGUMENTS...]]
</pre>
<h3 id="fish-description">
 Description</h3> <p><code>fish</code> is a command-line shell written mainly with interactive use in mind. The full manual is available <a href="../">in HTML</a> by using the <a href="#help">help</a> command from inside fish.</p> <p>The following options are available:</p> <ul> <li>
<code>-c</code> or <code>--command=COMMANDS</code> evaluate the specified commands instead of reading from the commandline</li> <li>
<code>-C</code> or <code>--init-command=COMMANDS</code> evaluate the specified commands after reading the configuration, before running the command specified by <code>-c</code> or reading interactive input</li> <li>
<code>-d</code> or <code>--debug-level=DEBUG_LEVEL</code> specify the verbosity level of fish. A higher number means higher verbosity. The default level is 1.</li> <li>
<code>-i</code> or <code>--interactive</code> specify that fish is to run in interactive mode</li> <li>
<code>-l</code> or <code>--login</code> specify that fish is to run as a login shell</li> <li>
<code>-n</code> or <code>--no-execute</code> do not execute any commands, only perform syntax checking</li> <li>
<code>-p</code> or <code>--profile=PROFILE_FILE</code> when fish exits, output timing information on all executed commands to the specified file</li> <li>
<code>-v</code> or <code>--version</code> display version and exit</li> <li>
<code>-D</code> or <code>--debug-stack-frames=DEBUG_LEVEL</code> specify how many stack frames to display when debug messages are written. The default is zero. A value of 3 or 4 is usually sufficient to gain insight into how a given debug call was reached but you can specify a value up to 128.</li> <li>
<code>-f</code> or <code>--features=FEATURES</code> enables one or more feature flags (separated by a comma). These are how fish stages changes that might break scripts.</li> </ul> <p>The fish exit status is generally the exit status of the last foreground command. If fish is exiting because of a parse error, the exit status is 127.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="fish_breakpoint_prompt">
 fish_breakpoint_prompt - define the appearance of the command line prompt when in the context of a `breakpoint` command</h2> <h3 id="fish_breakpoint_prompt-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
function fish_breakpoint_prompt
    ...
end
</pre>
<h3 id="fish_breakpoint_prompt-description">
 Description</h3> <p>By defining the <code>fish_breakpoint_prompt</code> function, the user can choose a custom prompt when asking for input in response to a <code>breakpoint</code> command. The <code>fish_breakpoint_prompt</code> function is executed when the prompt is to be shown, and the output is used as a prompt.</p> <p>The exit status of commands within <code>fish_breakpoint_prompt</code> will not modify the value of <a href="../#variables-status">$status</a> outside of the <code>fish_breakpoint_prompt</code> function.</p> <p><code>fish</code> ships with a default version of this function that displays the function name and line number of the current execution context.</p> <h3 id="fish_breakpoint_prompt-example">
 Example</h3> <p>A simple prompt that is a simplified version of the default debugging prompt:</p> <pre class="fish" data-language="fish">
function fish_breakpoint_prompt -d "Write out the debug prompt"
    set -l function (status current-function)
    set -l line (status current-line-number)
    set -l prompt "$function:$line &gt;"
    echo -ns (set_color $fish_color_status) \ (set_color normal)
end
</pre>
<p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="fish_config">
 fish_config - start the web-based configuration interface</h2> <h3 id="fish_config-description">
 Description</h3> <p><code>fish_config</code> starts the web-based configuration interface.</p> <p>The web interface allows you to view your functions, variables and history, and to make changes to your prompt and color configuration.</p> <p><code>fish_config</code> starts a local web server and then opens a web browser window; when you have finished, close the browser window and then press the Enter key to terminate the configuration session.</p> <p><code>fish_config</code> optionally accepts name of the initial configuration tab. For e.g. <code>fish_config history</code> will start configuration interface with history tab.</p> <p>If the <code>BROWSER</code> environment variable is set, it will be used as the name of the web browser to open instead of the system default.</p> <h3 id="fish_config-example">
 Example</h3> <p><code>fish_config</code> opens a new web browser window and allows you to configure certain fish settings.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="fish_indent">
 fish_indent - indenter and prettifier</h2> <h3 id="fish_indent-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
fish_indent [OPTIONS]
</pre>
<h3 id="fish_indent-description">
 Description</h3> <p><code>fish_indent</code> is used to indent a piece of fish code. <code>fish_indent</code> reads commands from standard input and outputs them to standard output or a specified file.</p> <p>The following options are available:</p> <ul> <li>
<code>-w</code> or <code>--write</code> indents a specified file and immediately writes to that file.</li> <li>
<code>-i</code> or <code>--no-indent</code> do not indent commands; only reformat to one job per line.</li> <li>
<code>-v</code> or <code>--version</code> displays the current fish version and then exits.</li> <li>
<code>--ansi</code> colorizes the output using ANSI escape sequences, appropriate for the current $TERM, using the colors defined in the environment (such as <code>$fish_color_command</code>).</li> <li>
<code>--html</code> outputs HTML, which supports syntax highlighting if the appropriate CSS is defined. The CSS class names are the same as the variable names, such as <code>fish_color_command</code>.</li> <li>
<code>-d</code> or <code>--debug-level=DEBUG_LEVEL</code> enables debug output and specifies a verbosity level (like <code>fish -d</code>). Defaults to 0.</li> <li>
<code>-D</code> or <code>--debug-stack-frames=DEBUG_LEVEL</code> specify how many stack frames to display when debug messages are written. The default is zero. A value of 3 or 4 is usually sufficient to gain insight into how a given debug call was reached but you can specify a value up to 128.</li> <li>
<code>--dump-parse-tree</code> dumps information about the parsed statements to stderr. This is likely to be of interest only to people working on the fish source code.</li> </ul> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="fish_key_reader">
 fish_key_reader - explore what characters keyboard keys send</h2> <h3 id="fish_key_reader-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
fish_key_reader [OPTIONS]
</pre>
<h3 id="fish_key_reader-description">
 Description</h3> <p><code>fish_key_reader</code> is used to study input received from the terminal and can help with key binds. The program is interactive and works on standard input. Individual characters themselves and their hexadecimal values are displayed.</p> <p>The tool will write an example <code>bind</code> command matching the character sequence captured to stdout. If the character sequence matches a special key name (see <code>bind --key-names</code>), both <code>bind CHARS ...</code> and <code>bind -k KEYNAME ...</code> usage will be shown. Additional details about the characters received, such as the delay between chars, are written to stderr.</p> <p>The following options are available:</p> <ul> <li>
<code>-c</code> or <code>--continuous</code> begins a session where multiple key sequences can be inspected. By default the program exits after capturing a single key sequence.</li> <li>
<code>-d</code> or <code>--debug-level=DEBUG_LEVEL</code> enables debug output and specifies a verbosity level (like <code>fish -d</code>). Defaults to 0.</li> <li>
<code>-D</code> or <code>--debug-stack-frames=DEBUG_LEVEL</code> specify how many stack frames to display when debug messages are written. The default is zero. A value of 3 or 4 is usually sufficient to gain insight into how a given debug call was reached but you can specify a value up to 128.</li> <li>
<code>-h</code> or <code>--help</code> prints usage information.</li> <li>
<code>-v</code> or <code>--version</code> prints fish_key_reader's version and exits.</li> </ul> <h3 id="fish_key_reader-usage-notes">
 Usage Notes</h3> <p>The delay in milliseconds since the previous character was received is included in the diagnostic information written to stderr. This information may be useful to determine the optimal <code>fish_escape_delay_ms</code> setting or learn the amount of lag introduced by tools like <code>ssh</code>, <code>mosh</code> or <code>tmux</code>.</p> <p><code>fish_key_reader</code> intentionally disables handling of many signals. To terminate <code>fish_key_reader</code> in <code>--continuous</code> mode do:</p> <ul> <li>press <code>Ctrl-C</code> twice, or</li> <li>press <code>Ctrl-D</code> twice, or</li> <li>type <code>exit</code>, or</li> <li>type <code>quit</code>
</li> </ul> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="fish_mode_prompt">
 fish_mode_prompt - define the appearance of the mode indicator</h2> <h3 id="fish_mode_prompt-synopsis">
 Synopsis</h3> <p>The fish_mode_prompt function will output the mode indicator for use in vi-mode.</p> <h3 id="fish_mode_prompt-description">
 Description</h3> <p>The default <code>fish_mode_prompt</code> function will output indicators about the current Vi editor mode displayed to the left of the regular prompt. Define your own function to customize the appearance of the mode indicator. You can also define an empty <code>fish_mode_prompt</code> function to remove the Vi mode indicators. The <code>$fish_bind_mode variable</code> can be used to determine the current mode. It will be one of <code>default</code>, <code>insert</code>, <code>replace_one</code>, or <code>visual</code>.</p> <h3 id="fish_mode_prompt-example">
 Example</h3> <pre class="fish" data-language="fish">
function fish_mode_prompt
  switch $fish_bind_mode
    case default
      set_color --bold red
      echo 'N'
    case insert
      set_color --bold green
      echo 'I'
    case replace_one
      set_color --bold green
      echo 'R'
    case visual
      set_color --bold brmagenta
      echo 'V'
    case '*'
      set_color --bold red
      echo '?'
  end
  set_color normal
end
</pre>
<p>Outputting multiple lines is not supported in <code>fish_mode_prompt</code>.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="fish_opt">
 fish_opt - create an option spec for the argparse command</h2> <h3 id="fish_opt-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
fish_opt [ -h | --help ]
fish_opt ( -s X | --short=X ) [ -l LONG | --long=LONG ] [ --long-only ] \ 
    [ -o | --optional-val ] [ -r | --required-val ] [ --multiple-vals ]
</pre>
<h3 id="fish_opt-description">
 Description</h3> <p>This command provides a way to produce option specifications suitable for use with the <a href="#argparse"><code>argparse</code></a> command. You can, of course, write the option specs by hand without using this command. But you might prefer to use this for the clarity it provides.</p> <p>The following <code>argparse</code> options are available:</p> <ul> <li>
<code>-s</code> or <code>--short</code> takes a single letter that is used as the short flag in the option being defined. This option is mandatory.</li> <li>
<code>-l</code> or <code>--long</code> takes a string that is used as the long flag in the option being defined. This option is optional and has no default. If no long flag is defined then only the short flag will be allowed when parsing arguments using the option spec.</li> <li>
<code>--long-only</code> means the option spec being defined will only allow the long flag name to be used. The short flag name must still be defined (i.e., <code>--short</code> must be specified) but it cannot be used when parsing args using this option spec.</li> <li>
<code>-o</code> or <code>--optional</code> means the option being defined can take a value but it is optional rather than required. If the option is seen more than once when parsing arguments only the last value seen is saved. This means the resulting flag variable created by <code>argparse</code> will zero elements if no value was given with the option else it will have exactly one element.</li> <li>
<code>-r</code> or <code>--required</code> means the option being defined requires a value. If the option is seen more than once when parsing arguments only the last value seen is saved. This means the resulting flag variable created by <code>argparse</code> will have exactly one element.</li> <li>
<code>--multiple-vals</code> means the option being defined requires a value each time it is seen. Each instance is stored. This means the resulting flag variable created by <code>argparse</code> will have one element for each instance of this option in the args.</li> <li>
<code>-h</code> or <code>--help</code> displays help about using this command.</li> </ul> <h3 id="fish_opt-examples">
 Examples</h3> <p>Define a single option spec for the boolean help flag:</p> <pre class="fish" data-language="fish">
set -l options (fish_opt -s h -l help)
argparse $options -- $argv
</pre>
<p>Same as above but with a second flag that requires a value:</p> <pre class="fish" data-language="fish">
set -l options (fish_opt -s h -l help)
set options $options (fish_opt -s m -l max --required-val)
argparse $options -- $argv
</pre>
<p>Same as above but with a third flag that can be given multiple times saving the value of each instance seen and only the long flag name (<code>--token</code>) can be used:</p> <pre class="fish" data-language="fish">
set -l options (fish_opt --short=h --long=help)
set options $options (fish_opt --short=m --long=max --required-val)
set options $options (fish_opt --short=t --long=token --multiple-vals --long-only)
argparse $options -- $argv
</pre>
<p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="fish_prompt">
 fish_prompt - define the appearance of the command line prompt</h2> <h3 id="fish_prompt-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
function fish_prompt
    ...
end
</pre>
<h3 id="fish_prompt-description">
 Description</h3> <p>By defining the <code>fish_prompt</code> function, the user can choose a custom prompt. The <code>fish_prompt</code> function is executed when the prompt is to be shown, and the output is used as a prompt.</p> <p>The exit status of commands within <code>fish_prompt</code> will not modify the value of <a href="../#variables-status">$status</a> outside of the <code>fish_prompt</code> function.</p> <p><code>fish</code> ships with a number of example prompts that can be chosen with the <code>fish_config</code> command.</p> <h3 id="fish_prompt-example">
 Example</h3> <p>A simple prompt:</p> <pre class="fish" data-language="fish">
function fish_prompt -d "Write out the prompt"
    printf '%s@%s%s%s%s&gt; ' (whoami) (hostname | cut -d . -f 1) \ 
            (set_color $fish_color_cwd) (prompt_pwd) (set_color normal)
end
</pre>
<p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="fish_right_prompt">
 fish_right_prompt - define the appearance of the right-side command line prompt</h2> <h3 id="fish_right_prompt-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
function fish_right_prompt
    ...
end
</pre>
<h3 id="fish_right_prompt-description">
 Description</h3> <p><code>fish_right_prompt</code> is similar to <code>fish_prompt</code>, except that it appears on the right side of the terminal window.</p> <p>Multiple lines are not supported in <code>fish_right_prompt</code>.</p> <h3 id="fish_right_prompt-example">
 Example</h3> <p>A simple right prompt:</p> <pre class="fish" data-language="fish">
function fish_right_prompt -d "Write out the right prompt"
    date '+%m/%d/%y'
end
</pre>
<p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="fish_update_completions">
 fish_update_completions - Update completions using manual pages</h2> <h3 id="fish_update_completions-description">
 Description</h3> <p><code>fish_update_completions</code> parses manual pages installed on the system, and attempts to create completion files in the <code>fish</code> configuration directory.</p> <p>This does not overwrite custom completions.</p> <p>There are no parameters for <code>fish_update_completions</code>.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="fish_vi_mode">
 fish_vi_mode - Enable vi mode</h2> <h3 id="fish_vi_mode-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
fish_vi_mode
</pre>
<h3 id="fish_vi_mode-description">
 Description</h3> <p>This function is deprecated. Please call <code>fish_vi_key_bindings directly</code></p> <p><code>fish_vi_mode</code> enters a vi-like command editing mode. To always start in vi mode, add <code>fish_vi_mode</code> to your <code>config.fish</code> file.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="for">
 for - perform a set of commands multiple times.</h2> <h3 id="for-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
for VARNAME in [VALUES...]; COMMANDS...; end
</pre>
<h3 id="for-description">
 Description</h3> <p><code>for</code> is a loop construct. It will perform the commands specified by <code>COMMANDS</code> multiple times. On each iteration, the local variable specified by <code>VARNAME</code> is assigned a new value from <code>VALUES</code>. If <code>VALUES</code> is empty, <code>COMMANDS</code> will not be executed at all. The <code>VARNAME</code> is visible when the loop terminates and will contain the last value assigned to it. If <code>VARNAME</code> does not already exist it will be set in the local scope. For our purposes if the <code>for</code> block is inside a function there must be a local variable with the same name. If the <code>for</code> block is not nested inside a function then global and universal variables of the same name will be used if they exist.</p> <h3 id="for-example">
 Example</h3> <pre class="fish" data-language="fish">
for i in foo bar baz; echo $i; end

# would output:
foo
bar
baz
</pre>
<h3 id="for-notes">
 Notes</h3> <p>The <code>VARNAME</code> was local to the for block in releases prior to 3.0.0. This means that if you did something like this:</p> <pre class="fish" data-language="fish">
for var in a b c
    if break_from_loop
        break
    end
end
echo $var
</pre>
<p>The last value assigned to <code>var</code> when the loop terminated would not be available outside the loop. What <code>echo $var</code> would write depended on what it was set to before the loop was run. Likely nothing.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="funced">
 funced - edit a function interactively</h2> <h3 id="funced-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
funced [OPTIONS] NAME
</pre>
<h3 id="funced-description">
 Description</h3> <p><code>funced</code> provides an interface to edit the definition of the function <code>NAME</code>.</p> <p>If the <code>$VISUAL</code> environment variable is set, it will be used as the program to edit the function. If <code>$VISUAL</code> is unset but <code>$EDITOR</code> is set, that will be used. Otherwise, a built-in editor will be used. Note that to enter a literal newline using the built-in editor you should press <span class="key"><em>Alt</em><span>-</span><b>Enter</b></span>. Pressing <span class="key"><b>Enter</b></span> signals that you are done editing the function. This does not apply to an external editor like emacs or vim.</p> <p>If there is no function called <code>NAME</code> a new function will be created with the specified name</p> <ul> <li>
<code>-e command</code> or <code>--editor command</code> Open the function body inside the text editor given by the command (for example, <code>-e vi</code>). The special command <code>fish</code> will use the built-in editor (same as specifying <code>-i</code>).</li> <li>
<code>-i</code> or <code>--interactive</code> Force opening the function body in the built-in editor even if <code>$VISUAL</code> or <code>$EDITOR</code> is defined.</li> <li>
<code>-s</code> or <code>--save</code> Automatically save the function after successfully editing it.</li> </ul> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="funcsave">
 funcsave - save the definition of a function to the user's autoload directory</h2> <h3 id="funcsave-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
funcsave FUNCTION_NAME
</pre>
<h3 id="funcsave-description">
 Description</h3> <p><code>funcsave</code> saves the current definition of a function to a file in the fish configuration directory. This function will be automatically loaded by current and future fish sessions. This can be useful if you have interactively created a new function and wish to save it for later use.</p> <p>Note that because fish loads functions on-demand, saved functions will not function as <a href="../#event">event handlers</a> until they are run or sourced otherwise. To activate an event handler for every new shell, add the function to your <a href="../#initialization">shell initialization file</a> instead of using <code>funcsave</code>.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="function">
 function - create a function</h2> <h3 id="function-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
function NAME [OPTIONS]; BODY; end
</pre>
<h3 id="function-description">
 Description</h3> <p><code>function</code> creates a new function <code>NAME</code> with the body <code>BODY</code>.</p> <p>A function is a list of commands that will be executed when the name of the function is given as a command.</p> <p>The following options are available:</p> <ul> <li>
<code>-a NAMES</code> or <code>--argument-names NAMES</code> assigns the value of successive command-line arguments to the names given in NAMES.</li> <li>
<code>-d DESCRIPTION</code> or <code>--description=DESCRIPTION</code> is a description of what the function does, suitable as a completion description.</li> <li>
<code>-w WRAPPED_COMMAND</code> or <code>--wraps=WRAPPED_COMMAND</code> causes the function to inherit completions from the given wrapped command. See the documentation for <a href="#complete"><code>complete</code></a> for more information.</li> <li>
<code>-e</code> or <code>--on-event EVENT_NAME</code> tells fish to run this function when the specified named event is emitted. Fish internally generates named events e.g. when showing the prompt.</li> <li>
<code>-v</code> or <code>--on-variable VARIABLE_NAME</code> tells fish to run this function when the variable VARIABLE_NAME changes value.</li> <li>
<code>-j PGID</code> or <code>--on-job-exit PGID</code> tells fish to run this function when the job with group ID PGID exits. Instead of PGID, the string 'caller' can be specified. This is only legal when in a command substitution, and will result in the handler being triggered by the exit of the job which created this command substitution.</li> <li>
<code>-p PID</code> or <code>--on-process-exit PID</code> tells fish to run this function when the fish child process with process ID PID exits. Instead of a PID, for backward compatibility, "`%self`" can be specified as an alias for <code>$fish_pid</code>, and the function will be run when the current fish instance exits.</li> <li>
<code>-s</code> or <code>--on-signal SIGSPEC</code> tells fish to run this function when the signal SIGSPEC is delivered. SIGSPEC can be a signal number, or the signal name, such as SIGHUP (or just HUP).</li> <li>
<code>-S</code> or <code>--no-scope-shadowing</code> allows the function to access the variables of calling functions. Normally, any variables inside the function that have the same name as variables from the calling function are "shadowed", and their contents is independent of the calling function.</li> <li>
<code>-V</code> or <code>--inherit-variable NAME</code> snapshots the value of the variable <code>NAME</code> and defines a local variable with that same name and value when the function is defined. This is similar to a closure in other languages like Python but a bit different. Note the word "snapshot" in the first sentence. If you change the value of the variable after defining the function, even if you do so in the same scope (typically another function) the new value will not be used by the function you just created using this option. See the <code>function notify</code> example below for how this might be used.</li> </ul> <p>If the user enters any additional arguments after the function, they are inserted into the environment <a href="../#variables-arrays">variable array</a> <code>$argv</code>. If the <code>--argument-names</code> option is provided, the arguments are also assigned to names specified in that option.</p> <p>By using one of the event handler switches, a function can be made to run automatically at specific events. The user may generate new events using the <a href="#emit">emit</a> builtin. Fish generates the following named events:</p> <ul> <li>
<code>fish_prompt</code>, which is emitted whenever a new fish prompt is about to be displayed.</li> <li>
<code>fish_command_not_found</code>, which is emitted whenever a command lookup failed.</li> <li>
<p class="startli"><code>fish_preexec</code>, which is emitted right before executing an interactive command. The commandline is passed as the first parameter.</p> <p class="startli">Note: This event will be emitted even if the command is invalid. The commandline parameter includes the entire commandline verbatim, and may potentially include newlines.</p> </li> <li>
<p class="startli"><code>fish_postexec</code>, which is emitted right after executing an interactive command. The commandline is passed as the first parameter.</p> <p class="startli">Note: This event will be emitted even if the command is invalid. The commandline parameter includes the entire commandline verbatim, and may potentially include newlines.</p> </li> <li>
<code>fish_exit</code> is emitted right before fish exits.</li> </ul> <h3 id="function-example">
 Example</h3> <pre class="fish" data-language="fish">
function ll
    ls -l $argv
end
</pre>
<p>will run the <code>ls</code> command, using the <code>-l</code> option, while passing on any additional files and switches to <code>ls</code>.</p> <pre class="fish" data-language="fish">
function mkdir -d "Create a directory and set CWD"
    command mkdir $argv
    if test $status = 0
        switch $argv[(count $argv)]
            case '-*'

            case '*'
                cd $argv[(count $argv)]
                return
        end
    end
end
</pre>
<p>This will run the <code>mkdir</code> command, and if it is successful, change the current working directory to the one just created.</p> <pre class="fish" data-language="fish">
function notify
    set -l job (jobs -l -g)
    or begin; echo "There are no jobs" &gt;&amp;2; return 1; end

    function _notify_job_$job --on-job-exit $job --inherit-variable job
        echo -n \a ## beep
        functions -e _notify_job_$job
    end
end
</pre>
<p>This will beep when the most recent job completes.</p> <h3 id="function-notes">
 Notes</h3> <p>Note that events are only received from the current fish process as there is no way to send events from one fish process to another.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="functions">
 functions - print or erase functions</h2> <h3 id="functions-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
functions [ -a | --all ] [ -n | --names ]
functions [ -D | --details ] [ -v ] FUNCTION
functions -c OLDNAME NEWNAME
functions -d DESCRIPTION FUNCTION
functions [ -e | -q ] FUNCTIONS...
</pre>
<h3 id="functions-description">
 Description</h3> <p><code>functions</code> prints or erases functions.</p> <p>The following options are available:</p> <ul> <li>
<code>-a</code> or <code>--all</code> lists all functions, even those whose name starts with an underscore.</li> <li>
<code>-c OLDNAME NEWNAME</code> or <code>--copy OLDNAME NEWNAME</code> creates a new function named NEWNAME, using the definition of the OLDNAME function.</li> <li>
<code>-d DESCRIPTION</code> or <code>--description=DESCRIPTION</code> changes the description of this function.</li> <li>
<code>-e</code> or <code>--erase</code> causes the specified functions to be erased.</li> <li>
<code>-D</code> or <code>--details</code> reports the path name where each function is defined or could be autoloaded, <code>stdin</code> if the function was defined interactively or on the command line or by reading stdin, and <code>n/a</code> if the function isn't available. If the <code>--verbose</code> option is also specified then five lines are written:<ol type="1"> <li>the pathname as already described,</li> <li>
<code>autoloaded</code>, <code>not-autoloaded</code> or <code>n/a</code>,</li> <li>the line number within the file or zero if not applicable,</li> <li>
<code>scope-shadowing</code> if the function shadows the vars in the calling function (the normal case if it wasn't defined with <code>--no-scope-shadowing</code>), else <code>no-scope-shadowing</code>, or <code>n/a</code> if the function isn't defined,</li> <li>the function description minimally escaped so it is a single line or <code>n/a</code> if the function isn't defined.</li> </ol> </li> </ul> <p>You should not assume that only five lines will be written since we may add additional information to the output in the future.</p> <ul> <li>
<code>-n</code> or <code>--names</code> lists the names of all defined functions.</li> <li>
<code>-q</code> or <code>--query</code> tests if the specified functions exist.</li> <li>
<code>-v</code> or <code>--verbose</code> will make some output more verbose.</li> <li>
<code>-H</code> or <code>--handlers</code> will show all event handlers.</li> <li>
<code>-t</code> or <code>--handlers-type TYPE</code> will show all event handlers matching the given type</li> </ul> <p>The default behavior of <code>functions</code>, when called with no arguments, is to print the names of all defined functions. Unless the <code>-a</code> option is given, no functions starting with underscores are not included in the output.</p> <p>If any non-option parameters are given, the definition of the specified functions are printed.</p> <p>Automatically loaded functions cannot be removed using <code>functions -e</code>. Either remove the definition file or change the $fish_function_path variable to remove autoloaded functions.</p> <p>Copying a function using <code>-c</code> copies only the body of the function, and does not attach any event notifications from the original function.</p> <p>Only one function's description can be changed in a single invocation of <code>functions -d</code>.</p> <p>The exit status of <code>functions</code> is the number of functions specified in the argument list that do not exist, which can be used in concert with the <code>-q</code> option.</p> <h3 id="functions-example">
 Examples</h3> <pre class="fish" data-language="fish">
functions -n
# Displays a list of currently-defined functions

functions -c foo bar
# Copies the 'foo' function to a new function called 'bar'

functions -e bar
# Erases the function `bar`
</pre>
<p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="help">
 help - display fish documentation</h2> <h3 id="help-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
help [SECTION]
</pre>
<h3 id="help-description">
 Description</h3> <p><code>help</code> displays the fish help documentation.</p> <p>If a <code>SECTION</code> is specified, the help for that command is shown.</p> <p>If the BROWSER environment variable is set, it will be used to display the documentation. Otherwise, fish will search for a suitable browser.</p> <p>If you prefer to use a different browser (other than as described above) for fish help, you can set the fish_help_browser variable. This variable may be set as an array, where the first element is the browser command and the rest are browser options.</p> <p>Note that most builtin commands display their help in the terminal when given the <code>--help</code> option.</p> <h3 id="help-example">
 Example</h3> <p><code>help fg</code> shows the documentation for the <code>fg</code> builtin.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="history">
 history - Show and manipulate command history</h2> <h3 id="history-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
history search [ --show-time ] [ --case-sensitive ] [ --exact | --prefix | --contains ] [ --max=n ] [ --null ] [ -R | --reverse ] [ "search string"... ]
history delete [ --show-time ] [ --case-sensitive ] [ --exact | --prefix | --contains ] "search string"...
history merge
history save
history clear
history ( -h | --help )
</pre>
<h3 id="history-description">
 Description</h3> <p><code>history</code> is used to search, delete, and otherwise manipulate the history of interactive commands.</p> <p>The following operations (sub-commands) are available:</p> <ul> <li>
<code>search</code> returns history items matching the search string. If no search string is provided it returns all history items. This is the default operation if no other operation is specified. You only have to explicitly say <code>history search</code> if you wish to search for one of the subcommands. The <code>--contains</code> search option will be used if you don't specify a different search option. Entries are ordered newest to oldest unless you use the <code>--reverse</code> flag. If stdout is attached to a tty the output will be piped through your pager by the history function. The history builtin simply writes the results to stdout.</li> <li>
<code>delete</code> deletes history items. Without the <code>--prefix</code> or <code>--contains</code> options, the exact match of the specified text will be deleted. If you don't specify <code>--exact</code> a prompt will be displayed before any items are deleted asking you which entries are to be deleted. You can enter the word "all" to delete all matching entries. You can enter a single ID (the number in square brackets) to delete just that single entry. You can enter more than one ID separated by a space to delete multiple entries. Just press [enter] to not delete anything. Note that the interactive delete behavior is a feature of the history function. The history builtin only supports <code>--exact --case-sensitive</code> deletion.</li> <li>
<code>merge</code> immediately incorporates history changes from other sessions. Ordinarily <code>fish</code> ignores history changes from sessions started after the current one. This command applies those changes immediately.</li> <li>
<code>save</code> immediately writes all changes to the history file. The shell automatically saves the history file; this option is provided for internal use and should not normally need to be used by the user.</li> <li>
<code>clear</code> clears the history file. A prompt is displayed before the history is erased asking you to confirm you really want to clear all history unless <code>builtin history</code> is used.</li> </ul> <p>The following options are available:</p> <p>These flags can appear before or immediately after one of the sub-commands listed above.</p> <ul> <li>
<code>-C</code> or <code>--case-sensitive</code> does a case-sensitive search. The default is case-insensitive. Note that prior to fish 2.4.0 the default was case-sensitive.</li> <li>
<code>-c</code> or <code>--contains</code> searches or deletes items in the history that contain the specified text string. This is the default for the <code>--search</code> flag. This is not currently supported by the <code>delete</code> subcommand.</li> <li>
<code>-e</code> or <code>--exact</code> searches or deletes items in the history that exactly match the specified text string. This is the default for the <code>delete</code> subcommand. Note that the match is case-insensitive by default. If you really want an exact match, including letter case, you must use the <code>-C</code> or <code>--case-sensitive</code> flag.</li> <li>
<code>-p</code> or <code>--prefix</code> searches or deletes items in the history that begin with the specified text string. This is not currently supported by the <code>--delete</code> flag.</li> <li>
<code>-t</code> or <code>--show-time</code> prepends each history entry with the date and time the entry was recorded. By default it uses the strftime format <code># cn</code>. You can specify another format; e.g., <code>--show-time="%Y-%m-%d %H:%M:%S "</code> or <code>--show-time="%a%I%p"</code>. The short option, <code>-t</code>, doesn't accept a strftime format string; it only uses the default format. Any strftime format is allowed, including <code>s</code> to get the raw UNIX seconds since the epoch.</li> <li>
<code>-z</code> or <code>--null</code> causes history entries written by the search operations to be terminated by a NUL character rather than a newline. This allows the output to be processed by <code>read -z</code> to correctly handle multiline history entries.</li> <li>
<code>-&lt;number&gt;</code> <code>-n &lt;number&gt;</code> or <code>--max=&lt;number&gt;</code> limits the matched history items to the first "n" matching entries. This is only valid for <code>history search</code>.</li> <li>
<code>-R</code> or <code>--reverse</code> causes the history search results to be ordered oldest to newest. Which is the order used by most shells. The default is newest to oldest.</li> <li>
<code>-h</code> or <code>--help</code> display help for this command.</li> </ul> <h3 id="history-examples">
 Example</h3> <pre class="fish" data-language="fish">
history clear
# Deletes all history items

history search --contains "foo"
# Outputs a list of all previous commands containing the string "foo".

history delete --prefix "foo"
# Interactively deletes commands which start with "foo" from the history.
# You can select more than one entry by entering their IDs separated by a space.
</pre>
<h3 id="customizing-the-histfile">
 Customizing the name of the history file</h3> <p>By default interactive commands are logged to <code>$XDG_DATA_HOME/fish/fish_history</code> (typically <code>~/.local/share/fish/fish_history</code>).</p> <p>You can set the <code>fish_history</code> variable to another name for the current shell session. The default value (when the variable is unset) is <code>fish</code> which corresponds to <code>$XDG_DATA_HOME/fish/fish_history</code>. If you set it to e.g. <code>fun</code>, the history would be written to <code>$XDG_DATA_HOME/fish/fun_history</code>. An empty string means history will not be stored at all. This is similar to the private session features in web browsers.</p> <p>You can change <code>fish_history</code> at any time (by using <code>set -x fish_history "session_name"</code>) and it will take effect right away. If you set it to <code>"default"</code>, it will use the default session name (which is <code>"fish"</code>).</p> <p>Other shells such as bash and zsh use a variable named <code>HISTFILE</code> for a similar purpose. Fish uses a different name to avoid conflicts and signal that the behavior is different (session name instead of a file path). Also, if you set the var to anything other than <code>fish</code> or <code>default</code> it will inhibit importing the bash history. That's because the most common use case for this feature is to avoid leaking private or sensitive history when giving a presentation.</p> <h3 id="history-notes">
 Notes</h3> <p>If you specify both <code>--prefix</code> and <code>--contains</code> the last flag seen is used.</p> <p>Note that for backwards compatibility each subcommand can also be specified as a long option. For example, rather than <code>history search</code> you can type <code>history --search</code>. Those long options are deprecated and will be removed in a future release.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="if">
 if - conditionally execute a command</h2> <h3 id="if-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
if CONDITION; COMMANDS_TRUE...;
[else if CONDITION2; COMMANDS_TRUE2...;]
[else; COMMANDS_FALSE...;]
end
</pre>
<h3 id="if-description">
 Description</h3> <p><code>if</code> will execute the command <code>CONDITION</code>. If the condition's exit status is 0, the commands <code>COMMANDS_TRUE</code> will execute. If the exit status is not 0 and <code>else</code> is given, <code>COMMANDS_FALSE</code> will be executed.</p> <p>You can use <a href="#and"><code>and</code></a> or <a href="#or"><code>or</code></a> in the condition. See the second example below.</p> <p>The exit status of the last foreground command to exit can always be accessed using the <a href="../#variables-status">$status</a> variable.</p> <h3 id="if-example">
 Example</h3> <p>The following code will print <code>foo.txt exists</code> if the file foo.txt exists and is a regular file, otherwise it will print <code>bar.txt exists</code> if the file bar.txt exists and is a regular file, otherwise it will print <code>foo.txt and bar.txt do not exist</code>.</p> <pre class="fish" data-language="fish">
if test -f foo.txt
    echo foo.txt exists
else if test -f bar.txt
    echo bar.txt exists
else
    echo foo.txt and bar.txt do not exist
end
</pre>
<p>The following code will print "foo.txt exists and is readable" if foo.txt is a regular file and readable </p> <pre class="fish" data-language="fish">
if test -f foo.txt
   and test -r foo.txt
   echo "foo.txt exists and is readable"
end
</pre>
<p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="isatty">
 isatty - test if a file descriptor is a tty.</h2> <h3 id="isatty-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
isatty [FILE DESCRIPTOR]
</pre>
<h3 id="isatty-description">
 Description</h3> <p><code>isatty</code> tests if a file descriptor is a tty.</p> <p><code>FILE DESCRIPTOR</code> may be either the number of a file descriptor, or one of the strings <code>stdin</code>, <code>stdout</code>, or <code>stderr</code>.</p> <p>If the specified file descriptor is a tty, the exit status of the command is zero. Otherwise, the exit status is non-zero. No messages are printed to standard error.</p> <h3 id="isatty-examples">
 Examples</h3> <p>From an interactive shell, the commands below exit with a return value of zero:</p> <pre class="fish" data-language="fish">
isatty
isatty stdout
isatty 2
echo | isatty 1
</pre>
<p>And these will exit non-zero:</p> <pre class="fish" data-language="fish">
echo | isatty
isatty 9
isatty stdout &gt; file
isatty 2 2&gt; file
</pre>
<p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="jobs">
 jobs - print currently running jobs</h2> <h3 id="jobs-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
jobs [OPTIONS] [PID]
</pre>
<h3 id="jobs-description">
 Description</h3> <p><code>jobs</code> prints a list of the currently running <a href="../#syntax-job-control">jobs</a> and their status.</p> <p>jobs accepts the following switches:</p> <ul> <li>
<code>-c</code> or <code>--command</code> prints the command name for each process in jobs.</li> <li>
<code>-g</code> or <code>--group</code> only prints the group ID of each job.</li> <li>
<code>-l</code> or <code>--last</code> prints only the last job to be started.</li> <li>
<code>-p</code> or <code>--pid</code> prints the process ID for each process in all jobs.</li> <li>
<code>-q</code> or <code>--quiet</code> prints no output for evaluation of jobs by exit code only.</li> </ul> <p>On systems that supports this feature, jobs will print the CPU usage of each job since the last command was executed. The CPU usage is expressed as a percentage of full CPU activity. Note that on multiprocessor systems, the total activity may be more than 100%.</p> <p>The exit code of the <code>jobs</code> builtin is <code>0</code> if there are running background jobs and <code>1</code> otherwise.</p> <h3 id="prints">
 no output.</h3> <h3 id="jobs-example">
 Example</h3> <p><code>jobs</code> outputs a summary of the current jobs.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="math">
 math - Perform mathematics calculations</h2> <h3 id="math-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
math [-sN | --scale=N] [--] EXPRESSION
</pre>
<h3 id="math-description">
 Description</h3> <p><code>math</code> is used to perform mathematical calculations. It supports all the usual operations such as addition, subtraction, etc. As well as functions like <code>abs()</code>, <code>sqrt()</code> and <code>log2()</code>.</p> <p>By default, the output is as a float with trailing zeroes trimmed. To get a fixed representation, the <code>--scale</code> option can be used, including <code>--scale=0</code> for integer output.</p> <p>Keep in mind that parameter expansion takes before expressions are evaluated. This can be very useful in order to perform calculations involving shell variables or the output of command substitutions, but it also means that parenthesis and the asterisk glob character have to be escaped or quoted.</p> <p><code>math</code> ignores whitespace between arguments and takes its input as multiple arguments (internally joined with a space), so <code>math 2 +2</code> and <code>math "2 +    2"</code> work the same. <code>math 2 2</code> is an error.</p> <p>The following options are available:</p> <ul> <li>
<code>-sN</code> or <code>--scale=N</code> sets the scale of the result. <code>N</code> must be an integer. A scale of zero causes results to be rounded down to the nearest integer. So <code>3/2</code> returns <code>1</code> rather than <code>2</code> which <code>1.5</code> would normally round to. This is for compatibility with <code>bc</code> which was the basis for this command prior to fish 3.0.0. Scale values greater than zero causes the result to be rounded using the usual rules to the specified number of decimal places.</li> </ul> <h3 id="return-values">
 Return Values</h3> <p>If the expression is successfully evaluated and doesn't over/underflow or return NaN the return <code>status</code> is zero (success) else one.</p> <h3 id="math-syntax">
 Syntax</h3> <p><code>math</code> knows some operators, constants, functions and can (obviously) read numbers.</p> <p>For numbers, <code>.</code> is always the radix character regardless of locale - <code>2.5</code>, not <code>2,5</code>. Scientific notation (<code>10e5</code>) is also available.</p> <h3 id="math-operators">
 Operators</h3> <p><code>math</code> knows the following operators:</p> <ul> <li>
<code>+</code> for addition and <code>-</code> for subtraction.</li> <li>
<code>*</code> for multiplication, <code>/</code> for division.</li> <li>
<code>^</code> for exponentiation.</li> <li>
<code>%</code> for modulo.</li> <li>
<code>(</code> and <code>)</code> for grouping.</li> </ul> <p>They are all used in an infix manner - <code>5 + 2</code>, not <code>+ 5 2</code>.</p> <h3 id="math-constants">
 Constants</h3> <p><code>math</code> knows the following constants:</p> <ul> <li>
<code>e</code> - Euler's number.</li> <li>
<code>pi</code> - You know that one. Half of Tau. (Tau is not implemented)</li> </ul> <p>Use them without a leading <code>$</code> - <code>pi - 3</code> should be about 0.</p> <h3 id="math-functions">
 Functions</h3> <p><code>math</code> supports the following functions:</p> <ul> <li><code>abs</code></li> <li><code>acos</code></li> <li><code>asin</code></li> <li><code>atan</code></li> <li><code>atan2</code></li> <li><code>ceil</code></li> <li><code>cos</code></li> <li><code>cosh</code></li> <li>
<code>exp</code> - the base-e exponential function</li> <li>
<code>fac</code> - factorial</li> <li><code>floor</code></li> <li><code>ln</code></li> <li>
<code>log</code> or <code>log10</code> - the base-10 logarithm</li> <li><code>ncr</code></li> <li><code>npr</code></li> <li>
<code>pow(x,y)</code> returns x to the y (and can be written as <code>x ^ y</code>)</li> <li>
<code>round</code> - rounds to the nearest integer, away from 0</li> <li><code>sin</code></li> <li><code>sinh</code></li> <li><code>sqrt</code></li> <li><code>tan</code></li> <li><code>tanh</code></li> </ul> <p>All of the trigonometric functions use radians.</p> <h3 id="math-example">
 Examples</h3> <p><code>math 1+1</code> outputs 2.</p> <p><code>math $status - 128</code> outputs the numerical exit status of the last command minus 128.</p> <p><code>math 10 / 6</code> outputs <code>1.666667</code>.</p> <p><code>math -s0 10.0 / 6.0</code> outputs <code>1</code>.</p> <p><code>math -s3 10 / 6</code> outputs <code>1.666</code>.</p> <p><code>math "sin(pi)"</code> outputs <code>0</code>.</p> <h3 id="math-notes">
 Compatibility notes</h3> <p>Fish 1.x and 2.x releases relied on the <code>bc</code> command for handling <code>math</code> expressions. Starting with fish 3.0.0 fish uses the tinyexpr library and evaluates the expression without the involvement of any external commands.</p> <p>You don't need to use <code>--</code> before the expression even if it begins with a minus sign which might otherwise be interpreted as an invalid option. If you do insert <code>--</code> before the expression it will cause option scanning to stop just like for every other command and it won't be part of the expression.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="nextd">
 nextd - move forward through directory history</h2> <h3 id="nextd-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
nextd [ -l | --list ] [POS]
</pre>
<h3 id="nextd-description">
 Description</h3> <p><code>nextd</code> moves forwards <code>POS</code> positions in the history of visited directories; if the end of the history has been hit, a warning is printed.</p> <p>If the <code>-l</code> or <code>--list</code> flag is specified, the current directory history is also displayed.</p> <p>Note that the <code>cd</code> command limits directory history to the 25 most recently visited directories. The history is stored in the <code>$dirprev</code> and <code>$dirnext</code> variables which this command manipulates.</p> <p>You may be interested in the <a href="../commands/#cdh"><code>cdh</code></a> command which provides a more intuitive way to navigate to recently visited directories.</p> <h3 id="nextd-example">
 Example</h3> <pre class="fish" data-language="fish">
cd /usr/src
# Working directory is now /usr/src

cd /usr/src/fish-shell
# Working directory is now /usr/src/fish-shell

prevd
# Working directory is now /usr/src

nextd
# Working directory is now /usr/src/fish-shell
</pre>
<p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="not">
 not - negate the exit status of a job</h2> <h3 id="not-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
not COMMAND [OPTIONS...]
</pre>
<h3 id="not-description">
 Description</h3> <p><code>not</code> negates the exit status of another command. If the exit status is zero, <code>not</code> returns 1. Otherwise, <code>not</code> returns 0.</p> <h3 id="not-example">
 Example</h3> <p>The following code reports an error and exits if no file named spoon can be found.</p> <pre class="fish" data-language="fish">
if not test -f spoon
    echo There is no spoon
    exit 1
end
</pre>
<p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="open">
 open - open file in its default application</h2> <h3 id="open-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
open FILES...
</pre>
<h3 id="open-description">
 Description</h3> <p><code>open</code> opens a file in its default application, using the appropriate tool for the operating system. On GNU/Linux, this requires the common but optional <code>xdg-open</code> utility, from the <code>xdg-utils</code> package.</p> <p>Note that this function will not be used if a command by this name exists (which is the case on macOS or Haiku).</p> <h3 id="open-example">
 Example</h3> <p><code>open *.txt</code> opens all the text files in the current directory using your system's default text editor.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="or">
 or - conditionally execute a command</h2> <h3 id="or-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
COMMAND1; or COMMAND2
</pre>
<h3 id="or-description">
 Description</h3> <p><code>or</code> is used to execute a command if the previous command was not successful (returned a status of something other than 0).</p> <p><code>or</code> statements may be used as part of the condition in an <a href="#if"><code>and</code></a> or <a href="#while"><code>while</code></a> block. See the documentation for <a href="#if"><code>if</code></a> and <a href="#while"><code>while</code></a> for examples.</p> <p><code>or</code> does not change the current exit status itself, but the command it runs most likely will. The exit status of the last foreground command to exit can always be accessed using the <a href="../#variables-status">$status</a> variable.</p> <h3 id="or-example">
 Example</h3> <p>The following code runs the <code>make</code> command to build a program. If the build succeeds, the program is installed. If either step fails, <code>make clean</code> is run, which removes the files created by the build process.</p> <pre class="fish" data-language="fish">
make; and make install; or make clean
</pre>
<p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="popd">
 popd - move through directory stack</h2> <h3 id="popd-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
popd
</pre>
<h3 id="popd-description">
 Description</h3> <p><code>popd</code> removes the top directory from the directory stack and changes the working directory to the new top directory. Use <a href="#pushd"><code>pushd</code></a> to add directories to the stack.</p> <p>You may be interested in the <a href="../commands/#cdh"><code>cdh</code></a> command which provides a more intuitive way to navigate to recently visited directories.</p> <h3 id="popd-example">
 Example</h3> <pre class="fish" data-language="fish">
pushd /usr/src
# Working directory is now /usr/src
# Directory stack contains /usr/src

pushd /usr/src/fish-shell
# Working directory is now /usr/src/fish-shell
# Directory stack contains /usr/src /usr/src/fish-shell

popd
# Working directory is now /usr/src
# Directory stack contains /usr/src
</pre>
<p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="prevd">
 prevd - move backward through directory history</h2> <h3 id="prevd-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
prevd [ -l | --list ] [POS]
</pre>
<h3 id="prevd-description">
 Description</h3> <p><code>prevd</code> moves backwards <code>POS</code> positions in the history of visited directories; if the beginning of the history has been hit, a warning is printed.</p> <p>If the <code>-l</code> or <code>--list</code> flag is specified, the current history is also displayed.</p> <p>Note that the <code>cd</code> command limits directory history to the 25 most recently visited directories. The history is stored in the <code>$dirprev</code> and <code>$dirnext</code> variables which this command manipulates.</p> <p>You may be interested in the <a href="../commands/#cdh"><code>cdh</code></a> command which provides a more intuitive way to navigate to recently visited directories.</p> <h3 id="prevd-example">
 Example</h3> <pre class="fish" data-language="fish">
cd /usr/src
# Working directory is now /usr/src

cd /usr/src/fish-shell
# Working directory is now /usr/src/fish-shell

prevd
# Working directory is now /usr/src

nextd
# Working directory is now /usr/src/fish-shell
</pre>
<p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="printf">
 printf - display text according to a format string</h2> <h3 id="printf-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
printf format [argument...]
</pre>
<h3 id="printf-description">
 Description</h3> <p>printf formats the string FORMAT with ARGUMENT, and displays the result.</p> <p>The string FORMAT should contain format specifiers, each of which are replaced with successive arguments according to the specifier. Specifiers are detailed below, and are taken from the C library function <code>printf(3)</code>.</p> <p>Unlike <code>echo</code>, <code>printf</code> does not append a new line unless it is specified as part of the string.</p> <p>Valid format specifiers are:</p> <ul> <li>
<code>%d</code>: Argument will be used as decimal integer (signed or unsigned)</li> <li>
<code>%i</code>: Argument will be used as a signed integer</li> <li>
<code>%o</code>: An octal unsigned integer</li> <li>
<code>%u</code>: An unsigned decimal integer</li> <li>
<code>%x</code> or <code>%X</code>: An unsigned hexadecimal integer</li> <li>
<code>%f</code>, <code>%g</code> or <code>%G</code>: A floating-point number</li> <li>
<code>%e</code> or <code>%E</code>: A floating-point number in scientific (XXXeYY) notation</li> <li>
<code>%s</code>: A string</li> <li>
<code>%b</code>: As a string, interpreting backslash escapes, except that octal escapes are of the form \0 or \0ooo.</li> </ul> <p><code>%%</code> signifies a literal "%".</p> <p>Note that conversion may fail, e.g. "102.234" will not losslessly convert to an integer, causing printf to print an error.</p> <p>printf also knows a number of backslash escapes:</p>
<ul> <li>
<code>\"</code> double quote</li> <li>
<code>\\</code> backslash</li> <li>
<code>\a</code> alert (bell)</li> <li>
<code>\b</code> backspace</li> <li>
<code>\c</code> produce no further output</li> <li>
<code>\e</code> escape</li> <li>
<code>\f</code> form feed</li> <li>
<code>\n</code> new line</li> <li>
<code>\r</code> carriage return</li> <li>
<code>\t</code> horizontal tab</li> <li>
<code>\v</code> vertical tab</li> <li>
<code>\ooo</code> octal number (ooo is 1 to 3 digits)</li> <li>
<code>\xhh</code> hexadecimal number (hhh is 1 to 2 digits)</li> <li>
<code>\uhhhh</code> 16-bit Unicode character (hhhh is 4 digits)</li> <li>
<code>\Uhhhhhhhh</code> 32-bit Unicode character (hhhhhhhh is 8 digits)</li> </ul> <p>The <code>format</code> argument is re-used as many times as necessary to convert all of the given arguments. If a format specifier is not appropriate for the given argument, an error is printed. For example, ‘printf ’d' "102.234"` produces an error, as "102.234" cannot be formatted as an integer.</p> <p>This file has been imported from the printf in GNU Coreutils version 6.9. If you would like to use a newer version of printf, for example the one shipped with your OS, try <code>command printf</code>.</p> <h3 id="printf-example">
 Example</h3> <pre class="fish" data-language="fish">
printf '%s\t%s\n' flounder fish
</pre>
<p> Will print "flounder fish" (separated with a tab character), followed by a newline character. This is useful for writing completions, as fish expects completion scripts to output the option followed by the description, separated with a tab character.</p> <pre class="fish" data-language="fish">
printf '%s:%d' "Number of bananas in my pocket" 42
</pre>
<p> Will print "Number of bananas in my pocket: 42", <em>without</em> a newline.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="prompt_pwd">
 prompt_pwd - Print pwd suitable for prompt</h2> <h3 id="prompt_pwd-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
prompt_pwd
</pre>
<h3 id="prompt_pwd-description">
 Description</h3> <p>prompt_pwd is a function to print the current working directory in a way suitable for prompts. It will replace the home directory with "~" and shorten every path component but the last to a default of one character.</p> <p>To change the number of characters per path component, set $fish_prompt_pwd_dir_length to the number of characters. Setting it to 0 or an invalid value will disable shortening entirely.</p> <h3 id="prompt_pwd-example">
 Examples</h3> <pre class="fish cli-dark" data-language="fish">
&gt; cd ~/
&gt; echo $PWD
/home/alfa

&gt; prompt_pwd
~

&gt; cd /tmp/banana/sausage/with/mustard
&gt; prompt_pwd
/t/b/s/w/mustard

&gt; set -g fish_prompt_pwd_dir_length 3
&gt; prompt_pwd
/tmp/ban/sau/wit/mustard
</pre>
<p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="psub">
 psub - perform process substitution</h2> <h3 id="psub-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
COMMAND1 ( COMMAND2 | psub [-F | --fifo] [-f | --file] [-s SUFFIX])
</pre>
<h3 id="psub-description">
 Description</h3> <p>Some shells (e.g., ksh, bash) feature a syntax that is a mix between command substitution and piping, called process substitution. It is used to send the output of a command into the calling command, much like command substitution, but with the difference that the output is not sent through commandline arguments but through a named pipe, with the filename of the named pipe sent as an argument to the calling program. <code>psub</code> combined with a regular command substitution provides the same functionality.</p> <p>The following options are available:</p> <ul> <li>
<code>-f</code> or <code>--file</code> will cause psub to use a regular file instead of a named pipe to communicate with the calling process. This will cause <code>psub</code> to be significantly slower when large amounts of data are involved, but has the advantage that the reading process can seek in the stream. This is the default.</li> <li>
<code>-F</code> or <code>--fifo</code> will cause psub to use a named pipe rather than a file. You should only use this if the command produces no more than 8 KiB of output. The limit on the amount of data a FIFO can buffer varies with the OS but is typically 8 KiB, 16 KiB or 64 KiB. If you use this option and the command on the left of the psub pipeline produces more output a deadlock is likely to occur.</li> <li>
<code>-s</code> or <code>--suffix</code> will append SUFFIX to the filename.</li> </ul> <h3 id="psub-example">
 Example</h3> <pre class="fish" data-language="fish">
diff (sort a.txt | psub) (sort b.txt | psub)
# shows the difference between the sorted versions of files `a.txt` and `b.txt`.

source-highlight -f esc (cpp main.c | psub -f -s .c)
# highlights `main.c` after preprocessing as a C source.
</pre>
<p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="pushd">
 pushd - push directory to directory stack</h2> <h3 id="pushd-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
pushd [DIRECTORY]
</pre>
<h3 id="pushd-description">
 Description</h3> <p>The <code>pushd</code> function adds <code>DIRECTORY</code> to the top of the directory stack and makes it the current working directory. <a href="#popd"><code>popd</code></a> will pop it off and return to the original directory.</p> <p>Without arguments, it exchanges the top two directories in the stack.</p> <p><code>pushd +NUMBER</code> rotates the stack counter-clockwise i.e. from bottom to top</p> <p><code>pushd -NUMBER</code> rotates clockwise i.e. top to bottom.</p> <p>See also <code>dirs</code> and <code>dirs -c</code>.</p> <p>You may be interested in the <a href="../commands/#cdh"><code>cdh</code></a> command which provides a more intuitive way to navigate to recently visited directories.</p> <h3 id="pushd-example">
 Example</h3> <pre class="fish" data-language="fish">
pushd /usr/src
# Working directory is now /usr/src
# Directory stack contains /usr/src

pushd /usr/src/fish-shell
# Working directory is now /usr/src/fish-shell
# Directory stack contains /usr/src /usr/src/fish-shell

pushd /tmp/
# Working directory is now /tmp
# Directory stack contains /tmp /usr/src /usr/src/fish-shell

pushd +1
# Working directory is now /usr/src
# Directory stack contains /usr/src /usr/src/fish-shell /tmp

popd
# Working directory is now /usr/src/fish-shell
# Directory stack contains /usr/src/fish-shell /tmp
</pre>
<p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="pwd">
 pwd - output the current working directory</h2> <h3 id="pwd-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
pwd
</pre>
<h3 id="pwd-description">
 Description</h3> <p><code>pwd</code> outputs (prints) the current working directory.</p> <p>The following options are available:</p> <ul> <li>
<code>-L</code>, Output the logical working directory, without resolving symlinks (default behavior).</li> <li>
<code>-P</code>, Output the physical working directory, with symlinks resolved.</li> </ul> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="random">
 random - generate random number</h2> <h3 id="random-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
random
random SEED
random START END
random START STEP END
random choice [ITEMS...]
</pre>
<h3 id="random-description">
 Description</h3> <p><code>RANDOM</code> generates a pseudo-random integer from a uniform distribution. The range (inclusive) is dependent on the arguments passed. No arguments indicate a range of [0; 32767]. If one argument is specified, the internal engine will be seeded with the argument for future invocations of <code>RANDOM</code> and no output will be produced. Two arguments indicate a range of [START; END]. Three arguments indicate a range of [START; END] with a spacing of STEP between possible outputs. <code>RANDOM choice</code> will select one random item from the succeeding arguments.</p> <p>Note that seeding the engine will NOT give the same result across different systems.</p> <p>You should not consider <code>RANDOM</code> cryptographically secure, or even statistically accurate.</p> <h3 id="random-example">
 Example</h3> <p>The following code will count down from a random even number between 10 and 20 to 1:</p> <pre class="fish" data-language="fish">
for i in (seq (random 10 2 20) -1 1)
    echo $i
end
</pre>
<p>And this will open a random picture from any of the subdirectories:</p> <pre class="fish" data-language="fish">
open (random choice **jpg)
</pre>
<p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="read">
 read - read line of input into variables</h2> <h3 id="read-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
read [OPTIONS] [VARIABLE ...]
</pre>
<h3 id="read-description">
 Description</h3> <p><code>read</code> reads from standard input and either writes the result back to standard output (for use in command substitution), or stores the result in one or more shell variables. By default, <code>read</code> reads a single line and splits it into variables on spaces or tabs. Alternatively, a null character or a maximum number of characters can be used to terminate the input, and other delimiters can be given. Unlike other shells, there is no default variable (such as <code>REPLY</code>) for storing the result - instead, it is printed on standard output.</p> <p>The following options are available:</p> <ul> <li>
<code>-c CMD</code> or <code>--command=CMD</code> sets the initial string in the interactive mode command buffer to <code>CMD</code>.</li> <li>
<code>-d DELIMITER</code> or <code>--delimiter=DELIMITER</code> splits on DELIMITER. DELIMITER will be used as an entire string to split on, not a set of characters.</li> <li>
<code>-g</code> or <code>--global</code> makes the variables global.</li> <li>
<code>-s</code> or <code>--silent</code> masks characters written to the terminal, replacing them with asterisks. This is useful for reading things like passwords or other sensitive information.</li> <li>
<code>-l</code> or <code>--local</code> makes the variables local.</li> <li>
<code>-n NCHARS</code> or <code>--nchars=NCHARS</code> makes <code>read</code> return after reading NCHARS characters or the end of the line, whichever comes first.</li> <li>
<code>-p PROMPT_CMD</code> or <code>--prompt=PROMPT_CMD</code> uses the output of the shell command <code>PROMPT_CMD</code> as the prompt for the interactive mode. The default prompt command is <code>set_color green; echo read; set_color normal; echo "&gt; "</code>.</li> <li>
<code>-P PROMPT_STR</code> or <code>--prompt-str=PROMPT_STR</code> uses the string as the prompt for the interactive mode. It is equivalent to <code>echo PROMPT_STR</code> and is provided solely to avoid the need to frame the prompt as a command. All special characters in the string are automatically escaped before being passed to the <code>echo</code> command.</li> <li>
<code>-R RIGHT_PROMPT_CMD</code> or <code>--right-prompt=RIGHT_PROMPT_CMD</code> uses the output of the shell command <code>RIGHT_PROMPT_CMD</code> as the right prompt for the interactive mode. There is no default right prompt command.</li> <li>
<code>-S</code> or <code>--shell</code> enables syntax highlighting, tab completions and command termination suitable for entering shellscript code in the interactive mode. NOTE: Prior to fish 3.0, the short opt for <code>--shell</code> was <code>-s</code>, but it has been changed for compatibility with bash's <code>-s</code> short opt for <code>--silent</code>.</li> <li>
<code>-u</code> or <code>--unexport</code> prevents the variables from being exported to child processes (default behaviour).</li> <li>
<code>-U</code> or <code>--universal</code> causes the specified shell variable to be made universal.</li> <li>
<code>-x</code> or <code>--export</code> exports the variables to child processes.</li> <li>
<code>-a</code> or <code>--array</code> stores the result as an array in a single variable.</li> <li>
<code>-z</code> or <code>--null</code> marks the end of the line with the NUL character, instead of newline. This also disables interactive mode.</li> <li>
<code>-L</code> or <code>--line</code> reads each line into successive variables, and stops after each variable has been filled. This cannot be combined with the <code>--delimiter</code> option.</li> </ul> <p>Without the <code>--line</code> option, <code>read</code> reads a single line of input from standard input, breaks it into tokens, and then assigns one token to each variable specified in <code>VARIABLES</code>. If there are more tokens than variables, the complete remainder is assigned to the last variable.</p> <p>If the <code>--delimiter</code> argument is not given, the variable <code>IFS</code> is used as a list of characters to split on. Relying on the use of <code>IFS</code> is deprecated and this behaviour will be removed in future versions. The default value of <code>IFS</code> contains space, tab and newline characters. As a special case, if <code>IFS</code> is set to the empty string, each character of the input is considered a separate token.</p> <p>With the <code>--line</code> option, <code>read</code> reads a line of input from standard input into each provided variable, stopping when each variable has been filled. The line is not tokenized.</p> <p>If no variable names are provided, <code>read</code> enters a special case that simply provides redirection from standard input to standard output, useful for command substitution. For instance, the fish shell command below can be used to read data that should be provided via a command line argument from the console instead of hardcoding it in the command itself, allowing the command to both be reused as-is in various contexts with different input values and preventing possibly sensitive text from being included in the shell history:</p> <p><code>mysql -uuser -p(read)</code></p> <p>When running in this mode, <code>read</code> does not split the input in any way and text is redirected to standard output without any further processing or manipulation.</p> <p>If <code>-a</code> or <code>--array</code> is provided, only one variable name is allowed and the tokens are stored as an array in this variable.</p> <p>See the documentation for <code>set</code> for more details on the scoping rules for variables.</p> <p>When <code>read</code> reaches the end-of-file (EOF) instead of the terminator, the exit status is set to 1. Otherwise, it is set to 0.</p> <p>In order to protect the shell from consuming too many system resources, <code>read</code> will only consume a maximum of 10 MiB (1048576 bytes); if the terminator is not reached before this limit then VARIABLE is set to empty and the exit status is set to 122. This limit can be altered with the <code>fish_read_limit</code> variable. If set to 0 (zero), the limit is removed.</p> <h3 id="read-history">
 Using another read history file</h3> <p>The <code>read</code> command supported the <code>-m</code> and <code>--mode-name</code> flags in fish versions prior to 2.7.0 to specify an alternative read history file. Those flags are now deprecated and ignored. Instead, set the <code>fish_history</code> variable to specify a history session ID. That will affect both the <code>read</code> history file and the fish command history file. You can set it to an empty string to specify that no history should be read or written. This is useful for presentations where you do not want possibly private or sensitive history to be exposed to the audience but do want history relevant to the presentation to be available.</p> <h3 id="read-example">
 Example</h3> <p>The following code stores the value 'hello' in the shell variable <code>$foo</code>.</p> <pre class="fish" data-language="fish">
echo hello|read foo

# This is a neat way to handle command output by-line:
printf '%s\n' line1 line2 line3 line4 | while read -l foo
                  echo "This is another line: $foo"
              end

# Delimiters given via "-d" are taken as one string
echo a==b==c | read -d == -l a b c
echo $a ## a
echo $b ## b
echo $c ## c

</pre>
<p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="realpath">
 realpath - Convert a path to an absolute path without symlinks</h2> <h3 id="realpath-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
realpath path
</pre>
<h3 id="realpath-description">
 Description</h3> <p>This is implemented as a function and a builtin. The function will attempt to use an external realpath command if one can be found. Otherwise it falls back to the builtin. The builtin does not support any options. It's meant to be used only by scripts which need to be portable. The builtin implementation behaves like GNU realpath when invoked without any options (which is the most common use case). In general scripts should not invoke the builtin directly. They should just use <code>realpath</code>.</p> <p>If the path is invalid no translated path will be written to stdout and an error will be reported.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="return">
 return - stop the current inner function</h2> <h3 id="return-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
function NAME; [COMMANDS...;] return [STATUS]; [COMMANDS...;] end
</pre>
<h3 id="return-description">
 Description</h3> <p><code>return</code> halts a currently running function. The exit status is set to <code>STATUS</code> if it is given.</p> <p>It is usually added inside of a conditional block such as an <a href="#if">if</a> statement or a <a href="#switch">switch</a> statement to conditionally stop the executing function and return to the caller, but it can also be used to specify the exit status of a function.</p> <h3 id="return-example">
 Example</h3> <p>The following code is an implementation of the false command as a fish function</p> <pre class="fish" data-language="fish">
function false
    return 1
end
</pre>
<p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="set">
 set - display and change shell variables.</h2> <h3 id="set-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
set [SCOPE_OPTIONS]
set [OPTIONS] VARIABLE_NAME VALUES...
set [OPTIONS] VARIABLE_NAME[INDICES]... VALUES...
set ( -q | --query ) [SCOPE_OPTIONS] VARIABLE_NAMES...
set ( -e | --erase ) [SCOPE_OPTIONS] VARIABLE_NAME
set ( -e | --erase ) [SCOPE_OPTIONS] VARIABLE_NAME[INDICES]...
set ( -S | --show ) [SCOPE_OPTIONS] [VARIABLE_NAME]...
</pre>
<h3 id="set-description">
 Description</h3> <p><code>set</code> manipulates <a href="../#variables">shell variables</a>.</p> <p>If set is called with no arguments, the names and values of all shell variables are printed in sorted order. If some of the scope or export flags have been given, only the variables matching the specified scope are printed.</p> <p>With both variable names and values provided, <code>set</code> assigns the variable <code>VARIABLE_NAME</code> the values <code>VALUES...</code>.</p> <p>The following options control variable scope:</p> <ul> <li>
<code>-a</code> or <code>--append</code> causes the values to be appended to the current set of values for the variable. This can be used with <code>--prepend</code> to both append and prepend at the same time. This cannot be used when assigning to a variable slice.</li> <li>
<code>-p</code> or <code>--prepend</code> causes the values to be prepended to the current set of values for the variable. This can be used with <code>--append</code> to both append and prepend at the same time. This cannot be used when assigning to a variable slice.</li> <li>
<code>-l</code> or <code>--local</code> forces the specified shell variable to be given a scope that is local to the current block, even if a variable with the given name exists and is non-local</li> <li>
<code>-g</code> or <code>--global</code> causes the specified shell variable to be given a global scope. Non-global variables disappear when the block they belong to ends</li> <li>
<code>-U</code> or <code>--universal</code> causes the specified shell variable to be given a universal scope. If this option is supplied, the variable will be shared between all the current user's fish instances on the current computer, and will be preserved across restarts of the shell.</li> <li>
<code>-x</code> or <code>--export</code> causes the specified shell variable to be exported to child processes (making it an "environment variable")</li> <li>
<code>-u</code> or <code>--unexport</code> causes the specified shell variable to NOT be exported to child processes</li> </ul> <p>The following options are available:</p> <ul> <li>
<code>-e</code> or <code>--erase</code> causes the specified shell variable to be erased</li> <li>
<code>-q</code> or <code>--query</code> test if the specified variable names are defined. Does not output anything, but the builtins exit status is the number of variables specified that were not defined.</li> <li>
<code>-n</code> or <code>--names</code> List only the names of all defined variables, not their value. The names are guaranteed to be sorted.</li> <li>
<code>-S</code> or <code>--show</code> Shows information about the given variables. If no variable names are given then all variables are shown in sorted order. No other flags can be used with this option. The information shown includes whether or not it is set in each of the local, global, and universal scopes. If it is set in one of those scopes whether or not it is exported is reported. The individual elements are also shown along with the length of each element.</li> <li>
<code>-L</code> or <code>--long</code> do not abbreviate long values when printing set variables</li> </ul> <p>If a variable is set to more than one value, the variable will be an array with the specified elements. If a variable is set to zero elements, it will become an array with zero elements.</p> <p>If the variable name is one or more array elements, such as <code>PATH[1 3 7]</code>, only those array elements specified will be changed. If you specify a negative index when expanding or assigning to an array variable, the index will be calculated from the end of the array. For example, the index -1 means the last index of an array.</p> <p>The scoping rules when creating or updating a variable are:</p> <ol type="1"> <li>Variables may be explicitly set to universal, global or local. Variables with the same name in different scopes will not be changed.</li> <li>If a variable is not explicitly set to be either universal, global or local, but has been previously defined, the previous variable scope is used.</li> <li>If a variable is not explicitly set to be either universal, global or local and has never before been defined, the variable will be local to the currently executing function. Note that this is different from using the <code>-l</code> or <code>--local</code> flag. If one of those flags is used, the variable will be local to the most inner currently executing block, while without these the variable will be local to the function. If no function is executing, the variable will be global.</li> </ol> <p>The exporting rules when creating or updating a variable are identical to the scoping rules for variables:</p> <ol type="1"> <li>Variables may be explicitly set to either exported or not exported. When an exported variable goes out of scope, it is unexported.</li> <li>If a variable is not explicitly set to be exported or not exported, but has been previously defined, the previous exporting rule for the variable is kept.</li> <li>If a variable is not explicitly set to be either exported or unexported and has never before been defined, the variable will not be exported.</li> </ol> <p>In query mode, the scope to be examined can be specified.</p> <p>In erase mode, if variable indices are specified, only the specified slices of the array variable will be erased.</p> <p><code>set</code> requires all options to come before any other arguments. For example, <code>set flags -l</code> will have the effect of setting the value of the variable <code>flags</code> to '-l', not making the variable local.</p> <p>In assignment mode, <code>set</code> does not modify the exit status. This allows simultaneous capture of the output and exit status of a subcommand, e.g. <code>if set output (command)</code>. In query mode, the exit status is the number of variables that were not found. In erase mode, <code>set</code> exits with a zero exit status in case of success, with a non-zero exit status if the commandline was invalid, if the variable was write-protected or if the variable did not exist.</p> <h3 id="set-examples">
 Examples</h3> <pre class="fish" data-language="fish">
# Prints all global, exported variables.
set -xg

# Sets the value of the variable $foo to be 'hi'.
set foo hi

# Appends the value "there" to the variable $foo.
set -a foo there

# Does the same thing as the previous two commands the way it would be done pre-fish 3.0.
set foo hi
set foo $foo there

# Removes the variable $smurf
set -e smurf

# Changes the fourth element of the $PATH array to ~/bin
set PATH[4] ~/bin

# Outputs the path to Python if `type -p` returns true.
if set python_path (type -p python)
    echo "Python is at $python_path"
end
</pre>
<h3 id="set-notes">
 Notes</h3> <p>Fish versions prior to 3.0 supported the syntax <code>set PATH[1] PATH[4] /bin /sbin</code>, which worked like <code>set PATH[1 4] /bin /sbin</code>. This syntax was not widely used, and was ambiguous and inconsistent.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="set_color">
 set_color - set the terminal color</h2> <h3 id="set_color-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
set_color [OPTIONS] VALUE
</pre>
<h3 id="set_color-description">
 Description</h3> <p><code>set_color</code> is used to control the color and styling of text in the terminal. <code>VALUE</code> corresponds to a reserved color name such as <em>red</em> or a RGB color value given as 3 or 6 hexadecimal digits. The <em>br</em>-, as in 'bright', forms are full-brightness variants of the 8 standard-brightness colors on many terminals. <em>brblack</em> has higher brightness than <em>black</em> - towards gray. A special keyword <em>normal</em> resets text formatting to terminal defaults.</p> <p>Valid colors include:</p> <ul> <li>
<em>black</em>, <em>red</em>, <em>green</em>, <em>yellow</em>, <em>blue</em>, <em>magenta</em>, <em>cyan</em>, <em>white</em>
</li> <li>
<em>brblack</em>, <em>brred</em>, <em>brgreen</em>, <em>bryellow</em>, <em>brblue</em>, <em>brmagenta</em>, <em>brcyan</em>, <em>brwhite</em>
</li> </ul> <p>An RGB value with three or six hex digits, such as A0FF33 or f2f can be used. <code>fish</code> will choose the closest supported color. A three digit value is equivalent to specifying each digit twice; e.g., <code>set_color 2BC</code> is the same as <code>set_color 22BBCC</code>. Hexadecimal RGB values can be in lower or uppercase. Depending on the capabilities of your terminal (and the level of support <code>set_color</code> has for it) the actual color may be approximated by a nearby matching reserved color name or <code>set_color</code> may not have an effect on color. A second color may be given as a desired fallback color. e.g. <code>set_color 124212</code> <em>brblue</em> will instruct set_color to use <em>brblue</em> if a terminal is not capable of the exact shade of grey desired. This is very useful when an 8 or 16 color terminal might otherwise not use a color.</p> <p>The following options are available:</p> <ul> <li>
<code>-b</code>, <code>--background</code> <em>COLOR</em> sets the background color.</li> <li>
<code>-c</code>, <code>--print-colors</code> prints a list of the 16 named colors.</li> <li>
<code>-o</code>, <code>--bold</code> sets bold mode.</li> <li>
<code>-d</code>, <code>--dim</code> sets dim mode.</li> <li>
<code>-i</code>, <code>--italics</code> sets italics mode.</li> <li>
<code>-r</code>, <code>--reverse</code> sets reverse mode.</li> <li>
<code>-u</code>, <code>--underline</code> sets underlined mode.</li> </ul> <p>Using the <em>normal</em> keyword will reset foreground, background, and all formatting back to default.</p> <h3 id="set_color-notes">
 Notes</h3> <ol type="1"> <li>Using the <em>normal</em> keyword will reset both background and foreground colors to whatever is the default for the terminal.</li> <li>Setting the background color only affects subsequently written characters. Fish provides no way to set the background color for the entire terminal window. Configuring the window background color (and other attributes such as its opacity) has to be done using whatever mechanisms the terminal provides.</li> <li>Some terminals use the <code>--bold</code> escape sequence to switch to a brighter color set rather than increasing the weight of text.</li> <li>
<code>set_color</code> works by printing sequences of characters to <em>stdout</em>. If used in command substitution or a pipe, these characters will also be captured. This may or may not be desirable. Checking the exit code of <code>isatty stdout</code> before using <code>set_color</code> can be useful to decide not to colorize output in a script.</li> </ol> <h3 id="set_color-example">
 Examples</h3> <pre class="fish" data-language="fish">
set_color red; echo "Roses are red"
set_color blue; echo "Violets are blue"
set_color 62A; echo "Eggplants are dark purple"
set_color normal; echo "Normal is nice" ## Resets the background too
</pre>
<h3 id="set_color-detection">
 Terminal Capability Detection</h3> <p>Fish uses a heuristic to decide if a terminal supports the 256-color palette as opposed to the more limited 16 color palette of older terminals. Support can be forced on by setting <code>fish_term256</code> to <em>1</em>. If <code>$TERM</code> contains "256color" (e.g., <em>xterm-256color</em>), 256-color support is enabled. If <code>$TERM</code> contains <em>xterm</em>, 256 color support is enabled (except for MacOS: <code>$TERM_PROGRAM</code> and <code>$TERM_PROGRAM_VERSION</code> are used to detect Terminal.app from MacOS 10.6; support is disabled here it because it is known that it reports <code>xterm</code> and only supports 16 colors.</p> <p>If terminfo reports 256 color support for a terminal, support will always be enabled. To debug color palette problems, <code>tput colors</code> may be useful to see the number of colors in terminfo for a terminal. Fish launched as <code>fish -d2</code> will include diagnostic messages that indicate the color support mode in use.</p> <p>Many terminals support 24-bit (i.e., true-color) color escape sequences. This includes modern xterm, Gnome Terminal, Konsole, and iTerm2. Fish attempts to detect such terminals through various means in <code>config.fish</code> You can explicitly force that support via <code>set fish_term24bit 1</code>.</p> <p>The <code>set_color</code> command uses the terminfo database to look up how to change terminal colors on whatever terminal is in use. Some systems have old and incomplete terminfo databases, and may lack color information for terminals that support it. Fish will assume that all terminals can use the <a href="https://en.wikipedia.org/wiki/ANSI_escape_code" target="_blank">ANSI X3.64</a> escape sequences if the terminfo definition indicates a color below 16 is not supported.</p> <p>Support for italics, dim, reverse, and other modes is not guaranteed in all terminal emulators. Fish attempts to determine if the terminal supports these modes even if the terminfo database may not be up-to-date.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="source">
 source - evaluate contents of file.</h2> <h3 id="source-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
source FILENAME [ARGUMENTS...]
somecommand | source
</pre>
<h3 id="source-description">
 Description</h3> <p><code>source</code> evaluates the commands of the specified file in the current shell. This is different from starting a new process to perform the commands (i.e. <code>fish &lt; FILENAME</code>) since the commands will be evaluated by the current shell, which means that changes in shell variables will affect the current shell. If additional arguments are specified after the file name, they will be inserted into the <code>$argv</code> variable. The <code>$argv</code> variable will not include the name of the sourced file.</p> <p>If no file is specified and stdin is not the terminal, or if the file name '<code>-</code>' is used, stdin will be read.</p> <p>The return status of <code>source</code> is the return status of the last job to execute. If something goes wrong while opening or reading the file, <code>source</code> exits with a non-zero status.</p> <p><code>.</code> (a single period) is an alias for the <code>source</code> command. The use of <code>.</code> is deprecated in favour of <code>source</code>, and <code>.</code> will be removed in a future version of fish.</p> <h3 id="source-example">
 Example</h3> <pre class="fish" data-language="fish">
source ~/.config/fish/config.fish
# Causes fish to re-read its initialization file.
</pre>
<h3 id="Caveats">
 Caveats</h3> <p>In fish versions prior to 2.3.0 the <code>$argv</code> variable would have a single element (the name of the sourced file) if no arguments are present. Otherwise it would contain arguments without the name of the sourced file. That behavior was very confusing and unlike other shells such as bash and zsh.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="status">
 status - query fish runtime information</h2> <h3 id="status-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
status
status is-login
status is-interactive
status is-block
status is-breakpoint
status is-command-substitution
status is-no-job-control
status is-full-job-control
status is-interactive-job-control
status filename
status fish-path
status function
status line-number
status stack-trace
status job-control CONTROL-TYPE
status features
status test-feature FEATURE
</pre>
<h3 id="status-description">
 Description</h3> <p>With no arguments, <code>status</code> displays a summary of the current login and job control status of the shell.</p> <p>The following operations (sub-commands) are available:</p> <ul> <li>
<code>is-command-sub</code> returns 0 if fish is currently executing a command substitution. Also <code>-c</code> or <code>--is-command-substitution</code>.</li> <li>
<code>is-block</code> returns 0 if fish is currently executing a block of code. Also <code>-b</code> or <code>--is-block</code>.</li> <li>
<code>is-breakpoint</code> returns 0 if fish is currently showing a prompt in the context of a <code>breakpoint</code> command. See also the <code>fish_breakpoint_prompt</code> function.</li> <li>
<code>is-interactive</code> returns 0 if fish is interactive - that is, connected to a keyboard. Also <code>-i</code> or <code>--is-interactive</code>.</li> <li>
<code>is-login</code> returns 0 if fish is a login shell - that is, if fish should perform login tasks such as setting up the PATH. Also <code>-l</code> or <code>--is-login</code>.</li> <li>
<code>is-full-job-control</code> returns 0 if full job control is enabled. Also <code>--is-full-job-control</code> (no short flag).</li> <li>
<code>is-interactive-job-control</code> returns 0 if interactive job control is enabled. Also, <code>--is-interactive-job-control</code> (no short flag).</li> <li>
<code>is-no-job-control</code> returns 0 if no job control is enabled. Also <code>--is-no-job-control</code> (no short flag).</li> <li>
<code>filename</code> prints the filename of the currently running script. Also <code>current-filename</code>, <code>-f</code> or <code>--current-filename</code>.</li> <li>
<code>fish-path</code> prints the absolute path to the currently executing instance of fish.</li> <li>
<code>function</code> prints the name of the currently called function if able, when missing displays "Not a function" (or equivalent translated string). Also <code>current-function</code>, <code>-u</code> or <code>--current-function</code>.</li> <li>
<code>line-number</code> prints the line number of the currently running script. Also <code>current-line-number</code>, <code>-n</code> or <code>--current-line-number</code>.</li> <li>
<code>stack-trace</code> prints a stack trace of all function calls on the call stack. Also <code>print-stack-trace</code>, <code>-t</code> or <code>--print-stack-trace</code>.</li> <li>
<code>job-control CONTROL-TYPE</code> sets the job control type, which can be <code>none</code>, <code>full</code>, or <code>interactive</code>. Also <code>-j CONTROL-TYPE</code> or <code>--job-control=CONTROL-TYPE</code>.</li> <li>
<code>features</code> lists all available feature flags.</li> <li>
<code>test-feature FEATURE</code> returns 0 when FEATURE is enabled, 1 if it is disabled, and 2 if it is not recognized.</li> </ul> <h3 id="status-notes">
 Notes</h3> <p>For backwards compatibility each subcommand can also be specified as a long or short option. For example, rather than <code>status is-login</code> you can type <code>status --is-login</code>. The flag forms are deprecated and may be removed in a future release (but not before fish 3.0).</p> <p>You can only specify one subcommand per invocation even if you use the flag form of the subcommand.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="string">
 string - manipulate strings</h2> <h3 id="string-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
string escape [(-n | --no-quoted)] [--style=xxx] [STRING...]
string join [(-q | --quiet)] SEP [STRING...]
string join0 [(-q | --quiet)] [STRING...]
string length [(-q | --quiet)] [STRING...]
string lower [(-q | --quiet)] [STRING...]
string match [(-a | --all)] [(-e | --entire)] [(-i | --ignore-case)] [(-r | --regex)]
             [(-n | --index)] [(-q | --quiet)] [(-v | --invert)] PATTERN [STRING...]
string repeat [(-n | --count) COUNT] [(-m | --max) MAX] [(-N | --no-newline)]
              [(-q | --quiet)] [STRING...]
string replace [(-a | --all)] [(-f | --filter)] [(-i | --ignore-case)] [(-r | --regex)]
               [(-q | --quiet)] PATTERN REPLACEMENT [STRING...]
string split [(-m | --max) MAX] [(-n | --no-empty)] [(-q | --quiet)] [(-r | --right)] SEP
             [STRING...]
string split0 [(-m | --max) MAX] [(-n | --no-empty)] [(-q | --quiet)] [(-r | --right)]
              [STRING...]
string sub [(-s | --start) START] [(-l | --length) LENGTH] [(-q | --quiet)]
           [STRING...]
string trim [(-l | --left)] [(-r | --right)] [(-c | --chars CHARS)]
            [(-q | --quiet)] [STRING...]
string unescape [--style=xxx] [STRING...]
string upper [(-q | --quiet)] [STRING...]
</pre>
<h3 id="string-description">
 Description</h3> <p><code>string</code> performs operations on strings.</p> <p>STRING arguments are taken from the command line unless standard input is connected to a pipe or a file, in which case they are read from standard input, one STRING per line. It is an error to supply STRING arguments on the command line and on standard input.</p> <p>Arguments beginning with <code>-</code> are normally interpreted as switches; <code>--</code> causes the following arguments not to be treated as switches even if they begin with <code>-</code>. Switches and required arguments are recognized only on the command line.</p> <p>Most subcommands accept a <code>-q</code> or <code>--quiet</code> switch, which suppresses the usual output but exits with the documented status.</p> <p>The following subcommands are available.</p> <h3 id="string-escape">
 "escape" subcommand</h3> <p><code>string escape</code> escapes each STRING in one of three ways. The first is <code>--style=script</code>. This is the default. It alters the string such that it can be passed back to <code>eval</code> to produce the original argument again. By default, all special characters are escaped, and quotes are used to simplify the output when possible. If <code>-n</code> or <code>--no-quoted</code> is given, the simplifying quoted format is not used. Exit status: 0 if at least one string was escaped, or 1 otherwise.</p> <p><code>--style=var</code> ensures the string can be used as a variable name by hex encoding any non-alphanumeric characters. The string is first converted to UTF-8 before being encoded.</p> <p><code>--style=url</code> ensures the string can be used as a URL by hex encoding any character which is not legal in a URL. The string is first converted to UTF-8 before being encoded.</p> <p><code>--style=regex</code> escapes an input string for literal matching within a regex expression. The string is first converted to UTF-8 before being encoded.</p> <p><code>string unescape</code> performs the inverse of the <code>string escape</code> command. If the string to be unescaped is not properly formatted it is ignored. For example, doing <code>string unescape --style=var (string escape --style=var $str)</code> will return the original string. There is no support for unescaping <code>--style=regex</code>.</p> <h3 id="string-join">
 "join" subcommand</h3> <p><code>string join</code> joins its STRING arguments into a single string separated by SEP, which can be an empty string. Exit status: 0 if at least one join was performed, or 1 otherwise.</p> <h3 id="string-join0">
 "join0" subcommand</h3> <p><code>string join</code> joins its STRING arguments into a single string separated by the zero byte (NUL), and adds a trailing NUL. This is most useful in conjunction with tools that accept NUL-delimited input, such as <code>sort -z</code>. Exit status: 0 if at least one join was performed, or 1 otherwise.</p> <h3 id="string-length">
 "length" subcommand</h3> <p><code>string length</code> reports the length of each string argument in characters. Exit status: 0 if at least one non-empty STRING was given, or 1 otherwise.</p> <h3 id="string-lower">
 "lower" subcommand</h3> <p><code>string lower</code> converts each string argument to lowercase. Exit status: 0 if at least one string was converted to lowercase, else 1. This means that in conjunction with the <code>-q</code> flag you can readily test whether a string is already lowercase.</p> <h3 id="string-match">
 "match" subcommand</h3> <p><code>string match</code> tests each STRING against PATTERN and prints matching substrings. Only the first match for each STRING is reported unless <code>-a</code> or <code>--all</code> is given, in which case all matches are reported.</p> <p>If you specify the <code>-e</code> or <code>--entire</code> then each matching string is printed including any prefix or suffix not matched by the pattern (equivalent to <code>grep</code> without the <code>-o</code> flag). You can, obviously, achieve the same result by prepending and appending <code>*</code> or <code>.*</code> depending on whether or not you have specified the <code>--regex</code> flag. The <code>--entire</code> flag is simply a way to avoid having to complicate the pattern in that fashion and make the intent of the <code>string match</code> clearer. Without <code>--entire</code> and <code>--regex</code>, a PATTERN will need to match the entire STRING before it will be reported.</p> <p>Matching can be made case-insensitive with <code>--ignore-case</code> or <code>-i</code>.</p> <p>If <code>--index</code> or <code>-n</code> is given, each match is reported as a 1-based start position and a length. By default, PATTERN is interpreted as a glob pattern matched against each entire STRING argument. A glob pattern is only considered a valid match if it matches the entire STRING.</p> <p>If <code>--regex</code> or <code>-r</code> is given, PATTERN is interpreted as a Perl-compatible regular expression, which does not have to match the entire STRING. For a regular expression containing capturing groups, multiple items will be reported for each match, one for the entire match and one for each capturing group. With this, only the matching part of the STRING will be reported, unless <code>--entire</code> is given.</p> <p>If <code>--invert</code> or <code>-v</code> is used the selected lines will be only those which do not match the given glob pattern or regular expression.</p> <p>Exit status: 0 if at least one match was found, or 1 otherwise.</p> <h3 id="string-repeat">
 "repeat" subcommand</h3> <p><code>string repeat</code> repeats the STRING <code>-n</code> or <code>--count</code> times. The <code>-m</code> or <code>--max</code> option will limit the number of outputted char (excluding the newline). This option can be used by itself or in conjunction with <code>--count</code>. If both <code>--count</code> and <code>--max</code> are present, max char will be outputed unless the final repeated string size is less than max, in that case, the string will repeat until count has been reached. Both <code>--count</code> and <code>--max</code> will accept a number greater than or equal to zero, in the case of zero, nothing will be outputed. If <code>-N</code> or <code>--no-newline</code> is given, the output won't contain a newline character at the end. Exit status: 0 if yielded string is not empty, 1 otherwise.</p> <h3 id="string-replace">
 "replace" subcommand</h3> <p><code>string replace</code> is similar to <code>string match</code> but replaces non-overlapping matching substrings with a replacement string and prints the result. By default, PATTERN is treated as a literal substring to be matched.</p> <p>If <code>-r</code> or <code>--regex</code> is given, PATTERN is interpreted as a Perl-compatible regular expression, and REPLACEMENT can contain C-style escape sequences like <code>\t</code> as well as references to capturing groups by number or name as <code>$n</code> or <code>${n}</code>.</p> <p>If you specify the <code>-f</code> or <code>--filter</code> flag then each input string is printed only if a replacement was done. This is useful where you would otherwise use this idiom: <code>a_cmd | string match pattern | string replace pattern new_pattern</code>. You can instead just write <code>a_cmd | string replace --filter pattern new_pattern</code>.</p> <p>Exit status: 0 if at least one replacement was performed, or 1 otherwise.</p> <h3 id="string-split">
 "split" subcommand</h3> <p><code>string split</code> splits each STRING on the separator SEP, which can be an empty string. If <code>-m</code> or <code>--max</code> is specified, at most MAX splits are done on each STRING. If <code>-r</code> or <code>--right</code> is given, splitting is performed right-to-left. This is useful in combination with <code>-m</code> or <code>--max</code>. With <code>-n</code> or <code>--no-empty</code>, empty results are excluded from consideration (e.g. <code>hello\n\nworld</code> would expand to two strings and not three). Exit status: 0 if at least one split was performed, or 1 otherwise.</p> <p>See also <code>read --delimiter</code>.</p> <h3 id="string-split0">
 "split0" subcommand</h3> <p><code>string split0</code> splits each STRING on the zero byte (NUL). Options are the same as <code>string split</code> except that no separator is given.</p> <p><code>split0</code> has the important property that its output is not further split when used in a command substitution, allowing for the command substitution to produce elements containing newlines. This is most useful when used with Unix tools that produce zero bytes, such as <code>find -print0</code> or <code>sort -z</code>. See split0 examples below.</p> <h3 id="string-sub">
 "sub" subcommand</h3> <p><code>string sub</code> prints a substring of each string argument. The start of the substring can be specified with <code>-s</code> or <code>--start</code> followed by a 1-based index value. Positive index values are relative to the start of the string and negative index values are relative to the end of the string. The default start value is 1. The length of the substring can be specified with <code>-l</code> or <code>--length</code>. If the length is not specified, the substring continues to the end of each STRING. Exit status: 0 if at least one substring operation was performed, 1 otherwise.</p> <h3 id="string-trim">
 "trim" subcommand</h3> <p><code>string trim</code> removes leading and trailing whitespace from each STRING. If <code>-l</code> or <code>--left</code> is given, only leading whitespace is removed. If <code>-r</code> or <code>--right</code> is given, only trailing whitespace is trimmed. The <code>-c</code> or <code>--chars</code> switch causes the characters in CHARS to be removed instead of whitespace. Exit status: 0 if at least one character was trimmed, or 1 otherwise.</p> <h3 id="string-upper">
 "upper" subcommand</h3> <p><code>string upper</code> converts each string argument to uppercase. Exit status: 0 if at least one string was converted to uppercase, else 1. This means that in conjunction with the <code>-q</code> flag you can readily test whether a string is already uppercase.</p> <h3 id="regular-expressions">
 Regular Expressions</h3> <p>Both the <code>match</code> and <code>replace</code> subcommand support regular expressions when used with the <code>-r</code> or <code>--regex</code> option. The dialect is that of PCRE2.</p> <p>In general, special characters are special by default, so <code>a+</code> matches one or more "a"s, while <code>a\+</code> matches an "a" and then a "+". <code>(a+)</code> matches one or more "a"s in a capturing group (<code>(?:XXXX)</code> denotes a non-capturing group). For the replacement parameter of <code>replace</code>, <code>$n</code> refers to the n-th group of the match. In the match parameter, <code>\n</code> (e.g. <code>\1</code>) refers back to groups.</p> <p>Some features include repetitions:</p>
<ul> <li>
<code>*</code> refers to 0 or more repetitions of the previous expression</li> <li>
<code>+</code> 1 or more</li> <li>
<code>?</code> 0 or 1.</li> <li>
<code>{n}</code> to exactly n (where n is a number)</li> <li>
<code>{n,m}</code> at least n, no more than m.</li> <li>
<code>{n,}</code> n or more</li> </ul> <p>Character classes, some of the more important:</p>
<ul> <li>
<code>.</code> any character except newline</li> <li>
<code>\d</code> a decimal digit and <code>\D</code>, not a decimal digit</li> <li>
<code>\s</code> whitespace and <code>\S</code>, not whitespace</li> <li>
<code>\w</code> a "word" character and <code>\W</code>, a "non-word" character</li> <li>
<code>[...]</code> (where "..." is some characters) is a character set</li> <li>
<code>[^...]</code> is the inverse of the given character set</li> <li>
<code>[x-y]</code> is the range of characters from x-y</li> <li>
<code>[[:xxx:]]</code> is a named character set</li> <li>
<code>[[:^xxx:]]</code> is the inverse of a named character set</li> <li>
<code>[[:alnum:]]</code> : "alphanumeric"</li> <li>
<code>[[:alpha:]]</code> : "alphabetic"</li> <li>
<code>[[:ascii:]]</code> : "0-127"</li> <li>
<code>[[:blank:]]</code> : "space or tab"</li> <li>
<code>[[:cntrl:]]</code> : "control character"</li> <li>
<code>[[:digit:]]</code> : "decimal digit"</li> <li>
<code>[[:graph:]]</code> : "printing, excluding space"</li> <li>
<code>[[:lower:]]</code> : "lower case letter"</li> <li>
<code>[[:print:]]</code> : "printing, including space"</li> <li>
<code>[[:punct:]]</code> : "printing, excluding alphanumeric"</li> <li>
<code>[[:space:]]</code> : "white space"</li> <li>
<code>[[:upper:]]</code> : "upper case letter"</li> <li>
<code>[[:word:]]</code> : "same as \w"</li> <li>
<code>[[:xdigit:]]</code> : "hexadecimal digit"</li> </ul> <p>Groups:</p>
<ul> <li>
<code>(...)</code> is a capturing group</li> <li>
<code>(?:...)</code> is a non-capturing group</li> <li>
<code>\n</code> is a backreference (where n is the number of the group, starting with 1)</li> <li>
<code>$n</code> is a reference from the replacement expression to a group in the match expression.</li> </ul> <p>And some other things:</p>
<ul> <li>
<code>\b</code> denotes a word boundary, <code>\B</code> is not a word boundary.</li> <li>
<code>^</code> is the start of the string or line, <code>$</code> the end.</li> <li>
<code>|</code> is "alternation", i.e. the "or".</li> </ul> <h3 id="string-example">
 Examples</h3> <pre class="fish cli-dark" data-language="fish">
&gt; string length 'hello, world'
12

&gt; set str foo
&gt; string length -q $str; echo $status
0
# Equivalent to test -n $str
</pre> <pre class="fish cli-dark" data-language="fish">
&gt; string sub --length 2 abcde
ab

&gt; string sub -s 2 -l 2 abcde
bc

&gt; string sub --start=-2 abcde
de
</pre> <pre class="fish cli-dark" data-language="fish">
&gt; string split . example.com
example
com

&gt; string split -r -m1 / /usr/local/bin/fish
/usr/local/bin
fish

&gt; string split '' abc
a
b
c
</pre> <pre class="fish cli-dark" data-language="fish">
&gt; seq 3 | string join ...
1...2...3
</pre> <pre class="fish cli-dark" data-language="fish">
&gt; string trim ' abc  '
abc

&gt; string trim --right --chars=yz xyzzy zany
x
zan
</pre> <pre class="fish cli-dark" data-language="fish">
&gt; echo \x07 | string escape
\cg
</pre> <pre class="fish cli-dark" data-language="fish">
&gt; string escape --style=var 'a1 b2'\\u6161
\a1_20b2__c_E6_85_A1
</pre>
<h3 id="string-example-match-glob">
 Match Glob Examples</h3> <pre class="fish cli-dark" data-language="fish">
&gt; string match '?' a
a

&gt; string match 'a*b' axxb
axxb

&gt; string match -i 'a??B' Axxb
Axxb

&gt; echo 'ok?' | string match '*\?'
ok?

# Note that only the second STRING will match here.
&gt; string match 'foo' 'foo1' 'foo' 'foo2'
foo

&gt; string match -e 'foo' 'foo1' 'foo' 'foo2'
foo1
foo
foo2


&gt; string match 'foo?' 'foo1' 'foo' 'foo2'
foo1
foo
foo2

</pre>
<h3 id="string-example-match-regex">
 Match Regex Examples</h3> <pre class="fish cli-dark" data-language="fish">
&gt; string match -r 'cat|dog|fish' 'nice dog'
dog

&gt; string match -r -v "c.*[12]" {cat,dog}(seq 1 4)
dog1
dog2
cat3
dog3
cat4
dog4

&gt; string match -r '(\d\d?):(\d\d):(\d\d)' 2:34:56
2:34:56
2
34
56

&gt; string match -r '^(\w{2,4})\g1$' papa mud murmur
papa
pa
murmur
mur

&gt; string match -r -a -n at ratatat
2 2
4 2
6 2

&gt; string match -r -i '0x[0-9a-f]{1,8}' 'int magic = 0xBadC0de;'
0xBadC0de
</pre>
<h3 id="string-example-split0">
 NUL Delimited Examples</h3> <pre class="fish cli-dark" data-language="fish">
&gt; ## Count files in a directory, without being confused by newlines.
&gt; count (find . -print0 | string split0)
42

&gt; ## Sort a list of elements which may contain newlines
&gt; set foo beta alpha\ngamma
&gt; set foo (string join0 $foo | sort -z | string split0)
&gt; string escape $foo[1]
alpha\\ngamma
</pre>
<h3 id="string-example-replace-literal">
 Replace Literal Examples</h3> <pre class="fish cli-dark" data-language="fish">
&gt; string replace is was 'blue is my favorite'
blue was my favorite

&gt; string replace 3rd last 1st 2nd 3rd
1st
2nd
last

&gt; string replace -a ' ' _ 'spaces to underscores'
spaces_to_underscores
</pre>
<h3 id="string-example-replace-Regex">
 Replace Regex Examples</h3> <pre class="fish cli-dark" data-language="fish">
&gt; string replace -r -a '[^\d.]+' ' ' '0 one two 3.14 four 5x'
0 3.14 5

&gt; string replace -r '(\w+)\s+(\w+)' '$2 $1 $$' 'left right'
right left $

&gt; string replace -r '\s*newline\s*' '\n' 'put a newline here'
put a
here
</pre>
<h3 id="string-example-repeat">
 Repeat Examples</h3> <pre class="fish cli-dark" data-language="fish">
&gt; string repeat -n 2 'foo '
foo foo

&gt; echo foo | string repeat -n 2
foofoo

&gt; string repeat -n 2 -m 5 'foo'
foofo

&gt; string repeat -m 5 'foo'
foofo
</pre>
<p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="suspend">
 suspend - suspend the current shell</h2> <h3 id="suspend-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
suspend [--force]
</pre>
<h3 id="suspend-description">
 Description</h3> <p><code>suspend</code> suspends execution of the current shell by sending it a SIGTSTP signal, returning to the controlling process. It can be resumed later by sending it a SIGCONT. In order to prevent suspending a shell that doesn't have a controlling process, it will not suspend the shell if it is a login shell. This requirement is bypassed if the <code>--force</code> option is given or the shell is not interactive.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="switch">
 switch - conditionally execute a block of commands</h2> <h3 id="switch-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
switch VALUE; [case [WILDCARD...]; [COMMANDS...]; ...] end
</pre>
<h3 id="switch-description">
 Description</h3> <p><code>switch</code> performs one of several blocks of commands, depending on whether a specified value equals one of several wildcarded values. <code>case</code> is used together with the <code>switch</code> statement in order to determine which block should be executed.</p> <p>Each <code>case</code> command is given one or more parameters. The first <code>case</code> command with a parameter that matches the string specified in the switch command will be evaluated. <code>case</code> parameters may contain wildcards. These need to be escaped or quoted in order to avoid regular wildcard expansion using filenames.</p> <p>Note that fish does not fall through on case statements. Only the first matching case is executed.</p> <p>Note that command substitutions in a case statement will be evaluated even if its body is not taken. All substitutions, including command substitutions, must be performed before the value can be compared against the parameter.</p> <h3 id="switch-example">
 Example</h3> <p>If the variable $animal contains the name of an animal, the following code would attempt to classify it:</p> <pre class="fish" data-language="fish">
switch $animal
    case cat
        echo evil
    case wolf dog human moose dolphin whale
        echo mammal
    case duck goose albatross
        echo bird
    case shark trout stingray
        echo fish
    case '*'
        echo I have no idea what a $animal is
end
</pre>
<p>If the above code was run with <code>$animal</code> set to <code>whale</code>, the output would be <code>mammal</code>.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="test">
 test - perform tests on files and text</h2> <h3 id="test-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
test [EXPRESSION]
[ [EXPRESSION] ]
</pre>
<h3 id="test-description">
 Description</h3> <p>Tests the expression given and sets the exit status to 0 if true, and 1 if false. An expression is made up of one or more operators and their arguments.</p> <p>The first form (<code>test</code>) is preferred. For compatibility with other shells, the second form is available: a matching pair of square brackets (<code>[ [EXPRESSION ] ]</code>).</p> <p>This test is mostly POSIX-compatible.</p> <p>When using a variable as an argument for a test operator you should almost always enclose it in double-quotes. There are only two situations it is safe to omit the quote marks. The first is when the argument is a literal string with no whitespace or other characters special to the shell (e.g., semicolon). For example, <code>test -b /my/file</code>. The second is using a variable that expands to exactly one element including if that element is the empty string (e.g., ‘set x ’'<code>). If the variable is not set, set but with no value, or set to more than one value you must enclose it in double-quotes. For example,</code>test "$x" = "$y"<code>. Since it is always safe to enclose variables in double-quotes when used as</code>test` arguments that is the recommended practice.</p> <h3 id="test-files">
 Operators for files and directories</h3> <ul> <li>
<code>-b FILE</code> returns true if <code>FILE</code> is a block device.</li> <li>
<code>-c FILE</code> returns true if <code>FILE</code> is a character device.</li> <li>
<code>-d FILE</code> returns true if <code>FILE</code> is a directory.</li> <li>
<code>-e FILE</code> returns true if <code>FILE</code> exists.</li> <li>
<code>-f FILE</code> returns true if <code>FILE</code> is a regular file.</li> <li>
<code>-g FILE</code> returns true if <code>FILE</code> has the set-group-ID bit set.</li> <li>
<code>-G FILE</code> returns true if <code>FILE</code> exists and has the same group ID as the current user.</li> <li>
<code>-k FILE</code> returns true if <code>FILE</code> has the sticky bit set. If the OS does not support the concept it returns false. See <a href="https://en.wikipedia.org/wiki/Sticky_bit" target="_blank">https://en.wikipedia.org/wiki/Sticky_bit</a>.</li> <li>
<code>-L FILE</code> returns true if <code>FILE</code> is a symbolic link.</li> <li>
<code>-O FILE</code> returns true if <code>FILE</code> exists and is owned by the current user.</li> <li>
<code>-p FILE</code> returns true if <code>FILE</code> is a named pipe.</li> <li>
<code>-r FILE</code> returns true if <code>FILE</code> is marked as readable.</li> <li>
<code>-s FILE</code> returns true if the size of <code>FILE</code> is greater than zero.</li> <li>
<code>-S FILE</code> returns true if <code>FILE</code> is a socket.</li> <li>
<code>-t FD</code> returns true if the file descriptor <code>FD</code> is a terminal (TTY).</li> <li>
<code>-u FILE</code> returns true if <code>FILE</code> has the set-user-ID bit set.</li> <li>
<code>-w FILE</code> returns true if <code>FILE</code> is marked as writable; note that this does not check if the filesystem is read-only.</li> <li>
<code>-x FILE</code> returns true if <code>FILE</code> is marked as executable.</li> </ul> <h3 id="test-strings">
 Operators for text strings</h3> <ul> <li>
<code>STRING1 = STRING2</code> returns true if the strings <code>STRING1</code> and <code>STRING2</code> are identical.</li> <li>
<code>STRING1 != STRING2</code> returns true if the strings <code>STRING1</code> and <code>STRING2</code> are not identical.</li> <li>
<code>-n STRING</code> returns true if the length of <code>STRING</code> is non-zero.</li> <li>
<code>-z STRING</code> returns true if the length of <code>STRING</code> is zero.</li> </ul> <h3 id="test-numbers">
 Operators to compare and examine numbers</h3> <ul> <li>
<code>NUM1 -eq NUM2</code> returns true if <code>NUM1</code> and <code>NUM2</code> are numerically equal.</li> <li>
<code>NUM1 -ne NUM2</code> returns true if <code>NUM1</code> and <code>NUM2</code> are not numerically equal.</li> <li>
<code>NUM1 -gt NUM2</code> returns true if <code>NUM1</code> is greater than <code>NUM2</code>.</li> <li>
<code>NUM1 -ge NUM2</code> returns true if <code>NUM1</code> is greater than or equal to <code>NUM2</code>.</li> <li>
<code>NUM1 -lt NUM2</code> returns true if <code>NUM1</code> is less than <code>NUM2</code>.</li> <li>
<code>NUM1 -le NUM2</code> returns true if <code>NUM1</code> is less than or equal to <code>NUM2</code>.</li> </ul> <p>Both integers and floating point numbers are supported.</p> <h3 id="test-combinators">
 Operators to combine expressions</h3> <ul> <li>
<code>COND1 -a COND2</code> returns true if both <code>COND1</code> and <code>COND2</code> are true.</li> <li>
<code>COND1 -o COND2</code> returns true if either <code>COND1</code> or <code>COND2</code> are true.</li> </ul> <p>Expressions can be inverted using the <code>!</code> operator:</p> <ul> <li>
<code>! EXPRESSION</code> returns true if <code>EXPRESSION</code> is false, and false if <code>EXPRESSION</code> is true.</li> </ul> <p>Expressions can be grouped using parentheses.</p> <ul> <li>
<p class="startli"><code>( EXPRESSION )</code> returns the value of <code>EXPRESSION</code>.</p> <p class="startli">Note that parentheses will usually require escaping with <code>\(</code> to avoid being interpreted as a command substitution.</p> </li> </ul> <h3 id="test-example">
 Examples</h3> <p>If the <code>/tmp</code> directory exists, copy the <code>/etc/motd</code> file to it:</p> <pre class="fish" data-language="fish">
if test -d /tmp
    cp /etc/motd /tmp/motd
end
</pre>
<p>If the variable <code>MANPATH</code> is defined and not empty, print the contents. (If <code>MANPATH</code> is not defined, then it will expand to zero arguments, unless quoted.)</p> <pre class="fish" data-language="fish">
if test -n "$MANPATH"
    echo $MANPATH
end
</pre>
<p>Parentheses and the <code>-o</code> and <code>-a</code> operators can be combined to produce more complicated expressions. In this example, success is printed if there is a <code>/foo</code> or <code>/bar</code> file as well as a <code>/baz</code> or <code>/bat</code> file.</p> <pre class="fish" data-language="fish">
if test \( -f /foo -o -f /bar \) -a \( -f /baz -o -f /bat \)
    echo Success.
end.
</pre>
<p>Numerical comparisons will simply fail if one of the operands is not a number:</p> <pre class="fish" data-language="fish">
if test 42 -eq "The answer to life, the universe and everything"
    echo So long and thanks for all the fish ## will not be executed
end
</pre>
<p>A common comparison is with $status:</p> <pre class="fish" data-language="fish">
if test $status -eq 0
    echo "Previous command succeeded"
end
</pre>
<p>The previous test can likewise be inverted:</p> <pre class="fish" data-language="fish">
if test ! $status -eq 0
    echo "Previous command failed"
end
</pre>
<p>which is logically equivalent to the following:</p> <pre class="fish" data-language="fish">
if test $status -ne 0
    echo "Previous command failed"
end
</pre>
<h3 id="test-standards">
 Standards</h3> <p><code>test</code> implements a subset of the <a href="http://www.unix.com/man-page/POSIX/1/test/" target="_blank">IEEE Std 1003.1-2008 (POSIX.1) standard</a>. The following exceptions apply:</p> <ul> <li>The <code>&lt;</code> and <code>&gt;</code> operators for comparing strings are not implemented.</li> <li>
<p class="startli">Because this test is a shell builtin and not a standalone utility, using the -c flag on a special file descriptors like standard input and output may not return the same result when invoked from within a pipe as one would expect when invoking the <code>test</code> utility in another shell.</p> <p class="startli">In cases such as this, one can use <code>command</code> <code>test</code> to explicitly use the system's standalone <code>test</code> rather than this <code>builtin</code> <code>test</code>.</p> </li> </ul> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="trap">
 trap - perform an action when the shell receives a signal</h2> <h3 id="trap-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
trap [OPTIONS] [[ARG] REASON ... ]
</pre>
<h3 id="trap-description">
 Description</h3> <p><code>trap</code> is a wrapper around the fish event delivery framework. It exists for backwards compatibility with POSIX shells. For other uses, it is recommended to define an <a href="../#event">event handler</a>.</p> <p>The following parameters are available:</p> <ul> <li>
<code>ARG</code> is the command to be executed on signal delivery.</li> <li>
<code>REASON</code> is the name of the event to trap. For example, a signal like <code>INT</code> or <code>SIGINT</code>, or the special symbol <code>EXIT</code>.</li> <li>
<code>-l</code> or <code>--list-signals</code> prints a list of signal names.</li> <li>
<code>-p</code> or <code>--print</code> prints all defined signal handlers.</li> </ul> <p>If <code>ARG</code> and <code>REASON</code> are both specified, <code>ARG</code> is the command to be executed when the event specified by <code>REASON</code> occurs (e.g., the signal is delivered).</p> <p>If <code>ARG</code> is absent (and there is a single REASON) or -, each specified signal is reset to its original disposition (the value it had upon entrance to the shell). If <code>ARG</code> is the null string the signal specified by each <code>REASON</code> is ignored by the shell and by the commands it invokes.</p> <p>If <code>ARG</code> is not present and <code>-p</code> has been supplied, then the trap commands associated with each <code>REASON</code> are displayed. If no arguments are supplied or if only <code>-p</code> is given, <code>trap</code> prints the list of commands associated with each signal.</p> <p>Signal names are case insensitive and the <code>SIG</code> prefix is optional.</p> <p>The return status is 1 if any <code>REASON</code> is invalid; otherwise trap returns 0.</p> <h3 id="trap-example">
 Example</h3> <pre class="fish" data-language="fish">
trap "status --print-stack-trace" SIGUSR1
# Prints a stack trace each time the SIGUSR1 signal is sent to the shell.
</pre>
<p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="true">
 true - return a successful result</h2> <h3 id="true-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
true
</pre>
<h3 id="true-description">
 Description</h3> <p><code>true</code> sets the exit status to 0.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="type">
 type - indicate how a command would be interpreted</h2> <h3 id="type-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
type [OPTIONS] NAME [NAME ...]
</pre>
<h3 id="type-description">
 Description</h3> <p>With no options, <code>type</code> indicates how each <code>NAME</code> would be interpreted if used as a command name.</p> <p>The following options are available:</p> <ul> <li>
<code>-a</code> or <code>--all</code> prints all of possible definitions of the specified names.</li> <li>
<code>-f</code> or <code>--no-functions</code> suppresses function and builtin lookup.</li> <li>
<code>-t</code> or <code>--type</code> prints <code>function</code>, <code>builtin</code>, or <code>file</code> if <code>NAME</code> is a shell function, builtin, or disk file, respectively.</li> <li>
<code>-p</code> or <code>--path</code> returns the name of the disk file that would be executed, or nothing if <code>type -t name</code> would not return <code>file</code>.</li> <li>
<code>-P</code> or <code>--force-path</code> returns the name of the disk file that would be executed, or nothing if no file with the specified name could be found in the <code>$PATH</code>.</li> <li>
<code>-q</code> or <code>--quiet</code> suppresses all output; this is useful when testing the exit status.</li> </ul> <p>The <code>-q</code>, <code>-p</code>, <code>-t</code> and <code>-P</code> flags (and their long flag aliases) are mutually exclusive. Only one can be specified at a time.</p> <h3 id="type-example">
 Example</h3> <pre class="fish cli-dark" data-language="fish">
&gt; type fg
fg is a builtin
</pre>
<p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="ulimit">
 ulimit - set or get resource usage limits</h2> <h3 id="ulimit-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
ulimit [OPTIONS] [LIMIT]
</pre>
<h3 id="ulimit-description">
 Description</h3> <p><code>ulimit</code> builtin sets or outputs the resource usage limits of the shell and any processes spawned by it. If a new limit value is omitted, the current value of the limit of the resource is printed; otherwise, the specified limit is set to the new value.</p> <p>Use one of the following switches to specify which resource limit to set or report:</p> <ul> <li>
<code>-c</code> or <code>--core-size</code>: the maximum size of core files created. By setting this limit to zero, core dumps can be disabled.</li> <li>
<code>-d</code> or <code>--data-size</code>: the maximum size of a process' data segment.</li> <li>
<code>-f</code> or <code>--file-size</code>: the maximum size of files created by the shell.</li> <li>
<code>-l</code> or <code>--lock-size</code>: the maximum size that may be locked into memory.</li> <li>
<code>-m</code> or <code>--resident-set-size</code>: the maximum resident set size.</li> <li>
<code>-n</code> or <code>--file-descriptor-count</code>: the maximum number of open file descriptors (most systems do not allow this value to be set).</li> <li>
<code>-s</code> or <code>--stack-size</code>: the maximum stack size.</li> <li>
<code>-t</code> or <code>--cpu-time</code>: the maximum amount of CPU time in seconds.</li> <li>
<code>-u</code> or <code>--process-count</code>: the maximum number of processes available to a single user.</li> <li>
<code>-v</code> or <code>--virtual-memory-size</code> The maximum amount of virtual memory available to the shell.</li> </ul> <p>Note that not all these limits are available in all operating systems.</p> <p>The value of limit can be a number in the unit specified for the resource or one of the special values <code>hard</code>, <code>soft</code>, or <code>unlimited</code>, which stand for the current hard limit, the current soft limit, and no limit, respectively.</p> <p>If limit is given, it is the new value of the specified resource. If no option is given, then <code>-f</code> is assumed. Values are in kilobytes, except for <code>-t</code>, which is in seconds and <code>-n</code> and <code>-u</code>, which are unscaled values. The return status is 0 unless an invalid option or argument is supplied, or an error occurs while setting a new limit.</p> <p><code>ulimit</code> also accepts the following switches that determine what type of limit to set:</p> <ul> <li>
<code>-H</code> or <code>--hard</code> sets hard resource limit</li> <li>
<code>-S</code> or <code>--soft</code> sets soft resource limit</li> </ul> <p>A hard limit can only be decreased. Once it is set it cannot be increased; a soft limit may be increased up to the value of the hard limit. If neither -H nor -S is specified, both the soft and hard limits are updated when assigning a new limit value, and the soft limit is used when reporting the current value.</p> <p>The following additional options are also understood by <code>ulimit</code>:</p> <ul> <li>
<code>-a</code> or <code>--all</code> prints all current limits</li> </ul> <p>The <code>fish</code> implementation of <code>ulimit</code> should behave identically to the implementation in bash, except for these differences:</p> <ul> <li>Fish <code>ulimit</code> supports GNU-style long options for all switches</li> <li>Fish <code>ulimit</code> does not support the <code>-p</code> option for getting the pipe size. The bash implementation consists of a compile-time check that empirically guesses this number by writing to a pipe and waiting for SIGPIPE. Fish does not do this because it this method of determining pipe size is unreliable. Depending on bash version, there may also be further additional limits to set in bash that do not exist in fish.</li> <li>Fish <code>ulimit</code> does not support getting or setting multiple limits in one command, except reporting all values using the -a switch</li> </ul> <h3 id="ulimit-example">
 Example</h3> <p><code>ulimit -Hs 64</code> sets the hard stack size limit to 64 kB.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="umask">
 umask - set or get the file creation mode mask</h2> <h3 id="umask-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
umask [OPTIONS] [MASK]
</pre>
<h3 id="umask-description">
 Description</h3> <p><code>umask</code> displays and manipulates the "umask", or file creation mode mask, which is used to restrict the default access to files.</p> <p>The umask may be expressed either as an octal number, which represents the rights that will be removed by default, or symbolically, which represents the only rights that will be granted by default.</p> <p>Access rights are explained in the manual page for the <code>chmod</code>(1) program.</p> <p>With no parameters, the current file creation mode mask is printed as an octal number.</p> <ul> <li>
<code>-h</code> or <code>--help</code> prints this message.</li> <li>
<code>-S</code> or <code>--symbolic</code> prints the umask in symbolic form instead of octal form.</li> <li>
<code>-p</code> or <code>--as-command</code> outputs the umask in a form that may be reused as input</li> </ul> <p>If a numeric mask is specified as a parameter, the current shell's umask will be set to that value, and the rights specified by that mask will be removed from new files and directories by default.</p> <p>If a symbolic mask is specified, the desired permission bits, and not the inverse, should be specified. A symbolic mask is a comma separated list of rights. Each right consists of three parts:</p> <ul> <li>The first part specifies to whom this set of right applies, and can be one of <code>u</code>, <code>g</code>, <code>o</code> or <code>a</code>, where <code>u</code> specifies the user who owns the file, <code>g</code> specifies the group owner of the file, <code>o</code> specific other users rights and <code>a</code> specifies all three should be changed.</li> <li>The second part of a right specifies the mode, and can be one of <code>=</code>, <code>+</code> or <code>-</code>, where <code>=</code> specifies that the rights should be set to the new value, <code>+</code> specifies that the specified right should be added to those previously specified and <code>-</code> specifies that the specified rights should be removed from those previously specified.</li> <li>The third part of a right specifies what rights should be changed and can be any combination of <code>r</code>, <code>w</code> and <code>x</code>, representing read, write and execute rights.</li> </ul> <p>If the first and second parts are skipped, they are assumed to be <code>a</code> and <code>=</code>, respectively. As an example, <code>r,u+w</code> means all users should have read access and the file owner should also have write access.</p> <p>Note that symbolic masks currently do not work as intended.</p> <h3 id="umask-example">
 Example</h3> <p><code>umask 177</code> or <code>umask u=rw</code> sets the file creation mask to read and write for the owner and no permissions at all for any other users.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="vared">
 vared - interactively edit the value of an environment variable</h2> <h3 id="vared-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
vared VARIABLE_NAME
</pre>
<h3 id="vared-description">
 Description</h3> <p><code>vared</code> is used to interactively edit the value of an environment variable. Array variables as a whole can not be edited using <code>vared</code>, but individual array elements can.</p> <h3 id="vared-example">
 Example</h3> <p><code>vared PATH[3]</code> edits the third element of the PATH array</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="wait">
 wait - wait for jobs to complete</h2> <h3 id="wait-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
wait [-n | --any] [PID | PROCESS_NAME] ...
</pre>
<h3 id="wait-description">
 Description</h3> <p><code>wait</code> waits for child jobs to complete.</p> <ul> <li>If a pid is specified, the command waits for the job that the process with the pid belongs to.</li> <li>If a process name is specified, the command waits for the jobs that the matched processes belong to.</li> <li>If neither a pid nor a process name is specified, the command waits for all background jobs.</li> <li>If the <code>-n</code> / <code>--any</code> flag is provided, the command returns as soon as the first job completes. If it is not provided, it returns after all jobs complete.</li> </ul> <h3 id="wait-example">
 Example</h3> <pre class="fish" data-language="fish">
sleep 10 &amp;
wait $last_pid
</pre>
<p> spawns <code>sleep</code> in the background, and then waits until it finishes. </p> <pre class="fish" data-language="fish">
for i in (seq 1 5); sleep 10 &amp;; end
wait
</pre>
<p> spawns five jobs in the background, and then waits until all of them finishes. </p> <pre class="fish" data-language="fish">
for i in (seq 1 5); sleep 10 &amp;; end
hoge &amp;
wait sleep
</pre>
<p> spawns five jobs and <code>hoge</code> in the background, and then waits until all <code>sleep</code>s finishes, and doesn't wait for <code>hoge</code> finishing.</p> <p>Back to <a href="../#toc-commands">command index</a>. </p> <h2 id="while">
 while - perform a command multiple times</h2> <h3 id="while-synopsis">
 Synopsis</h3> <pre class="fish synopsis" data-language="fish">
while CONDITION; COMMANDS...; end
</pre>
<h3 id="while-description">
 Description</h3> <p><code>while</code> repeatedly executes <code>CONDITION</code>, and if the exit status is 0, then executes <code>COMMANDS</code>.</p> <p>The exit status of the while loop is the exit status of the last iteration of the <code>COMMANDS</code> executed, or 0 if none were executed. (This matches other shells and is POSIX-compatible.)</p> <p>You can use <a href="#and"><code>and</code></a> or <a href="#or"><code>or</code></a> for complex conditions. Even more complex control can be achieved with <code>while true</code> containing a <a href="#break">break</a>.</p> <h3 id="while-example">
 Example</h3> <pre class="fish" data-language="fish">
while test -f foo.txt; or test -f bar.txt ; echo file exists; sleep 10; end
# outputs 'file exists' at 10 second intervals as long as the file foo.txt or bar.txt exists.
</pre>
<p>Back to <a href="../#toc-commands">command index</a>.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2009 Axel Liljencrantz<br>Licensed under the GNU General Public License, version 2.<br>
    <a href="https://fishshell.com/docs/3.0/commands.html" class="_attribution-link" target="_blank">https://fishshell.com/docs/3.0/commands.html</a>
  </p>
</div>

				
			</div>
			<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
</amp-auto-ads>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
