
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>ExUnit - Elixir 1.9 - W3cubDocs</title>
  
  <meta name="description" content=" Unit testing framework for Elixir. ">
  <meta name="keywords" content="exunit, summary, types, failed, state, suite, result, functions, after, function, configuration, configure, options, plural, rule, word, pluralization, run, start, -, elixir, elixir~1.9">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/elixir~1.9/exunit/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" integrity="sha256-6/DH7X+2hvUPElJfGsvzm+tgIpmM9zjbYxnpsr6gR1A=" crossorigin="anonymous" href="/assets/application-ebf0c7ed7fb686f50f12525f1acbf39beb6022998cf738db6319e9b2bea04750.css">
  <script type="text/javascript" src="/assets/application-db285287b40ed28fac520fcfd75d7d874692b647b5b5e05968c741dda5de4148.js" integrity="sha256-2yhSh7QO0o+sUg/P1119h0aStke1teBZaMdB3aXeQUg=" crossorigin="anonymous"></script>
  <script src="/json/elixir~1.9.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-2572770204602497",
            enable_page_level_ads: true
        });
  </script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/elixir~1.9/" class="_nav-link" title="" style="margin-left:0;">Elixir 1.9</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _elixir">
				
				
<h1>  ExUnit  </h1>  <p>Unit testing framework for Elixir.</p> <h2 id="module-example" class="section-heading">  Example </h2> <p>A basic setup for ExUnit is shown below:</p> <pre data-language="elixir"># File: assertion_test.exs

# 1) Start ExUnit.
ExUnit.start()

# 2) Create a new test module (test case) and use "ExUnit.Case".
defmodule AssertionTest do
  # 3) Notice we pass "async: true", this runs the test case
  #    concurrently with other test cases. The individual tests
  #    within each test case are still run serially.
  use ExUnit.Case, async: true

  # 4) Use the "test" macro instead of "def" for clarity.
  test "the truth" do
    assert true
  end
end</pre> <p>To run the tests above, run the file using <code class="inline">elixir</code> from the command line. Assuming you named the file <code class="inline">assertion_test.exs</code>, you can run it as:</p> <pre data-language="elixir">elixir assertion_test.exs</pre> <h2 id="module-case-callbacks-and-assertions" class="section-heading">  Case, Callbacks and Assertions </h2> <p>See <a href="../exunit.case/"><code class="inline">ExUnit.Case</code></a> and <a href="../exunit.callbacks/"><code class="inline">ExUnit.Callbacks</code></a> for more information about defining test cases and setting up callbacks.</p> <p>The <a href="../exunit.assertions/"><code class="inline">ExUnit.Assertions</code></a> module contains a set of macros to generate assertions with appropriate error messages.</p> <h2 id="module-integration-with-mix" class="section-heading">  Integration with Mix </h2> <p>Mix is the project management and build tool for Elixir. Invoking <a href="https://hexdocs.pm/mix/Mix.Tasks.Test.html" target="_blank"><code class="inline">mix test</code></a> from the command line will run the tests in each file matching the pattern <code class="inline">*_test.exs</code> found in the <code class="inline">test</code> directory of your project.</p> <p>You must create a <code class="inline">test_helper.exs</code> file inside the <code class="inline">test</code> directory and put the code common to all tests there.</p> <p>The minimum example of a <code class="inline">test_helper.exs</code> file would be:</p> <pre data-language="elixir"># test/test_helper.exs
ExUnit.start()</pre> <p>Mix will load the <code class="inline">test_helper.exs</code> file before executing the tests. It is not necessary to <code class="inline">require</code> the <code class="inline">test_helper.exs</code> file in your test files. See <a href="https://hexdocs.pm/mix/Mix.Tasks.Test.html" target="_blank"><code class="inline">Mix.Tasks.Test</code></a> for more information.</p>   <h1 class="section-heading" id="summary">  Summary </h1> <h2> Types </h2>
<dl class="summary-types summary">   <dt class="summary-signature"> <a href="#t:failed/0">failed()</a> </dt> <dd class="summary-synopsis"><p>The error state returned by <a href="../exunit.test/"><code class="inline">ExUnit.Test</code></a> and <a href="../exunit.testmodule/"><code class="inline">ExUnit.TestModule</code></a></p></dd>   <dt class="summary-signature"> <a href="#t:state/0">state()</a> </dt> <dd class="summary-synopsis"><p>All tests start with a state of <code class="inline">nil</code>.</p></dd>   <dt class="summary-signature"> <a href="#t:suite_result/0">suite_result()</a> </dt> <dd class="summary-synopsis"><p>A map representing the results of running a test suite</p></dd>  </dl> <h2> Functions </h2>
<dl class="summary-functions summary">   <dt class="summary-signature"> <a href="#after_suite/1">after_suite(function)</a> </dt> <dd class="summary-synopsis"><p>Sets a callback to be executed after the completion of a test suite.</p></dd>   <dt class="summary-signature"> <a href="#configuration/0">configuration()</a> </dt> <dd class="summary-synopsis"><p>Returns ExUnit configuration.</p></dd>   <dt class="summary-signature"> <a href="#configure/1">configure(options)</a> </dt> <dd class="summary-synopsis"><p>Configures ExUnit.</p></dd>   <dt class="summary-signature"> <a href="#plural_rule/1">plural_rule(word)</a> </dt> <dd class="summary-synopsis"><p>Returns the pluralization for <code class="inline">word</code>.</p></dd>   <dt class="summary-signature"> <a href="#plural_rule/2">plural_rule(word, pluralization)</a> </dt> <dd class="summary-synopsis"><p>Registers a <code class="inline">pluralization</code> for <code class="inline">word</code>.</p></dd>   <dt class="summary-signature"> <a href="#run/0">run()</a> </dt> <dd class="summary-synopsis"><p>Runs the tests. It is invoked automatically if ExUnit is started via <a href="#start/1"><code class="inline">start/1</code></a>.</p></dd>   <dt class="summary-signature"> <a href="#start/1">start(options \\ [])</a> </dt> <dd class="summary-synopsis"><p>Starts ExUnit and automatically runs tests right before the VM terminates.</p></dd>  </dl>   <h1 class="section-heading" id="types">  Types </h1>   <h3 class="detail-header type" id="t:failed/0">  <h1 class="signature">failed()</h1>     </h3>
<pre data-language="elixir">failed() :: [{Exception.kind(), reason :: term(), Exception.stacktrace()}]</pre>  <p>The error state returned by <a href="../exunit.test/"><code class="inline">ExUnit.Test</code></a> and <a href="../exunit.testmodule/"><code class="inline">ExUnit.TestModule</code></a></p>    <h3 class="detail-header type" id="t:state/0">  <h1 class="signature">state()</h1>     </h3>
<pre data-language="elixir">state() ::
  nil
  | {:failed, failed()}
  | {:skipped, binary()}
  | {:excluded, binary()}
  | {:invalid, module()}</pre>  <p>All tests start with a state of <code class="inline">nil</code>.</p> <p>A finished test can be in one of five states:</p> <ol> <li>Passed (also represented by <code class="inline">nil</code>) </li> <li>Failed </li> <li>Skipped (via @tag :skip) </li> <li>Excluded (via :exclude filters) </li> <li>Invalid (when setup_all fails) </li> </ol>    <h3 class="detail-header type" id="t:suite_result/0">  <h1 class="signature">suite_result()</h1>     </h3>
<pre data-language="elixir">suite_result() :: %{
  excluded: non_neg_integer(),
  failures: non_neg_integer(),
  skipped: non_neg_integer(),
  total: non_neg_integer()
}</pre>  <p>A map representing the results of running a test suite</p>      <h1 class="section-heading" id="functions">  Functions </h1>   <h3 class="detail-header function" id="after_suite/1">  <h1 class="signature">after_suite(function)</h1>  <span class="note">(since 1.8.0)</span>    </h3>
<pre data-language="elixir">after_suite((suite_result() -&gt; any())) :: :ok</pre>  <p>Sets a callback to be executed after the completion of a test suite.</p> <p>Callbacks set with <a href="#after_suite/1"><code class="inline">after_suite/1</code></a> must accept a single argument, which is a map containing the results of the test suite's execution.</p> <p>If <a href="#after_suite/1"><code class="inline">after_suite/1</code></a> is called multiple times, the callbacks will be called in reverse order. In other words, the last callback set will be the first to be called.</p>    <h3 class="detail-header function" id="configuration/0">  <h1 class="signature">configuration()</h1>     </h3>
<pre data-language="elixir">configuration() :: Keyword.t()</pre>  <p>Returns ExUnit configuration.</p>    <h3 class="detail-header function" id="configure/1">  <h1 class="signature">configure(options)</h1>     </h3>
<pre data-language="elixir">configure(Keyword.t()) :: :ok</pre>  <p>Configures ExUnit.</p> <h4 id="configure/1-options" class="section-heading">  Options </h4> <p>ExUnit supports the following options:</p> <ul> <li>
<p><code class="inline">:assert_receive_timeout</code> - the timeout to be used on <code class="inline">assert_receive</code> calls in milliseconds, defaults to <code class="inline">100</code>;</p> </li> <li>
<p><code class="inline">:autorun</code> - if ExUnit should run by default on exit. Defaults to <code class="inline">true</code>;</p> </li> <li>
<p><code class="inline">:capture_log</code> - if ExUnit should default to keeping track of log messages and print them on test failure. Can be overridden for individual tests via <code class="inline">@tag capture_log: false</code>. Defaults to <code class="inline">false</code>;</p> </li> <li>
<p><code class="inline">:colors</code> - a keyword list of colors to be used by some formatters. The only option so far is <code class="inline">[enabled: boolean]</code> which defaults to <a href="https://hexdocs.pm/elixir/IO.ANSI.html#enabled?/0" target="_blank"><code class="inline">IO.ANSI.enabled?/0</code></a>;</p> </li> <li>
<p><code class="inline">:exclude</code> - specifies which tests are run by skipping tests that match the filter;</p> </li> <li>
<p><code class="inline">:failures_manifest_file</code> - specifies a path to the file used to store failures between runs;</p> </li> <li>
<p><code class="inline">:formatters</code> - the formatters that will print results, defaults to <code class="inline">[ExUnit.CLIFormatter]</code>;</p> </li> <li>
<p><code class="inline">:include</code> - specifies which tests are run by skipping tests that do not match the filter. Keep in mind that all tests are included by default, so unless they are excluded first, the <code class="inline">:include</code> option has no effect. To only run the tests that match the <code class="inline">:include</code> filter, exclude the <code class="inline">:test</code> tag first (see the documentation for <a href="../exunit.case/"><code class="inline">ExUnit.Case</code></a> for more information on tags);</p> </li> <li>
<p><code class="inline">:max_cases</code> - maximum number of tests to run in parallel. Only tests from different modules run in parallel. It defaults to <code class="inline">System.schedulers_online * 2</code> to optimize both CPU-bound and IO-bound tests;</p> </li> <li>
<p><code class="inline">:max_failures</code> - the suite stops evaluating tests when this number of test failures is reached. All tests within a module that fail when using the <code class="inline">setup_all/1,2</code> callbacks are counted as failures. Defaults to <code class="inline">:infinity</code>;</p> </li> <li>
<p><code class="inline">:module_load_timeout</code> - the timeout to be used when loading a test module in milliseconds, defaults to <code class="inline">60_000</code>;</p> </li> <li>
<p><code class="inline">:only_test_ids</code> - a list of <code class="inline">{module_name, test_name}</code> tuples that limits what tests get run;</p> </li> <li>
<p><code class="inline">:refute_receive_timeout</code> - the timeout to be used on <code class="inline">refute_receive</code> calls in milliseconds, defaults to <code class="inline">100</code>;</p> </li> <li>
<p><code class="inline">:seed</code> - an integer seed value to randomize the test suite. This seed is also mixed with the test module and name to create a new unique seed on every test, which is automatically fed into the <code class="inline">:rand</code> module. This provides randomness between tests, but predictable and reproducible results;</p> </li> <li>
<p><code class="inline">:slowest</code> - prints timing information for the N slowest tests. Running ExUnit with slow test reporting automatically runs in <code class="inline">trace</code> mode. It is disabled by default;</p> </li> <li>
<p><code class="inline">:stacktrace_depth</code> - configures the stacktrace depth to be used on formatting and reporters, defaults to <code class="inline">20</code>;</p> </li> <li>
<p><code class="inline">:timeout</code> - sets the timeout for the tests in milliseconds, defaults to <code class="inline">60_000</code>;</p> </li> <li>
<p><code class="inline">:trace</code> - sets ExUnit into trace mode, this sets <code class="inline">:max_cases</code> to <code class="inline">1</code> and prints each test case and test while running. Note that in trace mode test timeouts will be ignored as timeout is set to <code class="inline">:infinity</code>.</p> </li> <li>
<p><code class="inline">:test_location_relative_path</code> - the test location is the file:line information printed by tests as a shortcut to run a given test. When this value is set, the value is used as a prefix for the test itself. This is typically used by Mix to properly set-up umbrella projects</p> </li> </ul> <p>Any arbitrary configuration can also be passed to <a href="#configure/1"><code class="inline">configure/1</code></a> or <a href="#start/1"><code class="inline">start/1</code></a>, and these options can then be used in places such as custom formatters. These other options will be ignored by ExUnit itself.</p>    <h3 class="detail-header function" id="plural_rule/1">  <h1 class="signature">plural_rule(word)</h1>     </h3>
<pre data-language="elixir">plural_rule(binary()) :: binary()</pre>  <p>Returns the pluralization for <code class="inline">word</code>.</p> <p>If one is not registered, returns the word appended with an "s".</p>    <h3 class="detail-header function" id="plural_rule/2">  <h1 class="signature">plural_rule(word, pluralization)</h1>     </h3>
<pre data-language="elixir">plural_rule(binary(), binary()) :: :ok</pre>  <p>Registers a <code class="inline">pluralization</code> for <code class="inline">word</code>.</p> <p>If one is already registered, it is replaced.</p>    <h3 class="detail-header function" id="run/0">  <h1 class="signature">run()</h1>     </h3>
<pre data-language="elixir">run() :: suite_result()</pre>  <p>Runs the tests. It is invoked automatically if ExUnit is started via <a href="#start/1"><code class="inline">start/1</code></a>.</p> <p>Returns a map containing the total number of tests, the number of failures, the number of excluded tests and the number of skipped tests.</p>     <h3 class="detail-header function" id="start/1">  <h1 class="signature">start(options \\ [])</h1>     </h3>
<pre data-language="elixir">start(Keyword.t()) :: :ok</pre>  <p>Starts ExUnit and automatically runs tests right before the VM terminates.</p> <p>It accepts a set of <code class="inline">options</code> to configure <a href="#content"><code class="inline">ExUnit</code></a> (the same ones accepted by <a href="#configure/1"><code class="inline">configure/1</code></a>).</p> <p>If you want to run tests manually, you can set the <code class="inline">:autorun</code> option to <code class="inline">false</code> and use <a href="#run/0"><code class="inline">run/0</code></a> to run tests.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2012 Plataformatec<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://hexdocs.pm/ex_unit/1.9.1/ExUnit.html" class="_attribution-link" target="_blank">https://hexdocs.pm/ex_unit/1.9.1/ExUnit.html</a>
  </p>
</div>

				
			</div>
			<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
</amp-auto-ads>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
