
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>EagerLoader (Class) - CakePHP 3.8 - W3cubDocs</title>
  
  <meta name="description" content="Exposes the methods for storing the associations that should be eager loaded for a table once a query is provided and delegates the job of creating &hellip;">
  <meta name="keywords" content="class, eagerloader, -, cakephp, cakephp~3.8">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/cakephp~3.8/class-cake.orm.eagerloader/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" integrity="sha256-6/DH7X+2hvUPElJfGsvzm+tgIpmM9zjbYxnpsr6gR1A=" crossorigin="anonymous" href="/assets/application-ebf0c7ed7fb686f50f12525f1acbf39beb6022998cf738db6319e9b2bea04750.css">
  <script type="text/javascript" src="/assets/application-db285287b40ed28fac520fcfd75d7d874692b647b5b5e05968c741dda5de4148.js" integrity="sha256-2yhSh7QO0o+sUg/P1119h0aStke1teBZaMdB3aXeQUg=" crossorigin="anonymous"></script>
  <script src="/json/cakephp~3.8.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-2572770204602497",
            enable_page_level_ads: true
        });
  </script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cakephp~3.8/" class="_nav-link" title="" style="margin-left:0;">CakePHP 3.8</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _cakephp">
				
				
<h1>Class EagerLoader</h1>  <p>Exposes the methods for storing the associations that should be eager loaded for a table once a query is provided and delegates the job of creating the required joins and decorating the results so that those associations can be part of the result set.</p>  <div class="info"> <b>Namespace:</b> <a href="../namespace-cake/">Cake</a>\<a href="../namespace-cake.orm/">ORM</a><br> <b>Location:</b> <a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#23-910" title="Go to source code" target="_blank">ORM/EagerLoader.php</a><br> </div>  <h2>Properties summary</h2> <ul class="member-summary properties"> <li class="clearfix"> <div class="name"> <code><a href="../class-cake.orm.eagerloader/#%24_aliasList">$_aliasList</a></code>  <span class="label">protected</span>  </div> <div class="property-type"><code>array</code></div>  Contains a list of the association names that are to be eagerly loaded  </li> <li class="clearfix"> <div class="name"> <code><a href="../class-cake.orm.eagerloader/#%24_autoFields">$_autoFields</a></code>  <span class="label">protected</span>  </div> <div class="property-type"><code>boolean</code></div>  <p>Controls whether or not fields from associated tables will be eagerly loaded. When set to false, no fields will be loaded from associations.</p>  </li> <li class="clearfix"> <div class="name"> <code><a href="../class-cake.orm.eagerloader/#%24_containOptions">$_containOptions</a></code>  <span class="label">protected</span>  </div> <div class="property-type"><code>array</code></div>  <p>List of options accepted by associations in contain() index by key for faster access</p>  </li> <li class="clearfix"> <div class="name"> <code><a href="../class-cake.orm.eagerloader/#%24_containments">$_containments</a></code>  <span class="label">protected</span>  </div> <div class="property-type"><code>array</code></div>  <p>Nested array describing the association to be fetched and the options to apply for each of them, if any</p>  </li> <li class="clearfix"> <div class="name"> <code><a href="../class-cake.orm.eagerloader/#%24_joinsMap">$_joinsMap</a></code>  <span class="label">protected</span>  </div> <div class="property-type"><code>array</code></div>  <p>A map of table aliases pointing to the association objects they represent for the query.</p>  </li> <li class="clearfix"> <div class="name"> <code><a href="../class-cake.orm.eagerloader/#%24_loadExternal">$_loadExternal</a></code>  <span class="label">protected</span>  </div> <div class="property-type"><code>Cake\ORM\EagerLoadable[]</code></div>  A list of associations that should be loaded with a separate query  </li> <li class="clearfix"> <div class="name"> <code><a href="../class-cake.orm.eagerloader/#%24_matching">$_matching</a></code>  <span class="label">protected</span>  </div> <div class="property-type"><code><a href="../class-cake.orm.eagerloader/">Cake\ORM\EagerLoader</a></code></div>  Another EagerLoader instance that will be used for 'matching' associations.  </li> <li class="clearfix"> <div class="name"> <code><a href="../class-cake.orm.eagerloader/#%24_normalized">$_normalized</a></code>  <span class="label">protected</span>  </div> <div class="property-type"><code>Cake\ORM\EagerLoadable[]|Cake\ORM\EagerLoadable|null</code></div>  <p>Contains a nested array with the compiled containments tree This is a normalized version of the user provided containments array.</p>  </li> </ul>   <h2>Method Summary</h2> <ul class="member-summary"> <li class="clearfix"> <div> <a href="../class-cake.orm.eagerloader/#___clone">__clone()</a> <span class="label">public</span> </div>  Clone hook implementation  </li> <li class="clearfix"> <div> <a href="../class-cake.orm.eagerloader/#__buildAssociationsMap">_buildAssociationsMap()</a> <span class="label">protected</span> </div>  <p>An internal method to build a map which is used for the return value of the associationsMap() method.</p>  </li> <li class="clearfix"> <div> <a href="../class-cake.orm.eagerloader/#__collectKeys">_collectKeys()</a> <span class="label">protected</span> </div>  <p>Helper function used to return the keys from the query records that will be used to eagerly load associations.</p>  </li> <li class="clearfix"> <div> <a href="../class-cake.orm.eagerloader/#__correctStrategy">_correctStrategy()</a> <span class="label">protected</span> </div>  <p>Changes the association fetching strategy if required because of duplicate under the same direct associations chain</p>  </li> <li class="clearfix"> <div> <a href="../class-cake.orm.eagerloader/#__fixStrategies">_fixStrategies()</a> <span class="label">protected</span> </div>  <p>Iterates over the joinable aliases list and corrects the fetching strategies in order to avoid aliases collision in the generated queries.</p>  </li> <li class="clearfix"> <div> <a href="../class-cake.orm.eagerloader/#__groupKeys">_groupKeys()</a> <span class="label">protected</span> </div>  <p>Helper function used to iterate a statement and extract the columns defined in $collectKeys</p>  </li> <li class="clearfix"> <div> <a href="../class-cake.orm.eagerloader/#__normalizeContain">_normalizeContain()</a> <span class="label">protected</span> </div>  <p>Auxiliary function responsible for fully normalizing deep associations defined using <code>contain()</code></p>  </li> <li class="clearfix"> <div> <a href="../class-cake.orm.eagerloader/#__reformatContain">_reformatContain()</a> <span class="label">protected</span> </div>  <p>Formats the containments array so that associations are always set as keys in the array. This function merges the original associations array with the new associations provided</p>  </li> <li class="clearfix"> <div> <a href="../class-cake.orm.eagerloader/#__resolveJoins">_resolveJoins()</a> <span class="label">protected</span> </div>  <p>Helper function used to compile a list of all associations that can be joined in the query.</p>  </li> <li class="clearfix"> <div> <a href="../class-cake.orm.eagerloader/#_addToJoinsMap">addToJoinsMap()</a> <span class="label">public</span> </div>  <p>Registers a table alias, typically loaded as a join in a query, as belonging to an association. This helps hydrators know what to do with the columns coming from such joined table.</p>  </li> <li class="clearfix"> <div> <a href="../class-cake.orm.eagerloader/#_associationsMap">associationsMap()</a> <span class="label">public</span> </div>  <p>Returns an array having as keys a dotted path of associations that participate in this eager loader. The values of the array will contain the following keys</p>  </li> <li class="clearfix"> <div> <a href="../class-cake.orm.eagerloader/#_attachAssociations">attachAssociations()</a> <span class="label">public</span> </div>  <p>Modifies the passed query to apply joins or any other transformation required in order to eager load the associations described in the <code>contain</code> array. This method will not modify the query for loading external associations, i.e. those that cannot be loaded without executing a separate query.</p>  </li> <li class="clearfix"> <div> <a href="../class-cake.orm.eagerloader/#_attachableAssociations">attachableAssociations()</a> <span class="label">public</span> </div>  <p>Returns an array with the associations that can be fetched using a single query, the array keys are the association aliases and the values will contain an array with Cake\ORM\EagerLoadable objects.</p>  </li> <li class="clearfix"> <div> <a href="../class-cake.orm.eagerloader/#_autoFields">autoFields()</a> <span class="label">public</span> <span class="label">deprecated</span> </div>  Sets/Gets whether or not contained associations will load fields automatically.  </li> <li class="clearfix"> <div> <a href="../class-cake.orm.eagerloader/#_clearContain">clearContain()</a> <span class="label">public</span> </div>  Remove any existing non-matching based containments.  </li> <li class="clearfix"> <div> <a href="../class-cake.orm.eagerloader/#_contain">contain()</a> <span class="label">public</span> </div>  <p>Sets the list of associations that should be eagerly loaded along for a specific table using when a query is provided. The list of associated tables passed to this method must have been previously set as associations using the Table API.</p>  </li> <li class="clearfix"> <div> <a href="../class-cake.orm.eagerloader/#_disableAutoFields">disableAutoFields()</a> <span class="label">public</span> </div>  Disable auto loading fields of contained associations.  </li> <li class="clearfix"> <div> <a href="../class-cake.orm.eagerloader/#_enableAutoFields">enableAutoFields()</a> <span class="label">public</span> </div>  Sets whether or not contained associations will load fields automatically.  </li> <li class="clearfix"> <div> <a href="../class-cake.orm.eagerloader/#_externalAssociations">externalAssociations()</a> <span class="label">public</span> </div>  <p>Returns an array with the associations that need to be fetched using a separate query, each array value will contain a Cake\ORM\EagerLoadable object.</p>  </li> <li class="clearfix"> <div> <a href="../class-cake.orm.eagerloader/#_getContain">getContain()</a> <span class="label">public</span> </div>  <p>Gets the list of associations that should be eagerly loaded along for a specific table using when a query is provided. The list of associated tables passed to this method must have been previously set as associations using the Table API.</p>  </li> <li class="clearfix"> <div> <a href="../class-cake.orm.eagerloader/#_getMatching">getMatching()</a> <span class="label">public</span> </div>  Returns the current tree of associations to be matched.  </li> <li class="clearfix"> <div> <a href="../class-cake.orm.eagerloader/#_isAutoFieldsEnabled">isAutoFieldsEnabled()</a> <span class="label">public</span> </div>  Gets whether or not contained associations will load fields automatically.  </li> <li class="clearfix"> <div> <a href="../class-cake.orm.eagerloader/#_loadExternal">loadExternal()</a> <span class="label">public</span> </div>  <p>Decorates the passed statement object in order to inject data from associations that cannot be joined directly.</p>  </li> <li class="clearfix"> <div> <a href="../class-cake.orm.eagerloader/#_matching">matching()</a> <span class="label">public</span> <span class="label">deprecated</span> </div>  <p>Adds a new association to the list that will be used to filter the results of any given query based on the results of finding records for that association. You can pass a dot separated path of associations to this method as its first parameter, this will translate in setting all those associations with the <code>matching</code> option.</p>  </li> <li class="clearfix"> <div> <a href="../class-cake.orm.eagerloader/#_normalized">normalized()</a> <span class="label">public</span> </div>  <p>Returns the fully normalized array of associations that should be eagerly loaded for a table. The normalized array will restructure the original array by sorting all associations under one key and special options under another.</p>  </li> <li class="clearfix"> <div> <a href="../class-cake.orm.eagerloader/#_setMatching">setMatching()</a> <span class="label">public</span> </div>  <p>Adds a new association to the list that will be used to filter the results of any given query based on the results of finding records for that association. You can pass a dot separated path of associations to this method as its first parameter, this will translate in setting all those associations with the <code>matching</code> option.</p>  </li> </ul>   <h2>Method Detail</h2> <div class="method-detail">   <h3 class="method-name" id="___clone"> <span class="name">__clone()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#897-909" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">__clone( )</pre>  <p>Clone hook implementation</p> <p>Clone the _matching eager loader as well.</p>  </div> <div class="method-detail">   <h3 class="method-name" id="__buildAssociationsMap"> <span class="name">_buildAssociationsMap()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#758-790" title="Go to source code" class="source" target="_blank">source</a> <span class="label">protected</span>  </h3> <pre class="method-signature" data-language="php">_buildAssociationsMap( array $map , array $level , boolean $matching = false )</pre>  <p>An internal method to build a map which is used for the return value of the associationsMap() method.</p> <h4>Parameters</h4>  <dl> <dt> array <code>$map</code> </dt> <dd>An initial array for the map.</dd> <dt> array <code>$level</code> </dt> <dd>An array of EagerLoadable instances.</dd> <dt> boolean <code>$matching</code> <span class="label">optional</span> <span class="php-keyword1">false</span> </dt> <dd>Whether or not it is an association loaded through <code>matching()</code>.</dd> </dl>  <h4>Returns</h4>  array<br>   </div> <div class="method-detail">   <h3 class="method-name" id="__collectKeys"> <span class="name">_collectKeys()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#817-858" title="Go to source code" class="source" target="_blank">source</a> <span class="label">protected</span>  </h3> <pre class="method-signature" data-language="php">_collectKeys( array $external , Cake\ORM\Query $query , Cake\Database\Statement\BufferedStatement $statement )</pre>  <p>Helper function used to return the keys from the query records that will be used to eagerly load associations.</p> <h4>Parameters</h4>  <dl> <dt> array <code>$external</code> </dt> <dd>the list of external associations to be loaded</dd> <dt> <code><a href="../class-cake.orm.query/">Cake\ORM\Query</a></code> <code>$query</code> </dt> <dd>The query from which the results where generated</dd> <dt> <code><a href="../class-cake.database.statement.bufferedstatement/">Cake\Database\Statement\BufferedStatement</a></code> <code>$statement</code> </dt> <dd>The statement to work on</dd> </dl>  <h4>Returns</h4>  array<br>   </div> <div class="method-detail">   <h3 class="method-name" id="__correctStrategy"> <span class="name">_correctStrategy()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#625-646" title="Go to source code" class="source" target="_blank">source</a> <span class="label">protected</span>  </h3> <pre class="method-signature" data-language="php">_correctStrategy( Cake\ORM\EagerLoadable $loadable )</pre>  <p>Changes the association fetching strategy if required because of duplicate under the same direct associations chain</p> <h4>Parameters</h4>  <dl> <dt> Cake\ORM\EagerLoadable <code>$loadable</code> </dt> <dd>The association config</dd> </dl>   </div> <div class="method-detail">   <h3 class="method-name" id="__fixStrategies"> <span class="name">_fixStrategies()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#599-623" title="Go to source code" class="source" target="_blank">source</a> <span class="label">protected</span>  </h3> <pre class="method-signature" data-language="php">_fixStrategies( )</pre>  <p>Iterates over the joinable aliases list and corrects the fetching strategies in order to avoid aliases collision in the generated queries.</p> <p>This function operates on the array references that were generated by the _normalizeContain() function.</p>  </div> <div class="method-detail">   <h3 class="method-name" id="__groupKeys"> <span class="name">_groupKeys()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#860-895" title="Go to source code" class="source" target="_blank">source</a> <span class="label">protected</span>  </h3> <pre class="method-signature" data-language="php">_groupKeys( Cake\Database\Statement\BufferedStatement $statement , array $collectKeys )</pre>  <p>Helper function used to iterate a statement and extract the columns defined in $collectKeys</p> <h4>Parameters</h4>  <dl> <dt> <code><a href="../class-cake.database.statement.bufferedstatement/">Cake\Database\Statement\BufferedStatement</a></code> <code>$statement</code> </dt> <dd>The statement to read from.</dd> <dt> array <code>$collectKeys</code> </dt> <dd>The keys to collect</dd> </dl>  <h4>Returns</h4>  array<br>   </div> <div class="method-detail">   <h3 class="method-name" id="__normalizeContain"> <span class="name">_normalizeContain()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#534-597" title="Go to source code" class="source" target="_blank">source</a> <span class="label">protected</span>  </h3> <pre class="method-signature" data-language="php">_normalizeContain( Cake\ORM\Table $parent , string $alias , array $options , array $paths )</pre>  <p>Auxiliary function responsible for fully normalizing deep associations defined using <code>contain()</code></p> <h4>Parameters</h4>  <dl> <dt> <code><a href="../class-cake.orm.table/">Cake\ORM\Table</a></code> <code>$parent</code> </dt> <dd>owning side of the association</dd> <dt> string <code>$alias</code> </dt> <dd>name of the association to be loaded</dd> <dt> array <code>$options</code> </dt> <dd>list of extra options to use for this association</dd> <dt> array <code>$paths</code> </dt> <dd><p>An array with two values, the first one is a list of dot separated strings representing associations that lead to this <code>$alias</code> in the chain of associations to be loaded. The second value is the path to follow in entities' properties to fetch a record of the corresponding association.</p></dd> </dl>  <h4>Returns</h4>  Cake\ORM\EagerLoadable<br>Object with normalized associations<br>  <h4>Throws</h4>  InvalidArgumentException<br>When containments refer to associations that do not exist.<br>   </div> <div class="method-detail">   <h3 class="method-name" id="__reformatContain"> <span class="name">_reformatContain()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#384-457" title="Go to source code" class="source" target="_blank">source</a> <span class="label">protected</span>  </h3> <pre class="method-signature" data-language="php">_reformatContain( array $associations , array $original )</pre>  <p>Formats the containments array so that associations are always set as keys in the array. This function merges the original associations array with the new associations provided</p> <h4>Parameters</h4>  <dl> <dt> array <code>$associations</code> </dt> <dd>user provided containments array</dd> <dt> array <code>$original</code> </dt> <dd><p>The original containments array to merge with the new one</p></dd> </dl>  <h4>Returns</h4>  array<br>   </div> <div class="method-detail">   <h3 class="method-name" id="__resolveJoins"> <span class="name">_resolveJoins()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#648-680" title="Go to source code" class="source" target="_blank">source</a> <span class="label">protected</span>  </h3> <pre class="method-signature" data-language="php">_resolveJoins( array $associations , array $matching = [] )</pre>  <p>Helper function used to compile a list of all associations that can be joined in the query.</p> <h4>Parameters</h4>  <dl> <dt> array <code>$associations</code> </dt> <dd>list of associations from which to obtain joins.</dd> <dt> array <code>$matching</code> <span class="label">optional</span> [] </dt> <dd>list of associations that should be forcibly joined.</dd> </dl>  <h4>Returns</h4>  array<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_addToJoinsMap"> <span class="name">addToJoinsMap()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#792-815" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">addToJoinsMap( string $alias , Cake\ORM\Association $assoc , boolean $asMatching = false , string $targetProperty = null )</pre>  <p>Registers a table alias, typically loaded as a join in a query, as belonging to an association. This helps hydrators know what to do with the columns coming from such joined table.</p> <h4>Parameters</h4>  <dl> <dt> string <code>$alias</code> </dt> <dd>The table alias as it appears in the query.</dd> <dt> <code><a href="../class-cake.orm.association/">Cake\ORM\Association</a></code> <code>$assoc</code> </dt> <dd><p>The association object the alias represents; will be normalized</p></dd> <dt> boolean <code>$asMatching</code> <span class="label">optional</span> <span class="php-keyword1">false</span> </dt> <dd><p>Whether or not this join results should be treated as a 'matching' association.</p></dd> <dt> string <code>$targetProperty</code> <span class="label">optional</span> <span class="php-keyword1">null</span> </dt> <dd><p>The property name where the results of the join should be nested at. If not passed, the default property for the association will be used.</p></dd> </dl>   </div> <div class="method-detail">   <h3 class="method-name" id="_associationsMap"> <span class="name">associationsMap()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#728-756" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">associationsMap( Cake\ORM\Table $table )</pre>  <p>Returns an array having as keys a dotted path of associations that participate in this eager loader. The values of the array will contain the following keys</p> <ul> <li>alias: The association alias</li> <li>instance: The association instance</li> <li>canBeJoined: Whether or not the association will be loaded using a JOIN</li> <li>entityClass: The entity that should be used for hydrating the results</li> <li>nestKey: A dotted path that can be used to correctly insert the data into the results.</li> <li>matching: Whether or not it is an association loaded through <code>matching()</code>.</li> </ul> <h4>Parameters</h4>  <dl> <dt> <code><a href="../class-cake.orm.table/">Cake\ORM\Table</a></code> <code>$table</code> </dt> <dd><p>The table containing the association that will be normalized</p></dd> </dl>  <h4>Returns</h4>  array<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_attachAssociations"> <span class="name">attachAssociations()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#459-494" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">attachAssociations( Cake\ORM\Query $query , Cake\ORM\Table $repository , boolean $includeFields )</pre>  <p>Modifies the passed query to apply joins or any other transformation required in order to eager load the associations described in the <code>contain</code> array. This method will not modify the query for loading external associations, i.e. those that cannot be loaded without executing a separate query.</p> <h4>Parameters</h4>  <dl> <dt> <code><a href="../class-cake.orm.query/">Cake\ORM\Query</a></code> <code>$query</code> </dt> <dd>The query to be modified</dd> <dt> <code><a href="../class-cake.orm.table/">Cake\ORM\Table</a></code> <code>$repository</code> </dt> <dd>The repository containing the associations</dd> <dt> boolean <code>$includeFields</code> </dt> <dd><p>whether to append all fields from the associations to the passed query. This can be overridden according to the settings defined per association in the containments array</p></dd> </dl>   </div> <div class="method-detail">   <h3 class="method-name" id="_attachableAssociations"> <span class="name">attachableAssociations()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#496-513" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">attachableAssociations( Cake\ORM\Table $repository )</pre>  <p>Returns an array with the associations that can be fetched using a single query, the array keys are the association aliases and the values will contain an array with Cake\ORM\EagerLoadable objects.</p> <h4>Parameters</h4>  <dl> <dt> <code><a href="../class-cake.orm.table/">Cake\ORM\Table</a></code> <code>$repository</code> </dt> <dd><p>The table containing the associations to be attached</p></dd> </dl>  <h4>Returns</h4>  array<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_autoFields"> <span class="name">autoFields()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#234-252" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span> <span class="label">deprecated</span>  </h3> <pre class="method-signature" data-language="php">autoFields( boolean|null $enable = null )</pre>  <p>Sets/Gets whether or not contained associations will load fields automatically.</p> <h4>Deprecated</h4>  3.4.0 Use enableAutoFields()/isAutoFieldsEnabled() instead.<br>  <h4>Parameters</h4>  <dl> <dt> boolean|null <code>$enable</code> <span class="label">optional</span> <span class="php-keyword1">null</span> </dt> <dd>The value to set.</dd> </dl>  <h4>Returns</h4>  boolean<br>The current value.<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_clearContain"> <span class="name">clearContain()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#183-197" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">clearContain( )</pre>  <p>Remove any existing non-matching based containments.</p> <p>This will reset/clear out any contained associations that were not added via matching().</p>  </div> <div class="method-detail">   <h3 class="method-name" id="_contain"> <span class="name">contain()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#106-168" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">contain( array|string $associations = [] , callable $queryBuilder = null )</pre>  <p>Sets the list of associations that should be eagerly loaded along for a specific table using when a query is provided. The list of associated tables passed to this method must have been previously set as associations using the Table API.</p> <p>Associations can be arbitrarily nested using dot notation or nested arrays, this allows this object to calculate joins or any additional queries that must be executed to bring the required associated data.</p> <p>The getter part is deprecated as of 3.6.0. Use getContain() instead.</p> <p>Accepted options per passed association:</p> <ul> <li>foreignKey: Used to set a different field to match both tables, if set to false no join conditions will be generated automatically</li> <li>fields: An array with the fields that should be fetched from the association</li> <li>queryBuilder: Equivalent to passing a callable instead of an options array</li> <li>matching: Whether to inform the association class that it should filter the main query by the results fetched by that class.</li> <li>joinType: For joinable associations, the SQL join type to use.</li> <li>strategy: The loading strategy to use (join, select, subquery)</li> </ul> <h4>Parameters</h4>  <dl> <dt> array|string <code>$associations</code> <span class="label">optional</span> [] </dt> <dd><p>list of table aliases to be queried. When this method is called multiple times it will merge previous list with the new one.</p></dd> <dt> callable <code>$queryBuilder</code> <span class="label">optional</span> <span class="php-keyword1">null</span> </dt> <dd>The query builder callable</dd> </dl>  <h4>Returns</h4>  array<br>Containments.<br>  <h4>Throws</h4>  InvalidArgumentException<br>When using $queryBuilder with an array of $associations<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_disableAutoFields"> <span class="name">disableAutoFields()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#212-222" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">disableAutoFields( )</pre>  <p>Disable auto loading fields of contained associations.</p> <h4>Returns</h4>  <br>$this<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_enableAutoFields"> <span class="name">enableAutoFields()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#199-210" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">enableAutoFields( boolean $enable = true )</pre>  <p>Sets whether or not contained associations will load fields automatically.</p> <h4>Parameters</h4>  <dl> <dt> boolean <code>$enable</code> <span class="label">optional</span> <span class="php-keyword1">true</span> </dt> <dd>The value to set.</dd> </dl>  <h4>Returns</h4>  <br>$this<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_externalAssociations"> <span class="name">externalAssociations()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#515-532" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">externalAssociations( Cake\ORM\Table $repository )</pre>  <p>Returns an array with the associations that need to be fetched using a separate query, each array value will contain a Cake\ORM\EagerLoadable object.</p> <h4>Parameters</h4>  <dl> <dt> <code><a href="../class-cake.orm.table/">Cake\ORM\Table</a></code> <code>$repository</code> </dt> <dd><p>The table containing the associations to be loaded</p></dd> </dl>  <h4>Returns</h4>  Cake\ORM\EagerLoadable[]<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_getContain"> <span class="name">getContain()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#170-181" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">getContain( )</pre>  <p>Gets the list of associations that should be eagerly loaded along for a specific table using when a query is provided. The list of associated tables passed to this method must have been previously set as associations using the Table API.</p> <h4>Returns</h4>  array<br>Containments.<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_getMatching"> <span class="name">getMatching()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#300-312" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">getMatching( )</pre>  <p>Returns the current tree of associations to be matched.</p> <h4>Returns</h4>  array<br>The resulting containments array<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_isAutoFieldsEnabled"> <span class="name">isAutoFieldsEnabled()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#224-232" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">isAutoFieldsEnabled( )</pre>  <p>Gets whether or not contained associations will load fields automatically.</p> <h4>Returns</h4>  boolean<br>The current value.<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_loadExternal"> <span class="name">loadExternal()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#682-726" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">loadExternal( Cake\ORM\Query $query , Cake\Database\StatementInterface $statement )</pre>  <p>Decorates the passed statement object in order to inject data from associations that cannot be joined directly.</p> <h4>Parameters</h4>  <dl> <dt> <code><a href="../class-cake.orm.query/">Cake\ORM\Query</a></code> <code>$query</code> </dt> <dd><p>The query for which to eager load external associations</p></dd> <dt> <code><a href="../class-cake.database.statementinterface/">Cake\Database\StatementInterface</a></code> <code>$statement</code> </dt> <dd>The statement created after executing the $query</dd> </dl>  <h4>Returns</h4>  <code><a href="../class-cake.database.statementinterface/">Cake\Database\StatementInterface</a></code><br>statement modified statement with extra loaders<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_matching"> <span class="name">matching()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#314-343" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span> <span class="label">deprecated</span>  </h3> <pre class="method-signature" data-language="php">matching( string|null $assoc = null , callable $builder = null , array $options = [] )</pre>  <p>Adds a new association to the list that will be used to filter the results of any given query based on the results of finding records for that association. You can pass a dot separated path of associations to this method as its first parameter, this will translate in setting all those associations with the <code>matching</code> option.</p> <p>If called with no arguments it will return the current tree of associations to be matched.</p> <h4>Deprecated</h4>  3.4.0 Use setMatching()/getMatching() instead.<br>  <h4>Parameters</h4>  <dl> <dt> string|null <code>$assoc</code> <span class="label">optional</span> <span class="php-keyword1">null</span> </dt> <dd>A single association or a dot separated path of associations.</dd> <dt> callable <code>$builder</code> <span class="label">optional</span> <span class="php-keyword1">null</span> </dt> <dd><p>the callback function to be used for setting extra options to the filtering query</p></dd> <dt> array <code>$options</code> <span class="label">optional</span> [] </dt> <dd><p>Extra options for the association matching, such as 'joinType' and 'fields'</p></dd> </dl>  <h4>Returns</h4>  array<br>The resulting containments array<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_normalized"> <span class="name">normalized()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#345-382" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">normalized( Cake\ORM\Table $repository )</pre>  <p>Returns the fully normalized array of associations that should be eagerly loaded for a table. The normalized array will restructure the original array by sorting all associations under one key and special options under another.</p> <p>Each of the levels of the associations tree will converted to a Cake\ORM\EagerLoadable object, that contains all the information required for the association objects to load the information from the database.</p> <p>Additionally it will set an 'instance' key per association containing the association instance from the corresponding source table</p> <h4>Parameters</h4>  <dl> <dt> <code><a href="../class-cake.orm.table/">Cake\ORM\Table</a></code> <code>$repository</code> </dt> <dd><p>The table containing the association that will be normalized</p></dd> </dl>  <h4>Returns</h4>  array<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_setMatching"> <span class="name">setMatching()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#254-298" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">setMatching( string $assoc , callable $builder = null , array $options = [] )</pre>  <p>Adds a new association to the list that will be used to filter the results of any given query based on the results of finding records for that association. You can pass a dot separated path of associations to this method as its first parameter, this will translate in setting all those associations with the <code>matching</code> option.</p> <h3>Options</h3> <ul> <li>'joinType': INNER, OUTER, ...</li> <li>'fields': Fields to contain</li> </ul> <h4>Parameters</h4>  <dl> <dt> string <code>$assoc</code> </dt> <dd>A single association or a dot separated path of associations.</dd> <dt> callable <code>$builder</code> <span class="label">optional</span> <span class="php-keyword1">null</span> </dt> <dd><p>the callback function to be used for setting extra options to the filtering query</p></dd> <dt> array <code>$options</code> <span class="label">optional</span> [] </dt> <dd>Extra options for the association matching.</dd> </dl>  <h4>Returns</h4>  <br>$this<br>   </div>   <h2>Properties detail</h2> <div class="property-detail">  <h3 class="property-name" id="$_aliasList"> <span class="name">$_aliasList</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#75-80" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> array </p>  <p>Contains a list of the association names that are to be eagerly loaded</p> <div> <pre data-language="php">[]</pre> </div>  </div> <div class="property-detail">  <h3 class="property-name" id="$_autoFields"> <span class="name">$_autoFields</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#97-104" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> boolean </p>  <p>Controls whether or not fields from associated tables will be eagerly loaded. When set to false, no fields will be loaded from associations.</p> <div> <pre data-language="php">true</pre> </div>  </div> <div class="property-detail">  <h3 class="property-name" id="$_containOptions"> <span class="name">$_containOptions</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#48-66" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> array </p>  <p>List of options accepted by associations in contain() index by key for faster access</p> <div> <pre data-language="php">[
    'associations' =&gt; 1,
    'foreignKey' =&gt; 1,
    'conditions' =&gt; 1,
    'fields' =&gt; 1,
    'sort' =&gt; 1,
    'matching' =&gt; 1,
    'queryBuilder' =&gt; 1,
    'finder' =&gt; 1,
    'joinType' =&gt; 1,
    'strategy' =&gt; 1,
    'negateMatch' =&gt; 1
]</pre> </div>  </div> <div class="property-detail">  <h3 class="property-name" id="$_containments"> <span class="name">$_containments</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#32-38" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> array </p>  <p>Nested array describing the association to be fetched and the options to apply for each of them, if any</p> <div> <pre data-language="php">[]</pre> </div>  </div> <div class="property-detail">  <h3 class="property-name" id="$_joinsMap"> <span class="name">$_joinsMap</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#89-95" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> array </p>  <p>A map of table aliases pointing to the association objects they represent for the query.</p> <div> <pre data-language="php">[]</pre> </div>  </div> <div class="property-detail">  <h3 class="property-name" id="$_loadExternal"> <span class="name">$_loadExternal</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#68-73" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> Cake\ORM\EagerLoadable[] </p>  <p>A list of associations that should be loaded with a separate query</p> <div> <pre data-language="php">[]</pre> </div>  </div> <div class="property-detail">  <h3 class="property-name" id="$_matching"> <span class="name">$_matching</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#82-87" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> <code><a href="../class-cake.orm.eagerloader/">Cake\ORM\EagerLoader</a></code> </p>  <p>Another EagerLoader instance that will be used for 'matching' associations.</p>  </div> <div class="property-detail">  <h3 class="property-name" id="$_normalized"> <span class="name">$_normalized</span><a href="https://api.cakephp.org/3.8/source-class-Cake.ORM.EagerLoader.html#40-46" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> Cake\ORM\EagerLoadable[]|Cake\ORM\EagerLoadable|null </p>  <p>Contains a nested array with the compiled containments tree This is a normalized version of the user provided containments array.</p>  </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–present The Cake Software Foundation, Inc.<br>Licensed under the MIT License.<br>CakePHP is a registered trademark of Cake Software Foundation, Inc.<br>We are not endorsed by or affiliated with CakePHP.<br>
    <a href="https://api.cakephp.org/3.8/class-Cake.ORM.EagerLoader.html" class="_attribution-link" target="_blank">https://api.cakephp.org/3.8/class-Cake.ORM.EagerLoader.html</a>
  </p>
</div>

				
			</div>
			<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
</amp-auto-ads>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
