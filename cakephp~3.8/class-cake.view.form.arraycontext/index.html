
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>ArrayContext (Class) - CakePHP 3.8 - W3cubDocs</title>
  
  <meta name="description" content=" Provides a basic array based context provider for FormHelper. ">
  <meta name="keywords" content="class, arraycontext, -, cakephp, cakephp~3.8">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/cakephp~3.8/class-cake.view.form.arraycontext/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" integrity="sha256-6/DH7X+2hvUPElJfGsvzm+tgIpmM9zjbYxnpsr6gR1A=" crossorigin="anonymous" href="/assets/application-ebf0c7ed7fb686f50f12525f1acbf39beb6022998cf738db6319e9b2bea04750.css">
  <script type="text/javascript" src="/assets/application-db285287b40ed28fac520fcfd75d7d874692b647b5b5e05968c741dda5de4148.js" integrity="sha256-2yhSh7QO0o+sUg/P1119h0aStke1teBZaMdB3aXeQUg=" crossorigin="anonymous"></script>
  <script src="/json/cakephp~3.8.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-2572770204602497",
            enable_page_level_ads: true
        });
  </script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cakephp~3.8/" class="_nav-link" title="" style="margin-left:0;">CakePHP 3.8</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _cakephp">
				
				
<h1>Class ArrayContext</h1>  <p>Provides a basic array based context provider for FormHelper.</p> <p>This adapter is useful in testing or when you have forms backed by simple array data structures.</p> <p>Important keys:</p> <ul> <li>
<code>defaults</code> The default values for fields. These values will be used when there is no request data set. Data should be nested following the dot separated paths you access your fields with.</li> <li>
<code>required</code> A nested array of fields, relationships and boolean flags to indicate a field is required. The value can also be a string to be used as the required error message</li> <li>
<code>schema</code> An array of data that emulate the column structures that Cake\Database\Schema\Schema uses. This array allows you to control the inferred type for fields and allows auto generation of attributes like maxlength, step and other HTML attributes. If you want primary key/id detection to work. Make sure you have provided a <code>_constraints</code> array that contains <code>primary</code>. See below for an example.</li> <li>
<p><code>errors</code> An array of validation errors. Errors should be nested following the dot separated paths you access your fields with.</p> <h3>Example</h3> <pre data-language="php">$data = [
'schema' =&gt; [
 'id' =&gt; ['type' =&gt; 'integer'],
 'title' =&gt; ['type' =&gt; 'string', 'length' =&gt; 255],
 '_constraints' =&gt; [
   'primary' =&gt; ['type' =&gt; 'primary', 'columns' =&gt; ['id']]
 ]
],
'defaults' =&gt; [
 'id' =&gt; 1,
 'title' =&gt; 'First post!',
],
'required' =&gt; [
 'id' =&gt; true, // will use default required message
 'title' =&gt; 'Please enter a title',
 'body' =&gt; false,
],
];</pre>
</li> </ul>  <dl class="tree"> <dd style="padding-left:0px"> <b><span>Cake\View\Form\ArrayContext</span></b> implements <a href="../class-cake.view.form.contextinterface/"><span>Cake\View\Form\ContextInterface</span></a> </dd> </dl> <div class="info"> <b>Namespace:</b> <a href="../namespace-cake/">Cake</a>\<a href="../namespace-cake.view/">View</a>\<a href="../namespace-cake.view.form/">Form</a><br> <b>Location:</b> <a href="https://api.cakephp.org/3.8/source-class-Cake.View.Form.ArrayContext.html#21-344" title="Go to source code" target="_blank">View/Form/ArrayContext.php</a><br> </div>  <h2>Properties summary</h2> <ul class="member-summary properties"> <li class="clearfix"> <div class="name"> <code><a href="../class-cake.view.form.arraycontext/#%24_context">$_context</a></code>  <span class="label">protected</span>  </div> <div class="property-type"><code>array</code></div>  Context data for this object.  </li> <li class="clearfix"> <div class="name"> <code><a href="../class-cake.view.form.arraycontext/#%24_request">$_request</a></code>  <span class="label">protected</span>  </div> <div class="property-type"><code><a href="../class-cake.http.serverrequest/">Cake\Http\ServerRequest</a></code></div>  The request object.  </li> </ul>   <h2>Method Summary</h2> <ul class="member-summary"> <li class="clearfix"> <div> <a href="../class-cake.view.form.arraycontext/#___construct">__construct()</a> <span class="label">public</span> </div>  Constructor.  </li> <li class="clearfix"> <div> <a href="../class-cake.view.form.arraycontext/#_attributes">attributes()</a> <span class="label">public</span> </div>  Get an associative array of other attributes for a field name.  </li> <li class="clearfix"> <div> <a href="../class-cake.view.form.arraycontext/#_error">error()</a> <span class="label">public</span> </div>  Get the errors for a given field  </li> <li class="clearfix"> <div> <a href="../class-cake.view.form.arraycontext/#_fieldNames">fieldNames()</a> <span class="label">public</span> </div>  Get the fieldnames of the top level object in this context.  </li> <li class="clearfix"> <div> <a href="../class-cake.view.form.arraycontext/#_getMaxLength">getMaxLength()</a> <span class="label">public</span> </div>  Get field length from validation  </li> <li class="clearfix"> <div> <a href="../class-cake.view.form.arraycontext/#_getRequiredMessage">getRequiredMessage()</a> <span class="label">public</span> </div>   </li> <li class="clearfix"> <div> <a href="../class-cake.view.form.arraycontext/#_hasError">hasError()</a> <span class="label">public</span> </div>  Check whether or not a field has an error attached to it  </li> <li class="clearfix"> <div> <a href="../class-cake.view.form.arraycontext/#_isCreate">isCreate()</a> <span class="label">public</span> </div>  Returns whether or not this form is for a create operation.  </li> <li class="clearfix"> <div> <a href="../class-cake.view.form.arraycontext/#_isPrimaryKey">isPrimaryKey()</a> <span class="label">public</span> </div>  Returns true if the passed field name is part of the primary key for this context  </li> <li class="clearfix"> <div> <a href="../class-cake.view.form.arraycontext/#_isRequired">isRequired()</a> <span class="label">public</span> </div>  Check if a given field is 'required'.  </li> <li class="clearfix"> <div> <a href="../class-cake.view.form.arraycontext/#_primaryKey">primaryKey()</a> <span class="label">public</span> </div>  Get the fields used in the context as a primary key.  </li> <li class="clearfix"> <div> <a href="../class-cake.view.form.arraycontext/#_stripNesting">stripNesting()</a> <span class="label">protected</span> </div>  Strips out any numeric nesting  </li> <li class="clearfix"> <div> <a href="../class-cake.view.form.arraycontext/#_type">type()</a> <span class="label">public</span> </div>  Get the abstract field type for a given field name.  </li> <li class="clearfix"> <div> <a href="../class-cake.view.form.arraycontext/#_val">val()</a> <span class="label">public</span> </div>  Get the current value for a given field.  </li> </ul>   <h2>Method Detail</h2> <div class="method-detail">   <h3 class="method-name" id="___construct"> <span class="name">__construct()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.View.Form.ArrayContext.html#84-100" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">__construct( Cake\Http\ServerRequest $request , array $context )</pre>  <p>Constructor.</p> <h4>Parameters</h4>  <dl> <dt> <code><a href="../class-cake.http.serverrequest/">Cake\Http\ServerRequest</a></code> <code>$request</code> </dt> <dd>The request object.</dd> <dt> array <code>$context</code> </dt> <dd>Context info.</dd> </dl>   </div> <div class="method-detail">   <h3 class="method-name" id="_attributes"> <span class="name">attributes()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.View.Form.ArrayContext.html#281-299" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">attributes( string $field )</pre>  <p>Get an associative array of other attributes for a field name.</p> <h4>Parameters</h4>  <dl> <dt> string <code>$field</code> </dt> <dd>A dot separated path to get additional data on.</dd> </dl>  <h4>Returns</h4>  array<br>An array of data describing the additional attributes on a field.<br>  <h4>Implementation of</h4> <code><a href="../class-cake.view.form.contextinterface/#_attributes">Cake\View\Form\ContextInterface::attributes()</a></code>  </div> <div class="method-detail">   <h3 class="method-name" id="_error"> <span class="name">error()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.View.Form.ArrayContext.html#316-330" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">error( string $field )</pre>  <p>Get the errors for a given field</p> <h4>Parameters</h4>  <dl> <dt> string <code>$field</code> </dt> <dd>A dot separated path to check errors on.</dd> </dl>  <h4>Returns</h4>  array<br><p>An array of errors, an empty array will be returned when the context has no errors.</p>
<br>  <h4>Implementation of</h4> <code><a href="../class-cake.view.form.contextinterface/#_error">Cake\View\Form\ContextInterface::error()</a></code>  </div> <div class="method-detail">   <h3 class="method-name" id="_fieldNames"> <span class="name">fieldNames()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.View.Form.ArrayContext.html#249-258" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">fieldNames( )</pre>  <p>Get the fieldnames of the top level object in this context.</p> <h4>Returns</h4>  string[]<br>A list of the field names in the context.<br>  <h4>Implementation of</h4> <code><a href="../class-cake.view.form.contextinterface/#_fieldNames">Cake\View\Form\ContextInterface::fieldNames()</a></code>  </div> <div class="method-detail">   <h3 class="method-name" id="_getMaxLength"> <span class="name">getMaxLength()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.View.Form.ArrayContext.html#232-247" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">getMaxLength( string $field )</pre>  <p>Get field length from validation</p> <p>In this context class, this is simply defined by the 'length' array.</p> <h4>Parameters</h4>  <dl> <dt> string <code>$field</code> </dt> <dd>A dot separated path to check required-ness for.</dd> </dl>  <h4>Returns</h4>  integer|null<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_getRequiredMessage"> <span class="name">getRequiredMessage()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.View.Form.ArrayContext.html#208-230" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">getRequiredMessage( $field )</pre>   </div> <div class="method-detail">   <h3 class="method-name" id="_hasError"> <span class="name">hasError()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.View.Form.ArrayContext.html#301-314" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">hasError( string $field )</pre>  <p>Check whether or not a field has an error attached to it</p> <h4>Parameters</h4>  <dl> <dt> string <code>$field</code> </dt> <dd>A dot separated path to check errors on.</dd> </dl>  <h4>Returns</h4>  boolean<br>Returns true if the errors for the field are not empty.<br>  <h4>Implementation of</h4> <code><a href="../class-cake.view.form.contextinterface/#_hasError">Cake\View\Form\ContextInterface::hasError()</a></code>  </div> <div class="method-detail">   <h3 class="method-name" id="_isCreate"> <span class="name">isCreate()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.View.Form.ArrayContext.html#133-152" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">isCreate( )</pre>  <p>Returns whether or not this form is for a create operation.</p> <p>For this method to return true, both the primary key constraint must be defined in the 'schema' data, and the 'defaults' data must contain a value for all fields in the key.</p> <h4>Returns</h4>  boolean<br>  <h4>Implementation of</h4> <code><a href="../class-cake.view.form.contextinterface/#_isCreate">Cake\View\Form\ContextInterface::isCreate()</a></code>  </div> <div class="method-detail">   <h3 class="method-name" id="_isPrimaryKey"> <span class="name">isPrimaryKey()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.View.Form.ArrayContext.html#123-131" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">isPrimaryKey( string $field )</pre>  <p>Returns true if the passed field name is part of the primary key for this context</p> <h4>Parameters</h4>  <dl> <dt> string <code>$field</code> </dt> <dd><p>A dot separated path to the field a value is needed for.</p></dd> </dl>  <h4>Returns</h4>  boolean<br>  <h4>Implementation of</h4> <code><a href="../class-cake.view.form.contextinterface/#_isPrimaryKey">Cake\View\Form\ContextInterface::isPrimaryKey()</a></code>  </div> <div class="method-detail">   <h3 class="method-name" id="_isRequired"> <span class="name">isRequired()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.View.Form.ArrayContext.html#195-206" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">isRequired( string $field )</pre>  <p>Check if a given field is 'required'.</p> <p>In this context class, this is simply defined by the 'required' array.</p> <h4>Parameters</h4>  <dl> <dt> string <code>$field</code> </dt> <dd>A dot separated path to check required-ness for.</dd> </dl>  <h4>Returns</h4>  boolean<br>  <h4>Implementation of</h4> <code><a href="../class-cake.view.form.contextinterface/#_isRequired">Cake\View\Form\ContextInterface::isRequired()</a></code>  </div> <div class="method-detail">   <h3 class="method-name" id="_primaryKey"> <span class="name">primaryKey()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.View.Form.ArrayContext.html#102-121" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">primaryKey( )</pre>  <p>Get the fields used in the context as a primary key.</p> <h4>Returns</h4>  array<br>  <h4>Implementation of</h4> <code><a href="../class-cake.view.form.contextinterface/#_primaryKey">Cake\View\Form\ContextInterface::primaryKey()</a></code>  </div> <div class="method-detail">   <h3 class="method-name" id="_stripNesting"> <span class="name">stripNesting()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.View.Form.ArrayContext.html#332-343" title="Go to source code" class="source" target="_blank">source</a> <span class="label">protected</span>  </h3> <pre class="method-signature" data-language="php">stripNesting( string $field )</pre>  <p>Strips out any numeric nesting</p> <p>For example users.0.age will output as users.age</p> <h4>Parameters</h4>  <dl> <dt> string <code>$field</code> </dt> <dd>A dot separated path</dd> </dl>  <h4>Returns</h4>  string<br>A string with stripped numeric nesting<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_type"> <span class="name">type()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.View.Form.ArrayContext.html#260-279" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">type( string $field )</pre>  <p>Get the abstract field type for a given field name.</p> <h4>Parameters</h4>  <dl> <dt> string <code>$field</code> </dt> <dd>A dot separated path to get a schema type for.</dd> </dl>  <h4>Returns</h4>  null|string<br>An abstract data type or null.<br>  <h4>See</h4>  <code><a href="../class-cake.database.type/">Cake\Database\Type</a></code><br>  <h4>Implementation of</h4> <code><a href="../class-cake.view.form.contextinterface/#_type">Cake\View\Form\ContextInterface::type()</a></code>  </div> <div class="method-detail">   <h3 class="method-name" id="_val"> <span class="name">val()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.View.Form.ArrayContext.html#154-193" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">val( string $field , array $options = [] )</pre>  <p>Get the current value for a given field.</p> <p>This method will coalesce the current request data and the 'defaults' array.</p> <h4>Parameters</h4>  <dl> <dt> string <code>$field</code> </dt> <dd><p>A dot separated path to the field a value is needed for.</p></dd> <dt> array <code>$options</code> <span class="label">optional</span> [] </dt> <dd><p>Options: - <code>default</code>: Default value to return if no value found in request data or context record. - <code>schemaDefault</code>: Boolean indicating whether default value from context's schema should be used if it's not explicitly provided.</p></dd> </dl>  <h4>Returns</h4>  mixed<br>  <h4>Implementation of</h4> <code><a href="../class-cake.view.form.contextinterface/#_val">Cake\View\Form\ContextInterface::val()</a></code>  </div>   <h2>Magic methods inherited from <a href="../class-cake.view.form.contextinterface/#methods">Cake\View\Form\ContextInterface</a>
</h2> <table class="summary inherited"> <tr> <td><code><a href="../class-cake.view.form.contextinterface/#m_getMaxLength">getMaxLength()</a>, <a href="../class-cake.view.form.contextinterface/#m_getRequiredMessage">getRequiredMessage()</a></code></td> </tr> </table>   <h2>Properties detail</h2> <div class="property-detail">  <h3 class="property-name" id="$_context"> <span class="name">$_context</span><a href="https://api.cakephp.org/3.8/source-class-Cake.View.Form.ArrayContext.html#77-82" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> array </p>  <p>Context data for this object.</p>  </div> <div class="property-detail">  <h3 class="property-name" id="$_request"> <span class="name">$_request</span><a href="https://api.cakephp.org/3.8/source-class-Cake.View.Form.ArrayContext.html#70-75" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> <code><a href="../class-cake.http.serverrequest/">Cake\Http\ServerRequest</a></code> </p>  <p>The request object.</p>  </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–present The Cake Software Foundation, Inc.<br>Licensed under the MIT License.<br>CakePHP is a registered trademark of Cake Software Foundation, Inc.<br>We are not endorsed by or affiliated with CakePHP.<br>
    <a href="https://api.cakephp.org/3.8/class-Cake.View.Form.ArrayContext.html" class="_attribution-link" target="_blank">https://api.cakephp.org/3.8/class-Cake.View.Form.ArrayContext.html</a>
  </p>
</div>

				
			</div>
			<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
</amp-auto-ads>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
