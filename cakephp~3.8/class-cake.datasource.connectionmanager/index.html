
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>ConnectionManager (Class) - CakePHP 3.8 - W3cubDocs</title>
  
  <meta name="description" content=" Manages and loads instances of Connection ">
  <meta name="keywords" content="class, connectionmanager, -, cakephp, cakephp~3.8">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/cakephp~3.8/class-cake.datasource.connectionmanager/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" integrity="sha256-6/DH7X+2hvUPElJfGsvzm+tgIpmM9zjbYxnpsr6gR1A=" crossorigin="anonymous" href="/assets/application-ebf0c7ed7fb686f50f12525f1acbf39beb6022998cf738db6319e9b2bea04750.css">
  <script type="text/javascript" src="/assets/application-db285287b40ed28fac520fcfd75d7d874692b647b5b5e05968c741dda5de4148.js" integrity="sha256-2yhSh7QO0o+sUg/P1119h0aStke1teBZaMdB3aXeQUg=" crossorigin="anonymous"></script>
  <script src="/json/cakephp~3.8.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-2572770204602497",
            enable_page_level_ads: true
        });
  </script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cakephp~3.8/" class="_nav-link" title="" style="margin-left:0;">CakePHP 3.8</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _cakephp">
				
				
<h1>Class ConnectionManager</h1>  <p>Manages and loads instances of Connection</p> <p>Provides an interface to loading and creating connection objects. Acts as a registry for the connections defined in an application.</p> <p>Provides an interface for loading and enumerating connections defined in config/app.php</p>  <dl class="tree"> <dd style="padding-left:0px"> <b><span>Cake\Datasource\ConnectionManager</span></b> uses <a href="../class-cake.core.staticconfigtrait/"><span>Cake\Core\StaticConfigTrait</span></a> </dd> </dl> <div class="info"> <b>Namespace:</b> <a href="../namespace-cake/">Cake</a>\<a href="../namespace-cake.datasource/">Datasource</a><br> <b>Location:</b> <a href="https://api.cakephp.org/3.8/source-class-Cake.Datasource.ConnectionManager.html#20-207" title="Go to source code" target="_blank">Datasource/ConnectionManager.php</a><br> </div>  <h2>Properties summary</h2> <ul class="member-summary properties"> <li class="clearfix"> <div class="name"> <code><a href="../class-cake.datasource.connectionmanager/#%24_aliasMap">$_aliasMap</a></code>  <span class="label">protected</span> <span class="label">static</span>  </div> <div class="property-type"><code>array</code></div>  A map of connection aliases.  </li> <li class="clearfix"> <div class="name"> <code><a href="../class-cake.datasource.connectionmanager/#%24_dsnClassMap">$_dsnClassMap</a></code>  <span class="label">protected</span> <span class="label">static</span>  </div> <div class="property-type"><code>array</code></div>  An array mapping url schemes to fully qualified driver class names  </li> <li class="clearfix"> <div class="name"> <code><a href="../class-cake.datasource.connectionmanager/#%24_registry">$_registry</a></code>  <span class="label">protected</span> <span class="label">static</span>  </div> <div class="property-type"><code><a href="../class-cake.datasource.connectionregistry/">Cake\Datasource\ConnectionRegistry</a></code></div>  The ConnectionRegistry used by the manager.  </li> </ul>   <h2>Inherited Properties</h2> <ul class="member-summary used"> <li> <code><a href="../class-cake.core.staticconfigtrait/#%24_config">_config</a></code> </li> </ul>   <h2>Method Summary</h2> <ul class="member-summary"> <li class="clearfix"> <div> <a href="../class-cake.datasource.connectionmanager/#_alias">alias()</a> <span class="label">public</span> <span class="label">static</span> </div>  Set one or more connection aliases.  </li> <li class="clearfix"> <div> <a href="../class-cake.datasource.connectionmanager/#_dropAlias">dropAlias()</a> <span class="label">public</span> <span class="label">static</span> </div>  Drop an alias.  </li> <li class="clearfix"> <div> <a href="../class-cake.datasource.connectionmanager/#_get">get()</a> <span class="label">public</span> <span class="label">static</span> </div>  Get a connection.  </li> <li class="clearfix"> <div> <a href="../class-cake.datasource.connectionmanager/#_parseDsn">parseDsn()</a> <span class="label">public</span> <span class="label">static</span> </div>  Parses a DSN into a valid connection configuration  </li> <li class="clearfix"> <div> <a href="../class-cake.datasource.connectionmanager/#_setConfig">setConfig()</a> <span class="label">public</span> <span class="label">static</span> </div>  Configure a new connection object.  </li> </ul>   <h2>Method Detail</h2> <div class="method-detail">   <h3 class="method-name" id="_alias"> <span class="name">alias()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.Datasource.ConnectionManager.html#126-160" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span> <span class="label">static</span>  </h3> <pre class="method-signature" data-language="php">alias( string $alias , string $source )</pre>  <p>Set one or more connection aliases.</p> <p>Connection aliases allow you to rename active connections without overwriting the aliased connection. This is most useful in the test-suite for replacing connections with their test variant.</p> <p>Defined aliases will take precedence over normal connection names. For example, if you alias 'default' to 'test', fetching 'default' will always return the 'test' connection as long as the alias is defined.</p> <p>You can remove aliases with ConnectionManager::dropAlias().</p> <h3>Usage</h3> <pre data-language="php">// Make 'things' resolve to 'test_things' connection
ConnectionManager::alias('test_things', 'things');</pre> <h4>Parameters</h4>  <dl> <dt> string <code>$alias</code> </dt> <dd>The alias to add. Fetching $source will return $alias when loaded with get.</dd> <dt> string <code>$source</code> </dt> <dd>The connection to add an alias to.</dd> </dl>  <h4>Throws</h4>  <code><a href="../class-cake.datasource.exception.missingdatasourceconfigexception/">Cake\Datasource\Exception\MissingDatasourceConfigException</a></code><br><p>When aliasing a connection that does not exist.</p>
<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_dropAlias"> <span class="name">dropAlias()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.Datasource.ConnectionManager.html#162-174" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span> <span class="label">static</span>  </h3> <pre class="method-signature" data-language="php">dropAlias( string $name )</pre>  <p>Drop an alias.</p> <p>Removes an alias from ConnectionManager. Fetching the aliased connection may fail if there is no other connection with that name.</p> <h4>Parameters</h4>  <dl> <dt> string <code>$name</code> </dt> <dd>The connection name to remove aliases for.</dd> </dl>   </div> <div class="method-detail">   <h3 class="method-name" id="_get"> <span class="name">get()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.Datasource.ConnectionManager.html#176-206" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span> <span class="label">static</span>  </h3> <pre class="method-signature" data-language="php">get( string $name , boolean $useAliases = true )</pre>  <p>Get a connection.</p> <p>If the connection has not been constructed an instance will be added to the registry. This method will use any aliases that have been defined. If you want the original unaliased connections pass <code>false</code> as second parameter.</p> <h4>Parameters</h4>  <dl> <dt> string <code>$name</code> </dt> <dd>The connection name.</dd> <dt> boolean <code>$useAliases</code> <span class="label">optional</span> <span class="php-keyword1">true</span> </dt> <dd>Set to false to not use aliased connections.</dd> </dl>  <h4>Returns</h4>  <code><a href="../class-cake.datasource.connectioninterface/">Cake\Datasource\ConnectionInterface</a></code><br>A connection object.<br>  <h4>Throws</h4>  <code><a href="../class-cake.datasource.exception.missingdatasourceconfigexception/">Cake\Datasource\Exception\MissingDatasourceConfigException</a></code><br><p>When config data is missing.</p>
<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_parseDsn"> <span class="name">parseDsn()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.Datasource.ConnectionManager.html#83-124" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span> <span class="label">static</span>  </h3> <pre class="method-signature" data-language="php">parseDsn( string|null $config = null )</pre>  <p>Parses a DSN into a valid connection configuration</p> <p>This method allows setting a DSN using formatting similar to that used by PEAR::DB. The following is an example of its usage:</p> <pre data-language="php">$dsn = 'mysql://user:pass@localhost/database';
$config = ConnectionManager::parseDsn($dsn);

$dsn = 'Cake\Database\Driver\Mysql://localhost:3306/database?className=Cake\Database\Connection';
$config = ConnectionManager::parseDsn($dsn);

$dsn = 'Cake\Database\Connection://localhost:3306/database?driver=Cake\Database\Driver\Mysql';
$config = ConnectionManager::parseDsn($dsn);</pre> <p>For all classes, the value of <code>scheme</code> is set as the value of both the <code>className</code> and <code>driver</code> unless they have been otherwise specified.</p> <p>Note that query-string arguments are also parsed and set as values in the returned configuration.</p> <h4>Parameters</h4>  <dl> <dt> string|null <code>$config</code> <span class="label">optional</span> <span class="php-keyword1">null</span> </dt> <dd>The DSN string to convert to a configuration array</dd> </dl>  <h4>Returns</h4>  array<br>The configuration array to be stored after parsing the DSN<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_setConfig"> <span class="name">setConfig()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.Datasource.ConnectionManager.html#63-81" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span> <span class="label">static</span>  </h3> <pre class="method-signature" data-language="php">setConfig( string|array $key , array|null $config = null )</pre>  <p>Configure a new connection object.</p> <p>The connection will not be constructed until it is first used.</p> <h4>Parameters</h4>  <dl> <dt> string|array <code>$key</code> </dt> <dd>The name of the connection config, or an array of multiple configs.</dd> <dt> array|null <code>$config</code> <span class="label">optional</span> <span class="php-keyword1">null</span> </dt> <dd>An array of name =&gt; config data for adapter.</dd> </dl>  <h4>Throws</h4>  <code><a href="../class-cake.core.exception.exception/">Cake\Core\Exception\Exception</a></code><br>When trying to modify an existing config.<br>  <h4>See</h4>  \Cake\Core\StaticConfigTrait::config()<br>   </div>   <h2>Methods used from <a href="../class-cake.core.staticconfigtrait/#methods">Cake\Core\StaticConfigTrait</a>
</h2> <div class="method-detail">   <h3 class="method-name" id="_config"> <span class="name">config()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.Core.StaticConfigTrait.html#120-178" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span> <span class="label">static</span> <span class="label">deprecated</span>  </h3> <pre class="method-signature" data-language="php">config( string|array $key , array|null $config = null )</pre>  <p>This method can be used to define configuration adapters for an application or read existing configuration.</p> <p>To change an adapter's configuration at runtime, first drop the adapter and then reconfigure it.</p> <p>Adapters will not be constructed until the first operation is done.</p> <h3>Usage</h3> <p>Assuming that the class' name is <code>Cache</code> the following scenarios are supported:</p> <p>Reading config data back:</p> <pre data-language="php">Cache::config('default');</pre> <p>Setting a cache engine up.</p> <pre data-language="php">Cache::config('default', $settings);</pre> <p>Injecting a constructed adapter in:</p> <pre data-language="php">Cache::config('default', $instance);</pre> <p>Configure multiple adapters at once:</p> <pre data-language="php">Cache::config($arrayOfConfig);</pre> <h4>Deprecated</h4>  3.4.0 Use setConfig()/getConfig() instead.<br>  <h4>Parameters</h4>  <dl> <dt> string|array <code>$key</code> </dt> <dd>The name of the configuration, or an array of multiple configs.</dd> <dt> array|null <code>$config</code> <span class="label">optional</span> <span class="php-keyword1">null</span> </dt> <dd>An array of name =&gt; configuration data for adapter.</dd> </dl>  <h4>Returns</h4>  array|null<br>Null when adding configuration or an array of configuration data when reading.<br>  <h4>Throws</h4>  BadMethodCallException<br>When trying to modify an existing config.<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_configured"> <span class="name">configured()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.Core.StaticConfigTrait.html#205-213" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span> <span class="label">static</span>  </h3> <pre class="method-signature" data-language="php">configured( )</pre>  <p>Returns an array containing the named configurations</p> <h4>Returns</h4>  string[]<br>Array of configurations.<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_drop"> <span class="name">drop()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.Core.StaticConfigTrait.html#180-203" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span> <span class="label">static</span>  </h3> <pre class="method-signature" data-language="php">drop( string $config )</pre>  <p>Drops a constructed adapter.</p> <p>If you wish to modify an existing configuration, you should drop it, change configuration and then re-add it.</p> <p>If the implementing objects supports a <code>$_registry</code> object the named configuration will also be unloaded from the registry.</p> <h4>Parameters</h4>  <dl> <dt> string <code>$config</code> </dt> <dd>An existing configuration you wish to remove.</dd> </dl>  <h4>Returns</h4>  boolean<br>Success of the removal, returns false when the config does not exist.<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_dsnClassMap"> <span class="name">dsnClassMap()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.Core.StaticConfigTrait.html#361-380" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span> <span class="label">static</span> <span class="label">deprecated</span>  </h3> <pre class="method-signature" data-language="php">dsnClassMap( array $map = null )</pre>  <p>Returns or updates the DSN class map for this class.</p> <h4>Deprecated</h4>  3.4.0 Use setDsnClassMap()/getDsnClassMap() instead.<br>  <h4>Parameters</h4>  <dl> <dt> array <code>$map</code> <span class="label">optional</span> <span class="php-keyword1">null</span> </dt> <dd>Additions/edits to the class map to apply.</dd> </dl>  <h4>Returns</h4>  array<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_getConfig"> <span class="name">getConfig()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.Core.StaticConfigTrait.html#109-118" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span> <span class="label">static</span>  </h3> <pre class="method-signature" data-language="php">getConfig( string $key )</pre>  <p>Reads existing configuration.</p> <h4>Parameters</h4>  <dl> <dt> string <code>$key</code> </dt> <dd>The name of the configuration.</dd> </dl>  <h4>Returns</h4>  mixed<br>Configuration data at the named key or null if the key does not exist.<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_getDsnClassMap"> <span class="name">getDsnClassMap()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.Core.StaticConfigTrait.html#351-359" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span> <span class="label">static</span>  </h3> <pre class="method-signature" data-language="php">getDsnClassMap( )</pre>  <p>Returns the DSN class map for this class.</p> <h4>Returns</h4>  array<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_setDsnClassMap"> <span class="name">setDsnClassMap()</span><a href="https://api.cakephp.org/3.8/source-class-Cake.Core.StaticConfigTrait.html#340-349" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span> <span class="label">static</span>  </h3> <pre class="method-signature" data-language="php">setDsnClassMap( array $map )</pre>  <p>Updates the DSN class map for this class.</p> <h4>Parameters</h4>  <dl> <dt> array <code>$map</code> </dt> <dd>Additions/edits to the class map to apply.</dd> </dl>   </div>   <h2>Properties detail</h2> <div class="property-detail">  <h3 class="property-name" id="$_aliasMap"> <span class="name">$_aliasMap</span><a href="https://api.cakephp.org/3.8/source-class-Cake.Datasource.ConnectionManager.html#37-42" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> <span class="label">static</span> array </p>  <p>A map of connection aliases.</p> <div> <pre data-language="php">[]</pre> </div>  </div> <div class="property-detail">  <h3 class="property-name" id="$_dsnClassMap"> <span class="name">$_dsnClassMap</span><a href="https://api.cakephp.org/3.8/source-class-Cake.Datasource.ConnectionManager.html#44-54" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> <span class="label">static</span> array </p>  <p>An array mapping url schemes to fully qualified driver class names</p> <h4>Return</h4>  array<br>  <div> <pre data-language="php">[
    'mysql' =&gt; 'Cake\Database\Driver\Mysql',
    'postgres' =&gt; 'Cake\Database\Driver\Postgres',
    'sqlite' =&gt; 'Cake\Database\Driver\Sqlite',
    'sqlserver' =&gt; 'Cake\Database\Driver\Sqlserver',
]</pre> </div>  </div> <div class="property-detail">  <h3 class="property-name" id="$_registry"> <span class="name">$_registry</span><a href="https://api.cakephp.org/3.8/source-class-Cake.Datasource.ConnectionManager.html#56-61" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> <span class="label">static</span> <code><a href="../class-cake.datasource.connectionregistry/">Cake\Datasource\ConnectionRegistry</a></code> </p>  <p>The ConnectionRegistry used by the manager.</p>  </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–present The Cake Software Foundation, Inc.<br>Licensed under the MIT License.<br>CakePHP is a registered trademark of Cake Software Foundation, Inc.<br>We are not endorsed by or affiliated with CakePHP.<br>
    <a href="https://api.cakephp.org/3.8/class-Cake.Datasource.ConnectionManager.html" class="_attribution-link" target="_blank">https://api.cakephp.org/3.8/class-Cake.Datasource.ConnectionManager.html</a>
  </p>
</div>

				
			</div>
			<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
</amp-auto-ads>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
