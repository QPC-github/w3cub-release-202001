
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Changelog - Cypress - W3cubDocs</title>
  
  <meta name="description" content=" Released 7&#47;29&#47;2019 ">
  <meta name="keywords" content="changelog, -, cypress">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/cypress/guides/references/changelog/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" integrity="sha256-6/DH7X+2hvUPElJfGsvzm+tgIpmM9zjbYxnpsr6gR1A=" crossorigin="anonymous" href="/assets/application-ebf0c7ed7fb686f50f12525f1acbf39beb6022998cf738db6319e9b2bea04750.css">
  <script type="text/javascript" src="/assets/application-db285287b40ed28fac520fcfd75d7d874692b647b5b5e05968c741dda5de4148.js" integrity="sha256-2yhSh7QO0o+sUg/P1119h0aStke1teBZaMdB3aXeQUg=" crossorigin="anonymous"></script>
  <script src="/json/cypress.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-2572770204602497",
            enable_page_level_ads: true
        });
  </script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cypress/" class="_nav-link" title="" style="margin-left:0;">Cypress</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _cypress">
				
				
<h1 class="article-title" itemprop="name">Changelog</h1>  <div class="article-content" itemprop="articleBody"> <h1 id="3-4-1" class="article-heading">
3.4.1
</h1>
<p><em>Released 7/29/2019</em></p> <p><strong>Dashboard Features:</strong></p> <ul> <li>We’re excited to announce <a href="../../dashboard/github-integration/">GitHub integration</a> for the <a href="https://on.cypress.io/dashboard" target="_blank" rel="noopener">Cypress Dashboard</a>. You can now get timely and useful test run information within pull-requests via status checks and pull-request comments. Learn all about it on <a href="https://www.cypress.io/blog/2019/07/29/github-integration-for-the-cypress-dashboard/" target="_blank" rel="noopener">our blog</a>. Addresses <a href="https://github.com/cypress-io/cypress/issues/981" target="_blank" rel="noopener noreferrer">#981</a>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Fixed a bug where the content of pages using non-UTF-8 character encoding would become corrupted when opened in Cypress. Fixes <a href="https://github.com/cypress-io/cypress/issues/3479" target="_blank" rel="noopener noreferrer">#3479</a>, <a href="https://github.com/cypress-io/cypress/issues/1543" target="_blank" rel="noopener noreferrer">#1543</a>, and <a href="https://github.com/cypress-io/cypress/issues/3650" target="_blank" rel="noopener noreferrer">#3650</a>.</li> <li>Fixed a regression introduced in <a href="../changelog/#3-4-0">3.4.0</a> that caused an error to be thrown when chaining together multiple assertions using the <code>and</code> chainable getter. Fixes <a href="https://github.com/cypress-io/cypress/issues/4833" target="_blank" rel="noopener noreferrer">#4833</a>.</li> <li>The <code>include</code> and <code>includes</code> assertion chainers now correctly work the same as <code>contain</code> and <code>contains</code> assertion chainers. Fixes <a href="https://github.com/cypress-io/cypress/issues/4833" target="_blank" rel="noopener noreferrer">#4833</a>.</li> <li>Cypress now correctly works offline on Windows when visiting a localhost URL. Fixes <a href="https://github.com/cypress-io/cypress/issues/4763" target="_blank" rel="noopener noreferrer">#4763</a>.</li> <li>
<a href="../../../api/commands/type/"><code>cy.type()</code></a> now factors in the <code>readonly</code> property of <code>&lt;input /&gt;</code> elements, and will wait for this property to be <code>false</code> before attempting to type. Fixes <a href="https://github.com/cypress-io/cypress/issues/1246" target="_blank" rel="noopener noreferrer">#1246</a>.</li> <li>Variables beginning with <code>top</code> and <code>location</code> in your application code are no longer modified when <code>modifyObstructiveCode</code> is <code>true</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/4794" target="_blank" rel="noopener noreferrer">#4794</a>.</li> <li>We removed erroneous socket connections when the browser is initially launching. Fixes <a href="https://github.com/cypress-io/cypress/issues/4776" target="_blank" rel="noopener noreferrer">#4776</a>.</li> <li>Fixed a bug when dismissing pinned snapshots that would cause the page to be wiped with nothing rendered. Fixes <a href="https://github.com/cypress-io/cypress/issues/4864" target="_blank" rel="noopener noreferrer">#4864</a>.</li> <li>We upgraded the <code>mocha-teamcity-reporter</code> dependency so that it no longer errors in certain situations when trying to access duration on tests. Fixes <a href="https://github.com/cypress-io/cypress/issues/4654" target="_blank" rel="noopener noreferrer">#4654</a>.</li> <li>We upgraded the <code>lodash</code> dependency to fix a security vulnerability warning. Fixes <a href="https://github.com/cypress-io/cypress/issues/4699" target="_blank" rel="noopener noreferrer">#4699</a>, <a href="https://github.com/cypress-io/cypress/issues/4730" target="_blank" rel="noopener noreferrer">#4730</a>, <a href="https://github.com/cypress-io/cypress/issues/4743" target="_blank" rel="noopener noreferrer">#4743</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>We now ensure we are shipping with production versions of dependencies such as <code>react</code>, <code>mobx</code>, etc. This should help to prevent conflicts with Developer Tools extensions and increase performance by reducing memory, heap allocation, and overall JS bundle size. Addresses <a href="https://github.com/cypress-io/cypress/issues/4844" target="_blank" rel="noopener noreferrer">#4844</a>.</li> <li>Video recordings now wait after all tests finish to ensure that the video captures the final rendered frames of the browser. This prevents the last few paints from being cut off. Fixes <a href="https://github.com/cypress-io/cypress/issues/2370" target="_blank" rel="noopener noreferrer">#2370</a>.</li> <li>Cypress now looks for any npm proxy configuration values as a fallback when no other system proxy configuration is found. This brings this feature into parity with how npm reads off proxy configuration values during an <code>npm install</code>. Addresses <a href="https://github.com/cypress-io/cypress/issues/4719" target="_blank" rel="noopener noreferrer">#4719</a>.</li> <li>We updated the messaging when there is a failure downloading Cypress to recommend checking your proxy settings. Addresses <a href="https://github.com/cypress-io/cypress/issues/1662" target="_blank" rel="noopener noreferrer">#1662</a>.</li> <li>A warning message now displays if you attempt to run the Cypress binary directly instead of going through the cypress <code>npm</code> package. Addresses <a href="https://github.com/cypress-io/cypress/issues/1573" target="_blank" rel="noopener noreferrer">#1573</a>.</li> <li>There are newly added examples in the TypeScript definitions for <a href="../../../api/cypress-api/custom-commands/">custom commands</a>, <a href="../../../api/commands/location/"><code>cy.location()</code></a> and <a href="../../../api/commands/should/"><code>.should()</code></a>. Addresses <a href="https://github.com/cypress-io/cypress/issues/3684" target="_blank" rel="noopener noreferrer">#3684</a> and <a href="https://github.com/cypress-io/cypress/issues/4715" target="_blank" rel="noopener noreferrer">#4715</a>.</li> <li>The types for the <a href="../../../api/commands/contains/"><code>cy.contains(content, options)</code></a> syntax have been added. Addresses <a href="https://github.com/cypress-io/cypress/issues/4727" target="_blank" rel="noopener noreferrer">#4727</a>.</li> <li>Types for <code>cy.once()</code> have been added. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4788" target="_blank" rel="noopener noreferrer">#4788</a>.</li> <li>There is now a <code>{ parseSpecialCharSequences: false }</code> option to <a href="../../../api/commands/type/"><code>cy.type()</code></a> that disables parsing the special character sequences found between the <code>{}</code> characters. This will now type what you’ve provided literally without any special parsing. Fixes <a href="https://github.com/cypress-io/cypress/issues/4287" target="_blank" rel="noopener noreferrer">#4287</a>.</li> <li>You can now zoom in the main Test Runner window and also the Electron browser. Corresponding keyboard shortcuts for Zoom in, Zoom out and Actual Size are also available. Addresses <a href="https://github.com/cypress-io/cypress/issues/1231" target="_blank" rel="noopener noreferrer">#1231</a>.</li> <li>When viewing the Test Runner’s main window at its smallest size, the header text no longer incorrectly wraps. Addresses <a href="https://github.com/cypress-io/cypress/issues/86" target="_blank" rel="noopener noreferrer">#86</a>.</li> <li>We’re continuing to make process in converting our codebase from CoffeeScript to JavaScript. Addresses <a href="https://github.com/cypress-io/cypress/issues/2690" target="_blank" rel="noopener noreferrer">#2690</a> in <a href="https://github.com/cypress-io/cypress/pull/4781" target="_blank" rel="noopener noreferrer">#4781</a> and <a href="https://github.com/cypress-io/cypress/pull/4817" target="_blank" rel="noopener noreferrer">#4817</a>.</li> <li>We increased the cypress binary verification phase from 10 seconds to 30 seconds to accomodate underpowered or overwhelmed machines typically found in CI environments. Addresses <a href="https://github.com/cypress-io/cypress/issues/4624" target="_blank" rel="noopener noreferrer">#4624</a>.</li> </ul> <p><strong>Documentation Changes:</strong></p> <ul> <li>We have new instructions on how to set up <a href="../../dashboard/github-integration/">GitHub Integration</a> with the Cypress Dashboard.</li> <li>Updated instructions for adding types for custom commands in the <a href="../../tooling/typescript-support/#Types-for-custom-commands">TypeScript Support</a> doc. Addressed in <a href="https://github.com/cypress-io/cypress-documentation/pull/1901" target="_blank" rel="noopener">#1901</a>
</li> <li>Added a section about video encoding and how to speed up the encoding time to <a href="../../guides/screenshots-and-videos/#Video-encoding">Screenshots and Videos</a> doc. Addressed in <a href="https://github.com/cypress-io/cypress-documentation/pull/1880" target="_blank" rel="noopener">#1880</a>
</li> </ul> <p><strong>Dependency Updates</strong></p> <ul> <li>Upgraded <code>@ffmpeg-installer/ffmpeg</code> from <code>1.0.17</code> to <code>1.0.19</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4792" target="_blank" rel="noopener noreferrer">#4792</a>.</li> <li>Upgraded <code>browserify</code> from <code>13.3.0</code> to <code>16.3.0</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4751" target="_blank" rel="noopener noreferrer">#4751</a>, <a href="https://github.com/cypress-io/cypress/pull/4825" target="_blank" rel="noopener noreferrer">#4825</a> and <a href="https://github.com/cypress-io/cypress/pull/4826" target="_blank" rel="noopener noreferrer">#4826</a>.</li> <li>Upgraded <code>data-uri-to-buffer</code> from <code>1.2.0</code> to <code>2.0.1</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4622" target="_blank" rel="noopener noreferrer">#4622</a>.</li> <li>Upgraded <code>duplexify</code> from <code>4.0.0</code> to <code>4.1.1</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4853" target="_blank" rel="noopener noreferrer">#4853</a>.</li> <li>Upgraded <code>graceful-fs</code> from <code>4.1.15</code> to <code>4.2.0</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4818" target="_blank" rel="noopener noreferrer">#4818</a>.</li> <li>Upgraded <code>lodash</code> from <code>4.17.11</code> to <code>4.17.15</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4684" target="_blank" rel="noopener noreferrer">#4684</a>, <a href="https://github.com/cypress-io/cypress/pull/4709" target="_blank" rel="noopener noreferrer">#4709</a>, <a href="https://github.com/cypress-io/cypress/pull/4784" target="_blank" rel="noopener noreferrer">#4784</a>.</li> <li>Upgraded <code>mocha-junit-reporter</code> from <code>1.23.0</code> to <code>1.23.1</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4785" target="_blank" rel="noopener noreferrer">#4785</a>.</li> <li>Upgraded <code>p-queue</code> from <code>1.2.0</code> to <code>6.1.0</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4750" target="_blank" rel="noopener noreferrer">#4750</a>.</li> <li>Upgraded <code>semver</code> from <code>6.0.0</code> to <code>6.3.0</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4797" target="_blank" rel="noopener noreferrer">#4797</a>.</li> <li>We also updated and removed some dependencies used for development.</li> </ul> <h1 id="3-4-0" class="article-heading">
3.4.0
</h1>
<p><em>Released 7/9/2019</em></p> <p><strong>Features:</strong></p> <ul> <li>Users can now log in to the Test Runner through the browser installed on their system. This also allows for login via GitHub with U2F keys. Addresses <a href="https://github.com/cypress-io/cypress/issues/3583" target="_blank" rel="noopener noreferrer">#3583</a>, <a href="https://github.com/cypress-io/cypress/issues/4337" target="_blank" rel="noopener noreferrer">#4337</a>, and <a href="https://github.com/cypress-io/cypress/issues/1162" target="_blank" rel="noopener noreferrer">#1162</a>.</li> <li>Google or SSO (if configured) login is now supported in the Test Runner. Addresses <a href="https://github.com/cypress-io/cypress/issues/3519" target="_blank" rel="noopener noreferrer">#3519</a>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Cypress now properly supports partial matching of string values for assertions <code>contain.text</code>, <code>contain.html</code>, and <code>contain.value</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1969" target="_blank" rel="noopener noreferrer">#1969</a>.</li> <li>A form is now properly submitted when using <code>.type('{enter}')</code> on a form containing no buttons and only one input that allows implicit submission. Fixes <a href="https://github.com/cypress-io/cypress/issues/4495" target="_blank" rel="noopener noreferrer">#4495</a>.</li> <li>Extra whitespace and quotations are now stripped from the <code>CYPRESS_INSTALL_BINARY</code> environment variable to help prevent some unexpected results when set in Windows. Fixes <a href="https://github.com/cypress-io/cypress/issues/4506" target="_blank" rel="noopener noreferrer">#4506</a>.</li> <li>Electron rendering warnings are no longer printed to console output. Fixes <a href="https://github.com/cypress-io/cypress/issues/4288" target="_blank" rel="noopener noreferrer">#4288</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>We now expose a downloadable binary for each commit made into the <a href="https://github.com/cypress-io/cypress/commits/develop" target="_blank" rel="noopener">develop branch</a> of the <a href="https://github.com/cypress-io/cypress" target="_blank" rel="noopener">cypress</a> repository so that pre-released versions can be installed. See <a href="https://github.com/cypress-io/cypress/commit/52ca8ed8399c5ef467efbee7a2d00fe0863e7f36#commitcomment-34237047" target="_blank" rel="noopener">this commit</a> for an example. Addresses <a href="https://github.com/cypress-io/cypress/issues/4525" target="_blank" rel="noopener noreferrer">#4525</a>.</li> <li>There are now a series of checks that are run during download of Cypress to verify that the zip file downloaded is the correct file. Addresses <a href="https://github.com/cypress-io/cypress/issues/812" target="_blank" rel="noopener noreferrer">#812</a> and <a href="https://github.com/cypress-io/cypress/issues/3515" target="_blank" rel="noopener noreferrer">#3515</a>.</li> <li>A warning now displays for Windows’ users who have Group Policy settings that may interfere with usage of Cypress. Addresses <a href="https://github.com/cypress-io/cypress/issues/4391" target="_blank" rel="noopener noreferrer">#4391</a>.</li> <li>There’s a new warning when mouse interactions fail displaying that it failed due to the element having CSS <code>pointer-events: none</code>. Addresses <a href="https://github.com/cypress-io/cypress/issues/3164" target="_blank" rel="noopener noreferrer">#3164</a>.</li> <li>If a URL is passed to <a href="../../../api/commands/route/"><code>cy.route()</code></a> containing percent-encoded characters, we now display a warning explaining that <code>cy.route()</code> expects a decoded URL. Addresses <a href="https://github.com/cypress-io/cypress/issues/2372" target="_blank" rel="noopener noreferrer">#2372</a>.</li> <li>Environment variables for Semaphore 2.0 are now captured when recording tests to the Dashboard. Fixes <a href="https://github.com/cypress-io/cypress/issues/4671" target="_blank" rel="noopener noreferrer">#4671</a>.</li> <li>We now capture environment variables set from Concourse CI when recording tests to the Dashboard. Fixes <a href="https://github.com/cypress-io/cypress/issues/4376" target="_blank" rel="noopener noreferrer">#4376</a>.</li> <li>We replaced capturing environment variables from SnapCI (which is no longer available) to instead capture ones set from GoCD when recording tests to the Dashboard. Fixes <a href="https://github.com/cypress-io/cypress/issues/2680" target="_blank" rel="noopener noreferrer">#2680</a>.</li> <li>The <a href="https://on.cypress.io/cypress.schema.json" target="_blank" rel="noopener">JSON schema file</a> used for <a href="https://on.cypress.io/intelligent-code-completion#Configuration" target="_blank" rel="noopener">intelligent code completion</a> for the Cypress configuration file has been updated to match our documentation.</li> </ul> <p><strong>Documentation Changes:</strong></p> <ul> <li>New error message added about policy settings to our <a href="../error-messages/">Error Messages</a> doc. Addressed in <a href="https://github.com/cypress-io/cypress-documentation/pull/1754" target="_blank" rel="noopener">#1567</a>.</li> <li>
<a href="https://docs.cypress.io/examples/examples/applications.html#Realworld" target="_blank">Real World</a> example tests were added to Example Applications doc. Addressed in <a href="https://github.com/cypress-io/cypress-documentation/pull/1836" target="_blank" rel="noopener">#1567</a>.</li> <li>More content was added to our <a href="../../tooling/code-coverage/">Code Coverage</a> doc.</li> </ul> <p><strong>Dependency Updates</strong></p> <ul> <li>Removed <code>string-to-stream</code> since it was no longer being used. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4619" target="_blank" rel="noopener noreferrer">#4619</a>.</li> <li>Upgraded <code>@cypress/commit-info</code> from <code>2.1.3</code> to <code>2.1.4</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4597" target="_blank" rel="noopener noreferrer">#4597</a>.</li> <li>Upgraded <code>@cypress/react-tooltip</code> from <code>0.4.0</code> to <code>0.5.0</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4610" target="_blank" rel="noopener noreferrer">#4610</a>.</li> <li>Upgraded <code>errorhandler</code> from <code>1.5.0</code> to <code>1.5.1</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4618" target="_blank" rel="noopener noreferrer">#4618</a>.</li> <li>Upgraded <code>fs-extra</code> from <code>8.0.1</code> to <code>8.1.0</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4620" target="_blank" rel="noopener noreferrer">#4620</a>.</li> <li>Upgraded <code>request-progress</code> from <code>0.4.0</code> to <code>3.0.0</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4584" target="_blank" rel="noopener noreferrer">#4584</a>.</li> <li>We also updated and removed some dependencies used for development.</li> </ul> <h1 id="3-3-2" class="article-heading">
3.3.2
</h1>
<p><em>Released 6/27/2019</em></p> <p><strong>Performance Improvements:</strong></p> <ul> <li>We fixed a regression introduced in <a href="../changelog/#3-3-0">3.3.0</a> that was causing the Test Runner to do extremely unnecessary re-renders of the Command Log on any command change - leading to exponential performance degradation on any run. This was the root cause behind many users experiencing a reduction in performance when upgrading to <code>3.3.0</code> or above. Fixes <a href="https://github.com/cypress-io/cypress/issues/4411" target="_blank" rel="noopener noreferrer">#4411</a> and <a href="https://github.com/cypress-io/cypress/issues/4313" target="_blank" rel="noopener noreferrer">#4313</a>.</li> <li>We reduced memory consumption and improved the performance of running tests anytime you’re inside of <code>cypress open</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/2366" target="_blank" rel="noopener noreferrer">#2366</a>. Thanks <a href="https://github.com/CoryDanielson" target="_blank" rel="noopener noreferrer">@CoryDanielson</a>!</li> <li>We no longer delay proxied responses with no body with status codes 1xx, 204, 304. This fixes a regression introduced in <a href="../changelog/#3-2-0">3.2.0</a> where responses with these status codes were delayed when using a proxy. Fixes <a href="https://github.com/cypress-io/cypress/issues/4298" target="_blank" rel="noopener noreferrer">#4298</a>.</li> <li>Snapshots were previously being mistakenly stored then instantly deleted when <code>numTestsKeptInMemory</code> was set to 0. We now no longer record the snapshots at all when <code>numTestsKeptInMemory</code> is set to 0. This should slightly improve the performance of running tests with this setting. Fixes <a href="https://github.com/cypress-io/cypress/issues/4104" target="_blank" rel="noopener noreferrer">#4104</a> and <a href="https://github.com/cypress-io/cypress/issues/4164" target="_blank" rel="noopener noreferrer">#4164</a>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Cypress no longer watches files when run using <code>cypress run</code>. This will fix some runs that were crashing with an <code>ENOSPC</code> error. Fixes <a href="https://github.com/cypress-io/cypress/issues/4283" target="_blank" rel="noopener noreferrer">#4283</a>.</li> <li>Cypress now correctly handles <code>blur</code> and <code>focus</code> events in situations where the browser has lost focus. Fixes <a href="https://github.com/cypress-io/cypress/issues/4039" target="_blank" rel="noopener noreferrer">#4039</a>, <a href="https://github.com/cypress-io/cypress/issues/1176" target="_blank" rel="noopener noreferrer">#1176</a>, and <a href="https://github.com/cypress-io/cypress/issues/1486" target="_blank" rel="noopener noreferrer">#1486</a>.</li> <li>If the DOM element provided to <a href="../../../api/commands/type/"><code>.type()</code></a> is already in focus, Cypress no longer attempts to click on the DOM element. This allows you to call <code>.focus()</code> on elements that are focusable, but not necessarily clickable and type into them using <code>.type()</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/3001" target="_blank" rel="noopener noreferrer">#3001</a> and <a href="https://github.com/cypress-io/cypress/issues/4420" target="_blank" rel="noopener noreferrer">#4420</a>.</li> <li>Some elements inside of a parent with CSS <code>overflow: hidden</code> that flow outside of its parent are now properly considered hidden. <a href="https://github.com/cypress-io/cypress/issues/4161" target="_blank" rel="noopener noreferrer">#4161</a>
</li> <li>Elements that are inside a parent with CSS <code>position: absolute</code> which is itself inside of a parent element with <code>overflow: hidden</code> are now properly considered visible. Fixes <a href="https://github.com/cypress-io/cypress/issues/4395" target="_blank" rel="noopener noreferrer">#4395</a> and <a href="https://github.com/cypress-io/cypress/issues/755" target="_blank" rel="noopener noreferrer">#755</a>.</li> <li>
<code>&lt;option&gt;</code> and <code>&lt;optgroup&gt;</code> elements are now properly considered visible if it is contained within a visible <code>&lt;select&gt;</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/4473" target="_blank" rel="noopener noreferrer">#4473</a>.</li> <li>
<code>&lt;body&gt;</code> and <code>&lt;html&gt;</code> elements are now properly always considered visible. Fixes <a href="https://github.com/cypress-io/cypress/issues/4475" target="_blank" rel="noopener noreferrer">#4475</a>.</li> <li>
<code>&lt;td&gt;</code> and <code>&lt;tr&gt;</code> elements with CSS <code>visibility: collapse</code> are now properly considered hidden. Fixes <a href="https://github.com/cypress-io/cypress/issues/4476" target="_blank" rel="noopener noreferrer">#4476</a>.</li> <li>We now correctly handle form submission when using <code>.type('{enter}')</code> on a form containing a button of type <code>reset</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/3909" target="_blank" rel="noopener noreferrer">#3909</a>.</li> <li>If a site’s <code>content-type</code> is <code>null</code>, <code>undefined</code> or cannot be determined during <a href="../../../api/commands/visit/"><code>cy.visit()</code></a>, we now look at the content of the site and evaluate whether it looks like HTML. If it does look like HTML we no longer error and continue as if it the site’s <code>content-type</code> is <code>text/html</code>. <a href="https://github.com/cypress-io/cypress/issues/1727" target="_blank" rel="noopener noreferrer">#1727</a> <a href="https://github.com/cypress-io/cypress/issues/773" target="_blank" rel="noopener noreferrer">#773</a> <a href="https://github.com/cypress-io/cypress/issues/3101" target="_blank" rel="noopener noreferrer">#3101</a>.</li> <li>Previously Cypress would send the <code>auth</code> header to any URLs that match the CORS origin of the original <code>auth</code> header. We now correctly only send the <code>auth</code> headers when there is an exact match on the <a href="https://tools.ietf.org/html/rfc7235#section-2.2" target="_blank" rel="noopener">protection space</a>. Fixes <a href="https://github.com/cypress-io/cypress/issues/4267" target="_blank" rel="noopener noreferrer">#4267</a>.</li> <li>Requests that go through <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> or <a href="../../../api/commands/request/"><code>cy.request()</code></a> are now automatically retried on <code>ENOTFOUND</code> errors. Fixes <a href="https://github.com/cypress-io/cypress/issues/4424" target="_blank" rel="noopener noreferrer">#4424</a> and <a href="https://github.com/cypress-io/cypress/issues/1755" target="_blank" rel="noopener noreferrer">#1755</a>.</li> <li>Cypress now errors when the <code>body</code> paramater passed to <a href="../../../api/commands/request/"><code>cy.request()</code></a> contains a circular reference. Fixed in <a href="https://github.com/cypress-io/cypress/pull/4407" target="_blank" rel="noopener noreferrer">#4407</a>.</li> <li>We fixed an issue where the <code>ignoreTestFiles</code> configuration was being filtered out when passed via a command line flag, so in effect being ignored. Fixes <a href="https://github.com/cypress-io/cypress/issues/1696" target="_blank" rel="noopener noreferrer">#1696</a>.</li> <li>Setting <code>NO_PROXY</code> is now respected for HTTPS urls, as it should be. Fixes <a href="https://github.com/cypress-io/cypress/issues/4303" target="_blank" rel="noopener noreferrer">#4303</a>.</li> <li>When running tests with non-string test titles, the screenshots now automatically stringify the test titles instead of throwing an error. Fixes <a href="https://github.com/cypress-io/cypress/issues/4310" target="_blank" rel="noopener noreferrer">#4310</a>.</li> <li>Cypress no longer incorrectly errors when calling <code>cy.window().screenshot()</code>, <code>cy.window().scrollTo()</code> or <code>cy.window().trigger()</code> in an application with multiple iframes. Fixes <a href="https://github.com/cypress-io/cypress/issues/4396" target="_blank" rel="noopener noreferrer">#4396</a>.</li> <li>Fixed a regression in <a href="../changelog/#3-3-0">3.3.0</a> causing some users using proxy to see the “Browser was not launched through Cypress” error during <code>cypress open</code>. This was caused by incorrectly routing requests for Cypress’s internal server on <code>localhost</code> through the user’s proxy. Fixes <a href="https://github.com/cypress-io/cypress/issues/4410" target="_blank" rel="noopener noreferrer">#4410</a>.</li> <li>We fixed situations during a test failure where the Test Runner would throw <code>RangeError: Maximum call stack size exceeded</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1958" target="_blank" rel="noopener noreferrer">#1958</a> and <a href="https://github.com/cypress-io/cypress/issues/4346" target="_blank" rel="noopener noreferrer">#4346</a>.</li> <li>Fixed issue where <code>window.performance.getEntriesByType</code> would return <code>undefined</code> instead of an array within application code when using <a href="../../../api/commands/clock/"><code>cy.clock()</code></a>. Fixes <a href="https://github.com/cypress-io/cypress/issues/3625" target="_blank" rel="noopener noreferrer">#3625</a>.</li> <li>Passing an array of strings to <code>ignoreTestFiles</code> no longer causes an error to throw. Fixes <a href="https://github.com/cypress-io/cypress/issues/4312" target="_blank" rel="noopener noreferrer">#4312</a>.</li> <li>Fixed a visual bug when aliasing a non-route subject multiple times that would cause the Test Runner to show ‘undefined’ alias with empty counts. Fixes <a href="https://github.com/cypress-io/cypress/issues/4429" target="_blank" rel="noopener noreferrer">#4429</a>.</li> <li>Fixed regression introduced in <a href="../changelog/#3-2-0">3.2.0</a> where Cypress would error because it could not find a type definition file for ‘../sinon’. Fixes <a href="https://github.com/cypress-io/cypress/issues/4272" target="_blank" rel="noopener noreferrer">#4272</a>.</li> <li>
<a href="../../../api/commands/writefile/"><code>cy.writeFile()</code></a> no longer errors in TypeScript files when passing an <code>options</code> object as its third argument. Fixes <a href="https://github.com/cypress-io/cypress/issues/4461" target="_blank" rel="noopener noreferrer">#4461</a>.</li> <li>
<a href="../../../api/commands/stub/"><code>cy.stub()</code></a> no longer errors in TypeScript files when evaluating returns. Fixes <a href="https://github.com/cypress-io/cypress/issues/4302" target="_blank" rel="noopener noreferrer">#4302</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Warnings are now displayed when recording in <code>cypress run</code> to warn when a project is nearing its organization’s usage limit. They also clearly explain any consequences of going over a plan’s usage limit. Addresses <a href="https://github.com/cypress-io/cypress/issues/4530" target="_blank" rel="noopener noreferrer">#4530</a>.</li> <li>An warning icon with a tooltip is displayed in the Runs tab of the Test Runner when parallelization was disabled during the run due to being over the organization’s usage limit. Addresses <a href="https://github.com/cypress-io/cypress/issues/4489" target="_blank" rel="noopener noreferrer">#4489</a>.</li> <li>You can now opt out of sending exceptions to <code>https://api.cypress.io</code> by setting <code>CYPRESS_CRASH_REPORTS=0</code> in your system environment variables. <a href="https://github.com/cypress-io/cypress/issues/4386" target="_blank" rel="noopener noreferrer">#4386</a>
</li> <li>We are now capturing Google Cloud build details when recording tests to the Cypress Dashboard. Addresses <a href="https://github.com/cypress-io/cypress/issues/3582" target="_blank" rel="noopener noreferrer">#3582</a>.</li> <li>The tests titles and headers in the Command Log no longer truncate with elipsis when the text is longer than that width of the Command Log. Instead the text wraps so that all text is shown. Addresses <a href="https://github.com/cypress-io/cypress/issues/3947" target="_blank" rel="noopener noreferrer">#3947</a>.</li> <li>Special env vars are now truncated in <code>Cypress.env()</code> and the debug logs. Addresses <a href="https://github.com/cypress-io/cypress/issues/4501" target="_blank" rel="noopener noreferrer">#4501</a>.</li> <li>The <code>projectId</code> in now displayed in the configuration in the Test Runner settings like all other configuration values. Fixes <a href="https://github.com/cypress-io/cypress/issues/4500" target="_blank" rel="noopener noreferrer">#4500</a>.</li> <li>When recording to the Dashboard, unrecognized warnings coming from the API server are now displayed in stdout. Fixes <a href="https://github.com/cypress-io/cypress/issues/4489" target="_blank" rel="noopener noreferrer">#4489</a>.</li> </ul> <p><strong>Documentation Changes:</strong></p> <ul> <li>New <a href="../../tooling/code-coverage/">Code Coverage</a> doc. Addressed in <a href="https://github.com/cypress-io/cypress-documentation/pull/1744" target="_blank" rel="noopener">#1744</a>.</li> <li>New <a href="../../tooling/visual-testing/">Visual Testing</a> doc. Addressed in <a href="https://github.com/cypress-io/cypress-documentation/pull/1536" target="_blank" rel="noopener">#1744</a>.</li> <li>New <a href="https://docs.cypress.io/examples/media/courses-media.html" target="_blank">Courses</a> doc to list online courses that teach end-to-end testing with Cypress. Addressed in <a href="https://github.com/cypress-io/cypress-documentation/pull/1766" target="_blank" rel="noopener">#1766</a>.</li> <li>Added a section about <a href="../../guides/debugging/#Hacking-on-Cypress">Hacking on Cypress</a> in the Debugging doc. Addressed in <a href="https://github.com/cypress-io/cypress-documentation/pull/1783" target="_blank" rel="noopener">#1783</a>.</li> <li>Added a section on how to <a href="../../getting-started/installing-cypress/#Opt-out-of-sending-exception-data-to-Cypress">opt out of sending exception data to Cypress</a> in the Installing Cypress doc.</li> </ul> <p><strong>Dependency Updates</strong></p> <ul> <li>Removed <code>electron-positioner</code> since it was no longer being used. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4502" target="_blank" rel="noopener noreferrer">#4502</a>.</li> <li>Upgraded <code>chokidar</code> from <code>1.7.0</code> to <code>3.0.1</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4487" target="_blank" rel="noopener noreferrer">#4487</a>.</li> <li>Upgraded <code>cookie</code> from <code>0.3.1</code> to <code>0.4.0</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4329" target="_blank" rel="noopener noreferrer">#4329</a>.</li> <li>Upgraded <code>dependency-tree</code> from <code>6.5.0</code> to <code>7.0.2</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4364" target="_blank" rel="noopener noreferrer">#4364</a>.</li> <li>Upgraded <code>fs-extra</code> from <code>0.30.0</code> to <code>8.0.1</code>. Upgraded in CLI package only to <code>5.0.0</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4418" target="_blank" rel="noopener noreferrer">#4418</a>, <a href="https://github.com/cypress-io/cypress/pull/4419" target="_blank" rel="noopener noreferrer">#4419</a>, <a href="https://github.com/cypress-io/cypress/pull/4422" target="_blank" rel="noopener noreferrer">#4422</a>, <a href="https://github.com/cypress-io/cypress/pull/4437" target="_blank" rel="noopener noreferrer">#4437</a>, <a href="https://github.com/cypress-io/cypress/pull/4555" target="_blank" rel="noopener noreferrer">#4555</a>, <a href="https://github.com/cypress-io/cypress/pull/4559" target="_blank" rel="noopener noreferrer">#4559</a>, <a href="https://github.com/cypress-io/cypress/pull/4571" target="_blank" rel="noopener noreferrer">#4571</a>, <a href="https://github.com/cypress-io/cypress/pull/4581" target="_blank" rel="noopener noreferrer">#4581</a>.</li> <li>Upgraded <code>mocha-junit-reporter</code> from <code>1.18.0</code> to <code>1.23.0</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4417" target="_blank" rel="noopener noreferrer">#4417</a>.</li> <li>Upgraded <code>pluralize</code> from <code>7.0.0</code> to <code>8.0.0</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4438" target="_blank" rel="noopener noreferrer">#4438</a>.</li> <li>Upgraded <code>shell-env</code> from <code>0.3.0</code> to <code>3.0.0</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4466" target="_blank" rel="noopener noreferrer">#4466</a>, <a href="https://github.com/cypress-io/cypress/pull/4467" target="_blank" rel="noopener noreferrer">#4467</a>, and <a href="https://github.com/cypress-io/cypress/pull/4471" target="_blank" rel="noopener noreferrer">#4471</a>.</li> <li>Upgraded <code>winston</code> from <code>0.9.0</code> to <code>2.4.4</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4538" target="_blank" rel="noopener noreferrer">#4538</a>.</li> <li>We updated and removed some dependencies used for development.</li> </ul> <h1 id="3-3-1" class="article-heading">
3.3.1
</h1>
<p><em>Released 5/23/2019</em></p> <p><strong>News:</strong></p> <ul> <li>We’ve <a href="https://www.cypress.io/blog/2019/05/22/how-we-improved-network-speed-by-300-in-cypress-3-3-0/" target="_blank" rel="noopener">written a blog post</a> about the 300% increase in proxy performance delivered in <a href="../changelog/#3-3-0">3.3.0</a>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Cypress no longer accidentally prints internal Electron logs when running <code>cypress run</code>. This bug would exhibit itself when verifying and running Cypress the first time after installation. You may have seen these logs when running in CI. Fixes <a href="https://github.com/cypress-io/cypress/issues/4255" target="_blank" rel="noopener noreferrer">#4255</a>.</li> <li>Fixed a bug for users running external network proxies that prevented requests from completing. Requests should now all work correctly. Fixes <a href="https://github.com/cypress-io/cypress/issues/4257" target="_blank" rel="noopener noreferrer">#4257</a>.</li> <li>Fixed a regression in <a href="../changelog/#3-3-0">3.3.0</a> causing large requests such as <code>multipart/form-data</code> uploads to hang. Fixes <a href="https://github.com/cypress-io/cypress/issues/4240" target="_blank" rel="noopener noreferrer">#4240</a>, <a href="https://github.com/cypress-io/cypress/issues/4252" target="_blank" rel="noopener noreferrer">#4252</a>, and <a href="https://github.com/cypress-io/cypress/issues/4253" target="_blank" rel="noopener noreferrer">#4253</a>.</li> <li>Fixed issue where support for <code>have.focus</code>, <code>not.have.focus</code>, <code>be.focused</code> and <code>not.be.focused</code> <a href="../assertions/">assertions</a> were not working. Fixes <a href="https://github.com/cypress-io/cypress/issues/4265" target="_blank" rel="noopener noreferrer">#4265</a>.</li> <li>Names given to <a href="../../../api/commands/as/"><code>.as()</code></a> now work properly when they contain a <code>.</code> character. Fixes <a href="https://github.com/cypress-io/cypress/issues/3512" target="_blank" rel="noopener noreferrer">#3512</a>.</li> <li>The proper error is now thrown when passing <code>{log: false}</code> to a Cypress command that failed. Fixes <a href="https://github.com/cypress-io/cypress/issues/3847" target="_blank" rel="noopener noreferrer">#3847</a>.</li> <li>Fixed an issue where highlighting a command’s snapshot would throw an error when no application was rendered in the AUT frame. Fixes <a href="https://github.com/cypress-io/cypress/issues/4177" target="_blank" rel="noopener noreferrer">#4177</a>.</li> <li>We now properly detect the branch name when running Cypress in AppVeyor. Fixed in <a href="https://github.com/cypress-io/cypress/pull/4234" target="_blank" rel="noopener noreferrer">#4234</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Fix capitalization of <code>Xvfb</code> in error messages. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4262" target="_blank" rel="noopener noreferrer">#4262</a>.</li> </ul> <p><strong>Documentation Changes:</strong></p> <ul> <li>We have some newly translated documentation in <a href="http://on.cypress.io/zh-cn" target="_blank" rel="noopener">Chinese</a> and <a href="http://on.cypress.io/ja" target="_blank" rel="noopener">Japanese</a>. If you’d like to help in translating more, please open a pull request in our <a href="https://github.com/cypress-io/cypress-documentation" target="_blank" rel="noopener">documentation repo</a>.</li> </ul> <h1 id="3-3-0" class="article-heading">
3.3.0
</h1>
<p><em>Released 5/17/2019</em></p> <p><strong>News:</strong></p> <ul> <li>We’ve <a href="https://www.cypress.io/blog/2019/05/22/how-we-improved-network-speed-by-300-in-cypress-3-3-0/" target="_blank" rel="noopener">written a blog post</a> about the 300% increase in proxy performance delivered in <code>3.3.0</code>.</li> </ul> <p><strong>Features:</strong></p> <ul> <li>Cypress now automatically reads from your system’s <code>HTTP_PROXY</code>, <code>HTTPS_PROXY</code>, and <code>NO_PROXY</code> environment variables and proxies traffic accordingly through Cypress based on these values. This includes network traffic within your application under test, when downloading Cypress, and when accessing ‘Runs’ within the Test Runner. Please read our new <a href="../proxy-configuration/">Proxy Configuration</a> doc to understand more about proxy configuration in Cypress. Fixes <a href="https://github.com/cypress-io/cypress/issues/672" target="_blank" rel="noopener noreferrer">#672</a>, <a href="https://github.com/cypress-io/cypress/issues/733" target="_blank" rel="noopener noreferrer">#733</a>, <a href="https://github.com/cypress-io/cypress/issues/939" target="_blank" rel="noopener noreferrer">#939</a>, <a href="https://github.com/cypress-io/cypress/issues/1039" target="_blank" rel="noopener noreferrer">#1039</a>, <a href="https://github.com/cypress-io/cypress/issues/1459" target="_blank" rel="noopener noreferrer">#1459</a>, <a href="https://github.com/cypress-io/cypress/issues/1469" target="_blank" rel="noopener noreferrer">#1469</a>, <a href="https://github.com/cypress-io/cypress/issues/1470" target="_blank" rel="noopener noreferrer">#1470</a>, <a href="https://github.com/cypress-io/cypress/issues/1541" target="_blank" rel="noopener noreferrer">#1541</a>, <a href="https://github.com/cypress-io/cypress/issues/1608" target="_blank" rel="noopener noreferrer">#1608</a>, <a href="https://github.com/cypress-io/cypress/issues/2295" target="_blank" rel="noopener noreferrer">#2295</a>, <a href="https://github.com/cypress-io/cypress/issues/3855" target="_blank" rel="noopener noreferrer">#3855</a>, <a href="https://github.com/cypress-io/cypress/issues/3865" target="_blank" rel="noopener noreferrer">#3865</a>, <a href="https://github.com/cypress-io/cypress/issues/1401" target="_blank" rel="noopener noreferrer">#1401</a> and <a href="https://github.com/cypress-io/cypress/issues/3857" target="_blank" rel="noopener noreferrer">#3857</a>.</li> <li>Your project’s current proxy settings now display in the <a href="../proxy-configuration/#View-proxy-settings-in-Cypress">Settings of the Test Runner</a>. Addresses <a href="https://github.com/cypress-io/cypress/issues/3856" target="_blank" rel="noopener noreferrer">#3856</a>.</li> <li>Support for <code>have.focus</code>, <code>not.have.focus</code>, <code>be.focused</code> and <code>not.be.focused</code> <a href="../assertions/">assertions</a> have been added. Addresses <a href="https://github.com/cypress-io/cypress/issues/97" target="_blank" rel="noopener noreferrer">#97</a>.</li> <li>We now offer a separate 32bit and 64bit build for Windows. Addresses <a href="https://github.com/cypress-io/cypress/issues/716" target="_blank" rel="noopener noreferrer">#716</a>, <a href="https://github.com/cypress-io/cypress/issues/787" target="_blank" rel="noopener noreferrer">#787</a>, <a href="https://github.com/cypress-io/cypress/issues/2095" target="_blank" rel="noopener noreferrer">#2095</a>, <a href="https://github.com/cypress-io/cypress/issues/706" target="_blank" rel="noopener noreferrer">#706</a>, <a href="https://github.com/cypress-io/cypress/issues/3706" target="_blank" rel="noopener noreferrer">#3706</a>, and <a href="https://github.com/cypress-io/cypress/issues/4016" target="_blank" rel="noopener noreferrer">#4016</a>.</li> <li>Requests that go through <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> or <a href="../../../api/commands/request/"><code>cy.request()</code></a> are now automatically retried under the hood when the request fails. This more closely reflects Chrome’s default behavior on requests. Addresses <a href="https://github.com/cypress-io/cypress/issues/4013" target="_blank" rel="noopener noreferrer">#4013</a>, <a href="https://github.com/cypress-io/cypress/issues/898" target="_blank" rel="noopener noreferrer">#898</a> and <a href="https://github.com/cypress-io/cypress/issues/1013" target="_blank" rel="noopener noreferrer">#1013</a>.</li> <li>
<a href="../../../api/commands/visit/"><code>cy.visit()</code></a> and <a href="../../../api/commands/request/"><code>cy.request()</code></a> now support new options <code>retryOnStatusCodeFailure</code> and <code>retryOnNetworkFailure</code> to allow changing Cypress’s automatic request retry on status codes and network errors. Addresses <a href="https://github.com/cypress-io/cypress/issues/4013" target="_blank" rel="noopener noreferrer">#4013</a>, <a href="https://github.com/cypress-io/cypress/issues/898" target="_blank" rel="noopener noreferrer">#898</a> and <a href="https://github.com/cypress-io/cypress/issues/1013" target="_blank" rel="noopener noreferrer">#1013</a>.</li> <li>
<a href="../../../api/commands/type/"><code>.type()</code></a> now supports the special character sequences <code>{insert}</code>, <code>{pageup}</code>, and <code>{pagedown}</code>. Addresses <a href="https://github.com/cypress-io/cypress/issues/3845" target="_blank" rel="noopener noreferrer">#3845</a>.</li> <li>We now indicate which XHRs match which alias in the Command Log on <a href="../../../api/commands/wait/"><code>.wait()</code></a> when they match an alias multiple times. Addresses <a href="https://github.com/cypress-io/cypress/issues/477" target="_blank" rel="noopener noreferrer">#477</a>.</li> <li>The console log when clicking on the <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> command now displays its resolved <code>options</code> arguments. Addresses <a href="https://github.com/cypress-io/cypress/issues/3721" target="_blank" rel="noopener noreferrer">#3721</a>.</li> <li>There’s a new ‘canceled’ XHR status shown on the Command Log to indicate the difference between calling <code>xhr.abort()</code> and the browser canceling the request due to page navigation. Addresses <a href="https://github.com/cypress-io/cypress/issues/3973" target="_blank" rel="noopener noreferrer">#3973</a>.</li> <li>The Electron browser now runs Chrome Version 61. Addresses <a href="https://github.com/cypress-io/cypress/issues/4000" target="_blank" rel="noopener noreferrer">#4000</a>.</li> <li>Running Cypress via <code>cypress run</code> now supports scripts of <code>type="module"</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/3696" target="_blank" rel="noopener noreferrer">#3696</a>.</li> <li>Exposed <a href="../../../api/cypress-api/iscy/"><code>Cypress.isCy()</code></a> method to check if a value is a valid instance of <code>cy</code> or a <code>cy</code> chainable. Fixes <a href="https://github.com/cypress-io/cypress/issues/3822" target="_blank" rel="noopener noreferrer">#3822</a>.</li> <li>There is a new “Download Chromium” menu item in the “Help” menu of the Test Runner links to Cypress’s <a href="https://on.cypress.io/chromium-downloads" target="_blank" rel="noopener">Chromium Download Tool</a>. Addresses <a href="https://github.com/cypress-io/cypress/issues/3977" target="_blank" rel="noopener noreferrer">#3977</a>
</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Fixed a regression introduced in <a href="../changelog/#3-2-0">3.2.0</a> that caused an error to throw when visiting domains with certain public suffixes. Fixes <a href="https://github.com/cypress-io/cypress/issues/3717" target="_blank" rel="noopener noreferrer">#3717</a>.</li> <li>When running Cypress with <code>NODE_OPTIONS</code> environment variables set, Cypress no longer issues an incorrect 0 exit code. <a href="https://github.com/cypress-io/cypress/issues/1676" target="_blank" rel="noopener noreferrer">#1676</a>
</li> <li>Fixed a regression introduced in <a href="../changelog/#3-2-0">3.2.0</a> that caused <a href="../../../api/commands/its/"><code>.its()</code></a> to no longer retry when it yields <code>undefined</code>. <a href="https://github.com/cypress-io/cypress/issues/3837" target="_blank" rel="noopener noreferrer">#3837</a>
</li> <li>Fixed a regression introduced in <a href="../changelog/#3-2-0">3.2.0</a> that caused <a href="../../../api/commands/fixture/"><code>cy.fixture()</code></a> to throw a <code>EISDIR</code> error if a directory had the same name as a file within that same directory. Fixes <a href="https://github.com/cypress-io/cypress/issues/3739" target="_blank" rel="noopener noreferrer">#3739</a>.</li> <li>
<code>user-agent</code> headers sent as arguments to <a href="../../../api/commands/request/"><code>cy.request()</code></a> and <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> are now properly sent. Fixes <a href="https://github.com/cypress-io/cypress/issues/3873" target="_blank" rel="noopener noreferrer">#3873</a> and <a href="https://github.com/cypress-io/cypress/issues/3719" target="_blank" rel="noopener noreferrer">#3719</a>.</li> <li>When a request is proxied through Cypress and there is a network error, we no longer send an HTML response with a 500 status code. We now kill the browser-facing socket and let the network error be handled by the application under test. Fixes <a href="https://github.com/cypress-io/cypress/issues/4101" target="_blank" rel="noopener noreferrer">#4101</a>, <a href="https://github.com/cypress-io/cypress/issues/4231" target="_blank" rel="noopener noreferrer">#4231</a>, <a href="https://github.com/cypress-io/cypress/issues/1036" target="_blank" rel="noopener noreferrer">#1036</a>, <a href="https://github.com/cypress-io/cypress/issues/4231" target="_blank" rel="noopener noreferrer">#4231</a>, and <a href="https://github.com/cypress-io/cypress/issues/1398" target="_blank" rel="noopener noreferrer">#1398</a>.</li> <li>We changed Cypress’s implementation to no longer rely on internal XHR events when the browser navigates. This fixes a a bug in Chrome 71+ that could cause XHRs to pend forever. Fixes <a href="https://github.com/cypress-io/cypress/issues/3973" target="_blank" rel="noopener noreferrer">#3973</a> and <a href="https://github.com/cypress-io/cypress/issues/4130" target="_blank" rel="noopener noreferrer">#4130</a>
</li> <li>We greatly improved the speed of proxied requests through our network layer. Fixes <a href="https://github.com/cypress-io/cypress/issues/3192" target="_blank" rel="noopener noreferrer">#3192</a> and <a href="https://github.com/cypress-io/cypress/issues/1469" target="_blank" rel="noopener noreferrer">#1469</a>.</li> <li>If an error occurs during <code>cypress verify</code>, we now kill the verification process after 10 seconds and print the error message. This should prevent some situations where Cypress would hang during installation or verification and never exit. Fixes <a href="https://github.com/cypress-io/cypress/issues/819" target="_blank" rel="noopener noreferrer">#819</a>.</li> <li>Cypress automatically retries <code>cypress verify</code> and <code>cypress run</code> commands by starting its own Xvfb server on Linux if the first attempt fails due to possible <code>DISPLAY</code> misconfiguration. Addresses <a href="https://github.com/cypress-io/cypress/issues/4034" target="_blank" rel="noopener noreferrer">#4034</a>.</li> <li>Cypress now properly handles typing JavaScript object prototype methods (like <code>hasOwnProperty</code>) into <a href="../../../api/commands/type/"><code>.type()</code></a>. Fixes <a href="https://github.com/cypress-io/cypress/issues/3423" target="_blank" rel="noopener noreferrer">#3423</a>.</li> <li>We now set the <code>form</code> option to <code>true</code> if the <code>Content-Type</code> header equals <code>application/x-www-form-urlencoded</code> and <code>json</code> is not already set by a user. This fixes a situation where Cypress would try to parse the <code>body</code> as a string, resulting in a confusing error message. Fixes <a href="https://github.com/cypress-io/cypress/issues/2923" target="_blank" rel="noopener noreferrer">#2923</a>.</li> <li>
<a href="../../../api/commands/contains/"><code>cy.contains()</code></a> now correctly handles comma delimited arguments passed to the selector argument. Fixes <a href="https://github.com/cypress-io/cypress/issues/2407" target="_blank" rel="noopener noreferrer">#2407</a>.</li> <li>Passing a browser path containing spaces now works properly when passed to the <code>--browser</code> argument. Fixes <a href="https://github.com/cypress-io/cypress/issues/3979" target="_blank" rel="noopener noreferrer">#3979</a>
</li> <li>Fixed display of tooltips when selecting elements from the Selector Playground so that they display at the correct coordinates when scrolling. Fixes <a href="https://github.com/cypress-io/cypress/issues/1351" target="_blank" rel="noopener noreferrer">#1351</a>.</li> <li>The lists of spec files now display at the correct indentation level when they are nested more than 5 directories deep. Fixes <a href="https://github.com/cypress-io/cypress/issues/3652" target="_blank" rel="noopener noreferrer">#3652</a>.</li> <li>Cypress now properly parses environment variables with empty values. Fixes <a href="https://github.com/cypress-io/cypress/issues/3742" target="_blank" rel="noopener noreferrer">#3742</a>.</li> <li>Assertions running outside of a test are now properly handled in Cypress instead of throwing internal errors. Fixes <a href="https://github.com/cypress-io/cypress/issues/3926" target="_blank" rel="noopener noreferrer">#3926</a>.</li> <li>
<a href="../../../api/cypress-api/cypress-log/"><code>Cypress.log()</code></a> now throws an error when not properly passed an object as its argument. Addresses <a href="https://github.com/cypress-io/cypress/issues/3658" target="_blank" rel="noopener noreferrer">#3658</a>.</li> <li>
<a href="../../../api/cypress-api/cypress-log/"><code>Cypress.log()</code></a> no longer throws when called before any other Cypress commands. Fixes <a href="https://github.com/cypress-io/cypress/issues/3658" target="_blank" rel="noopener noreferrer">#3658</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>We now better support capturing environment variables within Azure DevOps. Addresses <a href="https://github.com/cypress-io/cypress/issues/3657" target="_blank" rel="noopener noreferrer">#3657</a>.</li> <li>Cypress now only scans for spec changes when the watcher sees changes, rather than polling to scan. Addresses <a href="https://github.com/cypress-io/cypress/issues/3069" target="_blank" rel="noopener noreferrer">#3069</a>.</li> <li>The ability to open the context menu to see “Inspect Element” has been reenabled in the Electron browser. Addresses <a href="https://github.com/cypress-io/cypress/issues/4002" target="_blank" rel="noopener noreferrer">#4002</a>.</li> <li>We no longer package non-Windows FFmpeg builds with Windows builds, resulting in a 35-40% reduction in zipped size and a 36-43% reduction in unzipped size of download. Addresses <a href="https://github.com/cypress-io/cypress/issues/3888" target="_blank" rel="noopener noreferrer">#3888</a>.</li> <li>The warning messages when going over test recording limits have been updated to correctly display ‘monthly tests’ and ‘private tests’ where necessary. Addresses <a href="https://github.com/cypress-io/cypress/issues/4024" target="_blank" rel="noopener noreferrer">#4024</a>.</li> <li>When an HTTP request is received by the proxy layer, by default, we send it with a <code>Connection: keep-alive</code> header so that the connection will be reused if possible. Addresses <a href="https://github.com/cypress-io/cypress/issues/3857" target="_blank" rel="noopener noreferrer">#3857</a>.</li> <li>Improved accessibility of Test Runner for screen readers. Addresses <a href="https://github.com/cypress-io/cypress/issues/3850" target="_blank" rel="noopener noreferrer">#3850</a>.</li> <li>Cypress type definition now allow a <code>timeout</code> option in <a href="../../../api/commands/hash/"><code>cy.hash()</code></a>. Fixes <a href="https://github.com/cypress-io/cypress/issues/3844" target="_blank" rel="noopener noreferrer">#3844</a>.</li> <li>Fixed type definition for <code>match</code> assertion so that it now only accepts <code>RegExp</code> type arguments. Fixes <a href="https://github.com/cypress-io/cypress/issues/2578" target="_blank" rel="noopener noreferrer">#2578</a>.</li> <li>The <a href="../../../api/commands/trigger/"><code>.trigger()</code></a> type definition now expects its <code>options</code> to be <code>ObjectLike</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/3809" target="_blank" rel="noopener noreferrer">#3809</a>.</li> <li>The <a href="../../../api/commands/clock/"><code>cy.clock()</code></a> type definition now allows for type <code>Date</code>. Fixed in <a href="https://github.com/cypress-io/cypress/pull/4106" target="_blank" rel="noopener noreferrer">#4106</a>.</li> <li>Added type definition for undocumented <code>Cypress.LocalStorage.clear</code> method. Fixes <a href="https://github.com/cypress-io/cypress/issues/4070" target="_blank" rel="noopener noreferrer">#4070</a>.</li> <li>Added type definition for <a href="../../../api/cypress-api/iscy/"><code>Cypress.isCy()</code></a> method. Fixes <a href="https://github.com/cypress-io/cypress/issues/3822" target="_blank" rel="noopener noreferrer">#3822</a>.</li> <li>Added missing type definitions for some <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> options. Fixes <a href="https://github.com/cypress-io/cypress/issues/3989" target="_blank" rel="noopener noreferrer">#3989</a>.</li> <li>The spinner animation should more smoothly spin when a command is pending in the Test Runner. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4005" target="_blank" rel="noopener noreferrer">#4005</a>.</li> </ul> <p><strong>Documentation Changes:</strong></p> <ul> <li>New <a href="../proxy-configuration/">Proxy Configuration</a> doc. Addressed in <a href="https://github.com/cypress-io/cypress-documentation/pull/1486" target="_blank" rel="noopener">#1486</a>.</li> <li>Added <code>{insert}</code>, <code>{pageup}</code>, and <code>{pagedown}</code> as supported special character sequences to <a href="../../../api/commands/type/#Arguments"><code>.type()</code></a>. Addressed in <a href="https://github.com/cypress-io/cypress-documentation/pull/1567" target="_blank" rel="noopener">#1567</a>.</li> <li>Added newly supported <code>focus</code> assertion to <a href="../assertions/">Assertions</a> doc. Addresses <a href="https://github.com/cypress-io/cypress-documentation/pull/1372" target="_blank" rel="noopener">#1372</a>.</li> <li>Added new options <code>retryOnStatusCodeFailure</code> and <code>retryOnNetworkFailure</code> to <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> and <a href="../../../api/commands/request/"><code>cy.request()</code></a>.</li> <li>Updated <a href="../../getting-started/installing-cypress/#Download-URLs">install instructions for Windows</a> on how to target 64bit and 32bit infrastructures. Addressed in <a href="https://github.com/cypress-io/cypress-documentation/issues/1568" target="_blank" rel="noopener">#1568</a>.</li> <li>Updated <a href="../../../api/commands/its/"><code>.its()</code></a> and <a href="../../../api/commands/invoke/"><code>.invoke()</code></a> docs to better explain how default assertions are handled. Addresses <a href="https://github.com/cypress-io/cypress-documentation/issues/1643" target="_blank" rel="noopener">#1643</a>.</li> <li>Updated our <a href="../roadmap/">Roadmap</a> to more closely reflect the work we are doing. Addressed in <a href="https://github.com/cypress-io/cypress-documentation/pull/1639" target="_blank" rel="noopener">#1567</a>.</li> <li>Added a section about how to request our new <a href="../../dashboard/organizations/#Open-Source-Plan">Open Source Plan</a> in the Dashboard Service doc. Addressed in <a href="https://github.com/cypress-io/cypress-documentation/pull/1584" target="_blank" rel="noopener">#1567</a>.</li> </ul> <p><strong>Dependency Updates</strong></p> <ul> <li>Upgraded <code>commit-info</code> from <code>2.1.2</code> to <code>2.1.2</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4045" target="_blank" rel="noopener noreferrer">#4045</a>
</li> <li>Upgraded <code>data-uri-to-buffer</code> from <code>0.0.4</code> to <code>1.2.0</code>. Addresses <a href="https://github.com/cypress-io/cypress/issues/4152" target="_blank" rel="noopener noreferrer">#4152</a>.</li> <li>Upgraded <code>electron</code> from <code>1.8.2</code> to <code>2.0.18</code>. Addresses <a href="https://github.com/cypress-io/cypress/issues/4000" target="_blank" rel="noopener noreferrer">#4000</a>.</li> <li>Upgraded <code>electron-packager</code> from <code>9.1.0</code> to <code>13.1.1</code>. Addresses <a href="https://github.com/cypress-io/cypress/issues/4155" target="_blank" rel="noopener noreferrer">#4155</a>.</li> <li>Upgraded <code>express-handlebars</code> from <code>3.0.0</code> to <code>3.0.2</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4086" target="_blank" rel="noopener noreferrer">#4086</a>.</li> <li>Upgraded <code>find-process</code> from <code>1.2.1</code> to <code>1.4.1</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4087" target="_blank" rel="noopener noreferrer">#4087</a>.</li> <li>Upgraded <code>getos</code> from <code>2.8.4</code> to <code>3.1.1</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4222" target="_blank" rel="noopener noreferrer">#4222</a>.</li> <li>Upgraded <code>http-status-codes</code> from <code>1.3.0</code> to <code>1.3.2</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/3949" target="_blank" rel="noopener noreferrer">#3949</a>.</li> <li>Upgraded <code>jimp</code> from <code>0.6.0</code> to <code>0.6.4</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4097" target="_blank" rel="noopener noreferrer">#4097</a>.</li> <li>Removed <code>method-override</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4209" target="_blank" rel="noopener noreferrer">#4209</a>.</li> <li>Upgraded <code>node</code> from <code>8.2.1</code> to <code>8.9.3</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4001" target="_blank" rel="noopener noreferrer">#4001</a>.</li> <li>Downgraded <code>parse-domain</code> from 2.1.7 to 2.0.0 to avoid a regression released in <code>parse-domain</code>. Addresses <a href="https://github.com/cypress-io/cypress/issues/3717" target="_blank" rel="noopener noreferrer">#3717</a>.</li> <li>Upgraded <code>pluralize</code> from <code>3.1.0</code> to <code>7.0.0</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4205" target="_blank" rel="noopener noreferrer">#4205</a> and <a href="https://github.com/cypress-io/cypress/pull/4206" target="_blank" rel="noopener noreferrer">#4206</a>.</li> <li>Upgraded <code>semver</code> from <code>5.6.0</code> to <code>5.7.0</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4112" target="_blank" rel="noopener noreferrer">#4112</a>.</li> <li>Upgraded <code>send</code> from <code>0.16.2</code> to <code>0.17.0</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4134" target="_blank" rel="noopener noreferrer">#4134</a>.</li> <li>Upgraded <code>supports-color</code> from <code>5.5.0</code> to <code>6.1.0</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4150" target="_blank" rel="noopener noreferrer">#4150</a>.</li> <li>Removed <code>tar-fs</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4148" target="_blank" rel="noopener noreferrer">#4148</a>.</li> <li>Upgraded <code>term-size</code> from <code>1.2.0</code> to <code>2.0.0</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4148" target="_blank" rel="noopener noreferrer">#4148</a>.</li> <li>Upgraded <code>tmp</code> from <code>0.0.33</code> to <code>0.1.0</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4111" target="_blank" rel="noopener noreferrer">#4111</a>.</li> <li>Upgraded <code>trash</code> from <code>4.3.0</code> to <code>5.2.0</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4140" target="_blank" rel="noopener noreferrer">#4140</a>.</li> <li>Upgraded <code>url-parse</code> from <code>1.4.4</code> to <code>1.4.7</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4110" target="_blank" rel="noopener noreferrer">#4110</a>.</li> <li>Upgraded <code>widest-line</code> from <code>2.0.1</code> to <code>3.1.0</code>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/4139" target="_blank" rel="noopener noreferrer">#4139</a>.</li> <li>We updated and removed some dependencies used for development.</li> </ul> <h1 id="3-2-0" class="article-heading">
3.2.0
</h1>
<p><em>Released 3/15/2019</em></p> <p><strong>Features:</strong></p> <ul> <li>
<a href="../../../api/commands/visit/"><code>cy.visit()</code></a> has been expanded to allow options <code>url</code>, <code>method</code>, <code>body</code>, and <code>headers</code>. This allows <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> to be called with a <code>POST</code> method or with headers like <code>Accept-Language</code> or <code>Authorization</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1500" target="_blank" rel="noopener noreferrer">#1500</a>, <a href="https://github.com/cypress-io/cypress/issues/1904" target="_blank" rel="noopener noreferrer">#1904</a> and <a href="https://github.com/cypress-io/cypress/issues/908" target="_blank" rel="noopener noreferrer">#908</a>.</li> <li>
<a href="../../../api/commands/request/"><code>cy.request()</code></a> now allows any valid HTTP <code>method</code> to be used including <code>TRACE</code>, <code>COPY</code>, <code>LOCK</code>, <code>MKCOL</code>, <code>MOVE</code>, <code>PURGE</code>, <code>PROPFIND</code>, <code>PROPPATCH</code>, <code>UNLOCK</code>, <code>REPORT</code>, <code>MKACTIVITY</code>, <code>CHECKOUT</code>, <code>MERGE</code>, <code>M-SEARCH</code>, <code>NOTIFY</code>, <code>SUBSCRIBE</code>, <code>UNSUBSCRIBE</code>, <code>SEARCH</code>, and <code>CONNECT</code>. Addresses <a href="https://github.com/cypress-io/cypress/issues/1302" target="_blank" rel="noopener noreferrer">#1302</a>
</li> <li>The <a href="../../guides/command-line/#cypress-run-browser-lt-browser-name-or-path-gt"><code>–browser</code> argument</a> of the <a href="../../guides/command-line/">Command Line</a> and the <a href="../../guides/module-api/#cypress-run"><code>browser</code> argument</a> of the <a href="../../guides/module-api/">Module API</a> have been updated to allow passing a <code>&lt;path&gt;</code>. Addresses <a href="https://github.com/cypress-io/cypress/issues/1026" target="_blank" rel="noopener noreferrer">#1026</a>.</li> <li>
<a href="../../../api/commands/type/"><code>cy.type()</code></a> now accepts <code>{home}</code> and <code>{end}</code> special character sequences to move the cursor to the start or end of a line. Addresses <a href="https://github.com/cypress-io/cypress/issues/2033" target="_blank" rel="noopener noreferrer">#2033</a>.</li> <li>The Cypress Chrome extension now has a static ID of <code>caljajdfkjjjdehjdoimjkkakekklcck</code>. This allows Cypress to be added to extension whitelists for those working under corporate policies that prohibit extensions. Addresses <a href="https://github.com/cypress-io/cypress/issues/3673" target="_blank" rel="noopener noreferrer">#3673</a>, <a href="https://github.com/cypress-io/cypress/issues/1239" target="_blank" rel="noopener noreferrer">#1239</a> and <a href="https://github.com/cypress-io/cypress/issues/2494" target="_blank" rel="noopener noreferrer">#2494</a>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Problems logging in through GitHub in the Test Runner have been fixed. The GitHub login window no longer shows the browser support banner and the “Authorize cypress-io” button is no longer disabled. Fixes <a href="https://github.com/cypress-io/cypress/issues/1251" target="_blank" rel="noopener noreferrer">#1251</a>.</li> <li>Fixed an issue when testing applications using older versions of jQuery. They now no longer throw <code>item.first is not a function</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/2927" target="_blank" rel="noopener noreferrer">#2927</a>.</li> <li>Cypress now detects more instances of <code>browser</code> installations. Fixes <a href="https://github.com/cypress-io/cypress/issues/3183" target="_blank" rel="noopener noreferrer">#3183</a> and <a href="https://github.com/cypress-io/cypress/issues/3218" target="_blank" rel="noopener noreferrer">#3218</a>.</li> <li>Fixed issue with loading fixture files containing more than one <code>.</code> in their filename while not specifying the file extension. We are also displaying a clearer warning when a fixture file cannot be found. Fixes <a href="https://github.com/cypress-io/cypress/issues/1402" target="_blank" rel="noopener noreferrer">#1402</a>.</li> <li>All third party <code>@types</code> have been moved from Cypress <code>dependencies</code> into <code>devDependencies</code>. This should fix situations where user’s type dependencies were conflicting with Cypress’s third party type definitions. Fixes <a href="https://github.com/cypress-io/cypress/issues/3371" target="_blank" rel="noopener noreferrer">#3371</a> and <a href="https://github.com/cypress-io/cypress/issues/1227" target="_blank" rel="noopener noreferrer">#1227</a>.</li> <li>
<code>Cypress.config('baseUrl')</code> has been updated to no longer strip singular <code>/</code> at the end of urls and instead only strip instances of multiple <code>/</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/3540" target="_blank" rel="noopener noreferrer">#3540</a>.</li> <li>The prompt to “Restore pages?” is no longer displayed within Chrome upon restarting a crashed Chrome window. Addresses <a href="https://github.com/cypress-io/cypress/issues/2048" target="_blank" rel="noopener noreferrer">#2048</a>.</li> <li>
<a href="../../../api/commands/wrap/"><code>cy.wrap()</code></a> no longer throws an error when a non-jQuery wrapped DOM element is passed in as an argument. Fixes <a href="https://github.com/cypress-io/cypress/issues/3549" target="_blank" rel="noopener noreferrer">#3549</a>.</li> <li>Fixed issue where all arguments passed to <code>setTimeout</code> or <code>setInterval</code> were not properly passed on to the target function. Fixes <a href="https://github.com/cypress-io/cypress/issues/3592" target="_blank" rel="noopener noreferrer">#3592</a>.</li> <li>
<a href="../../../api/commands/filter/"><code>.filter()</code></a> has been updated so that when called with a function, the options are now properly read. Fixes <a href="https://github.com/cypress-io/cypress/issues/3315" target="_blank" rel="noopener noreferrer">#3315</a>.</li> <li>Cypress’s recognition of websites attempting framebusting has been updated to include framebusting code wrapped within <code>()</code>. <a href="https://github.com/cypress-io/cypress/issues/3267" target="_blank" rel="noopener noreferrer">#3267</a>
</li> <li>When <code>.its()</code> returns <code>undefined</code> it no longer errors. It will now follow the same logic as all other commands and only fail when directly by a <a href="../../../api/commands/should/"><code>.should()</code></a> command with an assertion that is not met. Fixes <a href="https://github.com/cypress-io/cypress/issues/1531" target="_blank" rel="noopener noreferrer">#1531</a>.</li> <li>When <a href="../../../api/commands/wrap/"><code>cy.wrap()</code></a> is followed directly by a <a href="../../../api/commands/should/"><code>.should()</code></a> command, <code>cy.wrap()</code> will now <a href="../../core-concepts/retry-ability/">retry</a> when its argument evaluates to <code>undefined</code> until it meets the requirements of the assertion or the <code>cy.wrap()</code> command times out. Fixes <a href="https://github.com/cypress-io/cypress/issues/3241" target="_blank" rel="noopener noreferrer">#3241</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>We now display a warning when passing an argument to <code>--spec</code> that is not surrounded by quotes <code>""</code> recommending that the argument instead be surrounded by quotes. In some cases, not providing quotes can cause the arguments to be read in a way that is likely not its intended use. Addresses <a href="https://github.com/cypress-io/cypress/issues/3318" target="_blank" rel="noopener noreferrer">#3318</a> and <a href="https://github.com/cypress-io/cypress/issues/2298" target="_blank" rel="noopener noreferrer">#2298</a>.</li> <li>The number of logs printed when installing Cypress in docker has been reduced. Partially addresses <a href="https://github.com/cypress-io/cypress/issues/1243" target="_blank" rel="noopener noreferrer">#1243</a>.</li> <li>The seeded Kitchen Sink examples have some new examples showing how to add a message to assertions, how to compare the text content of two elements, and how to make assertions about <code>data</code> attributes. The examples also have some small typo fixes. Fixes <a href="https://github.com/cypress-io/cypress/issues/502" target="_blank" rel="noopener noreferrer">#502</a>. Addressed in <a href="https://github.com/cypress-io/cypress/pull/3272" target="_blank" rel="noopener noreferrer">#3272</a>, <a href="https://github.com/cypress-io/cypress/pull/3287" target="_blank" rel="noopener noreferrer">#3287</a>, and <a href="https://github.com/cypress-io/cypress/pull/3700" target="_blank" rel="noopener noreferrer">#3700</a>.</li> <li>We now only mount internal servers on <code>loopback</code>. Addresses <a href="https://github.com/cypress-io/cypress/issues/3712" target="_blank" rel="noopener noreferrer">#3712</a>.</li> <li>The instructions in Cypress’s update window now include <code>yarn</code> update instructions alongside <code>npm</code>. Addresses <a href="https://github.com/cypress-io/cypress/issues/2871" target="_blank" rel="noopener noreferrer">#2871</a>.</li> <li>The spec file’s font weight has been increased within the Test Runner for better readability. Addressed in <a href="https://github.com/cypress-io/cypress/issues/3065" target="_blank" rel="noopener noreferrer">#3065</a>.</li> <li>We improved the error message displayed when a record key is unrecognized during <code>cypress run</code>. Addresses <a href="https://github.com/cypress-io/cypress/issues/1449" target="_blank" rel="noopener noreferrer">#1449</a>.</li> <li>We improved the typings when using <code>Cypress.on</code> to listen for <code>window.alert</code> events to allow for <code>Sinon.stub</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/3451" target="_blank" rel="noopener noreferrer">#3451</a>.</li> <li>Fixed typo in typing for <a href="../../../api/commands/trigger/"><code>.trigger</code></a> options. Addressed in <a href="https://github.com/cypress-io/cypress/pull/3588" target="_blank" rel="noopener noreferrer">#3588</a>.</li> </ul> <p><strong>Documentation Changes:</strong></p> <ul> <li>New <a href="../../core-concepts/retry-ability/">Retryability</a> doc <a href="https://github.com/cypress-io/cypress-documentation/issues/1278" target="_blank" rel="noopener">#1278</a>
</li> <li>Updated <code>--browser</code> and <code>browser</code> args to accept <code>path</code> <a href="https://github.com/cypress-io/cypress-documentation/issues/1419" target="_blank" rel="noopener">#1419</a>
</li> <li>Document how to accept or reject project transfers <a href="https://github.com/cypress-io/cypress-documentation/issues/1474" target="_blank" rel="noopener">#1474</a>
</li> <li>Updated <a href="../../guides/launching-browsers/">docs</a> on explain how to run Chrome and Chromium browsers <a href="https://github.com/cypress-io/cypress-documentation/issues/1339" target="_blank" rel="noopener">#1339</a>
</li> <li>Added <code>{home}</code> and <code>{end}</code> character sequences to <a href="../../../api/commands/type/" target="_blank">cy.type()</a>
</li> <li>Added all newly supported HTTP methods to <a href="../../../api/commands/request/"><code>cy.request()</code></a> doc.</li> <li>Add new section to <a href="../../guides/debugging/#Chrome-extension-whitelisting">Debugging</a> doc explaining whitelisting the Cypress Chrome extension.</li> <li>Fixed code example for google analytics stubbing <a href="https://github.com/cypress-io/cypress-documentation/issues/1454" target="_blank" rel="noopener">#1454</a>
</li> </ul> <p><strong>Dependency Updates</strong></p> <ul> <li>Upgraded <code>@cypress/commit-info</code> from <code>2.1.1</code> to <code>2.1.2</code>. <a href="https://github.com/cypress-io/cypress/pull/3327" target="_blank" rel="noopener noreferrer">#3327</a>.</li> <li>Upgraded <code>@cypress/xvfb</code> from <code>1.2.3</code> to <code>1.2.4</code>. <a href="https://github.com/cypress-io/cypress/pull/3328" target="_blank" rel="noopener noreferrer">#3328</a>.</li> <li>Upgraded <code>@ffmpeg-installer/ffmpeg</code> from <code>1.0.15</code> to <code>1.0.17</code>. <a href="https://github.com/cypress-io/cypress/pull/3329" target="_blank" rel="noopener noreferrer">#3329</a>.</li> <li>Upgraded <code>cachedir</code> from <code>1.3.0</code> to <code>2.1.0</code>. <a href="https://github.com/cypress-io/cypress/pull/3660" target="_blank" rel="noopener noreferrer">#3660</a>.</li> <li>Upgraded <code>chalk</code> from <code>2.4.1</code> to <code>2.4.2</code>. <a href="https://github.com/cypress-io/cypress/pull/3362" target="_blank" rel="noopener noreferrer">#3362</a>.</li> <li>Upgraded <code>chokidar</code> from <code>1.6.0</code> to <code>1.7.0</code>. <a href="https://github.com/cypress-io/cypress/pull/3363" target="_blank" rel="noopener noreferrer">#3363</a>.</li> <li>Upgraded <code>coffee-script</code> from <code>1.12.5</code> to <code>1.12.7</code>. <a href="https://github.com/cypress-io/cypress/pull/3365" target="_blank" rel="noopener noreferrer">#3365</a>.</li> <li>Upgraded <code>commander</code> from <code>2.11.0</code> to <code>2.19.0</code>. <a href="https://github.com/cypress-io/cypress/pull/3366" target="_blank" rel="noopener noreferrer">#3366</a>.</li> <li>Upgraded <code>common-tags</code> from <code>1.4.0</code> to <code>1.8.0</code>. <a href="https://github.com/cypress-io/cypress/pull/3368" target="_blank" rel="noopener noreferrer">#3368</a>.</li> <li>Upgraded <code>compression</code> from <code>1.7.2</code> to <code>1.7.3</code>. <a href="https://github.com/cypress-io/cypress/pull/3379" target="_blank" rel="noopener noreferrer">#3379</a>.</li> <li>Upgraded <code>cookie</code> from <code>0.2.4</code> to <code>0.3.1</code>. <a href="https://github.com/cypress-io/cypress/pull/3380" target="_blank" rel="noopener noreferrer">#3380</a>.</li> <li>Upgraded <code>cookie-parser</code> from <code>1.4.3</code> to <code>1.4.4</code>. <a href="https://github.com/cypress-io/cypress/pull/3443" target="_blank" rel="noopener noreferrer">#3443</a>.</li> <li>Upgraded <code>dependency-tree</code> from <code>6.4.0</code> to <code>6.5.0</code>. <a href="https://github.com/cypress-io/cypress/pull/3381" target="_blank" rel="noopener noreferrer">#3381</a>.</li> <li>Upgraded <code>electron-context-menu</code> from <code>0.8.0</code> to <code>0.11.0</code>. <a href="https://github.com/cypress-io/cypress/pull/3383" target="_blank" rel="noopener noreferrer">#3383</a>.</li> <li>Upgraded <code>electron-packager</code> from <code>9.0.1</code> to <code>9.1.0</code>. <a href="https://github.com/cypress-io/cypress/pull/3384" target="_blank" rel="noopener noreferrer">#3384</a>.</li> <li>Upgraded <code>electron-positioner</code> from <code>3.0.0</code> to <code>3.0.1</code>. <a href="https://github.com/cypress-io/cypress/pull/3385" target="_blank" rel="noopener noreferrer">#3385</a>.</li> <li>Upgraded <code>errorhandler</code> from <code>1.1.1</code> to <code>1.5.0</code>. <a href="https://github.com/cypress-io/cypress/pull/3386" target="_blank" rel="noopener noreferrer">#3386</a>.</li> <li>Upgraded <code>express</code> from <code>4.16.2</code> to <code>4.16.4</code>. <a href="https://github.com/cypress-io/cypress/pull/3409" target="_blank" rel="noopener noreferrer">#3409</a>.</li> <li>Upgraded <code>extract-zip</code> from <code>1.6.6</code> to <code>1.6.7</code>. <a href="https://github.com/cypress-io/cypress/pull/3410" target="_blank" rel="noopener noreferrer">#3410</a>.</li> <li>Upgraded <code>glob</code> from <code>7.1.2</code> to <code>7.1.3</code>. <a href="https://github.com/cypress-io/cypress/pull/3412" target="_blank" rel="noopener noreferrer">#3412</a>.</li> <li>Upgraded <code>image-size</code> from <code>0.5.5</code> to <code>0.7.2</code>. <a href="https://github.com/cypress-io/cypress/pull/3413" target="_blank" rel="noopener noreferrer">#3413</a> and <a href="https://github.com/cypress-io/cypress/pull/3500" target="_blank" rel="noopener noreferrer">#3500</a>.</li> <li>Upgraded <code>is-ci</code> from <code>1.0.10</code> to <code>1.2.1</code>. <a href="https://github.com/cypress-io/cypress/pull/3414" target="_blank" rel="noopener noreferrer">#3414</a>.</li> <li>Upgraded <code>lodash</code> from <code>4.17.4</code> to <code>4.17.11</code>. <a href="https://github.com/cypress-io/cypress/pull/3344" target="_blank" rel="noopener noreferrer">#3344</a>.</li> <li>Upgraded <code>mocha-junit-reporter</code> from <code>1.17.0</code> to <code>1.18.0</code>. <a href="https://github.com/cypress-io/cypress/pull/3417" target="_blank" rel="noopener noreferrer">#3417</a>.</li> <li>Upgraded <code>moment</code> from <code>2.23.0</code> to <code>2.24.0</code>. <a href="https://github.com/cypress-io/cypress/pull/3433" target="_blank" rel="noopener noreferrer">#3433</a>.</li> <li>Upgraded <code>morgan</code> from <code>1.3.0</code> to <code>1.9.1</code>. <a href="https://github.com/cypress-io/cypress/pull/3434" target="_blank" rel="noopener noreferrer">#3434</a>.</li> <li>Upgraded <code>node-uuid</code> from <code>1.4.1</code> to <code>1.4.8</code>. <a href="https://github.com/cypress-io/cypress/pull/3436" target="_blank" rel="noopener noreferrer">#3436</a>.</li> <li>Upgraded <code>parse-domain</code> from <code>2.0.0</code> to <code>2.1.7</code>. <a href="https://github.com/cypress-io/cypress/pull/3437" target="_blank" rel="noopener noreferrer">#3437</a>.</li> <li>Upgraded <code>request</code> from <code>2.87.0</code> to <code>2.88.0</code>. <a href="https://github.com/cypress-io/cypress/pull/3444" target="_blank" rel="noopener noreferrer">#3444</a>.</li> <li>Upgraded <code>request-progress</code> from <code>0.3.1</code> to <code>0.4.0</code>. <a href="https://github.com/cypress-io/cypress/pull/3445" target="_blank" rel="noopener noreferrer">#3445</a>.</li> <li>Upgraded <code>request-promise</code> from <code>4.1.1</code> to <code>4.2.4</code>. <a href="https://github.com/cypress-io/cypress/pull/3446" target="_blank" rel="noopener noreferrer">#3446</a> and <a href="https://github.com/cypress-io/cypress/pull/3476" target="_blank" rel="noopener noreferrer">#3476</a>.</li> <li>Upgraded <code>return-deep-diff</code> from <code>0.2.9</code> to <code>0.3.0</code>. <a href="https://github.com/cypress-io/cypress/pull/3447" target="_blank" rel="noopener noreferrer">#3447</a>.</li> <li>Upgraded <code>send</code> from <code>0.14.2</code> to <code>0.16.2</code>. <a href="https://github.com/cypress-io/cypress/pull/3448" target="_blank" rel="noopener noreferrer">#3448</a>.</li> <li>Upgraded <code>ssl-root-cas</code> from <code>1.2.5</code> to <code>1.3.1</code>. <a href="https://github.com/cypress-io/cypress/pull/3449" target="_blank" rel="noopener noreferrer">#3449</a>.</li> <li>Upgraded <code>supports-color</code> from <code>5.1.0</code> to <code>5.5.0</code>. <a href="https://github.com/cypress-io/cypress/pull/3464" target="_blank" rel="noopener noreferrer">#3464</a>.</li> <li>Upgraded <code>through</code> from <code>2.3.6</code> to <code>2.3.8</code>. <a href="https://github.com/cypress-io/cypress/pull/3465" target="_blank" rel="noopener noreferrer">#3465</a>.</li> <li>Upgraded <code>tmp</code> from <code>0.0.31</code> to <code>0.0.33</code>. <a href="https://github.com/cypress-io/cypress/pull/3466" target="_blank" rel="noopener noreferrer">#3466</a>.</li> <li>Upgraded <code>tough-cookie</code> from <code>2.4.3</code> to <code>3.0.1</code>. <a href="https://github.com/cypress-io/cypress/pull/3477" target="_blank" rel="noopener noreferrer">#3477</a> and <a href="https://github.com/cypress-io/cypress/pull/3659" target="_blank" rel="noopener noreferrer">#3659</a>.</li> <li>Upgraded <code>trash</code> from <code>4.0.0</code> to <code>4.3.0</code>. <a href="https://github.com/cypress-io/cypress/pull/3478" target="_blank" rel="noopener noreferrer">#3478</a>.</li> <li>Upgraded <code>underscore.string</code> from <code>3.3.4</code> to <code>3.3.5</code>. <a href="https://github.com/cypress-io/cypress/pull/3480" target="_blank" rel="noopener noreferrer">#3480</a>.</li> <li>Upgraded <code>yauzl</code> from <code>2.8.0</code> to <code>2.10.0</code>. <a href="https://github.com/cypress-io/cypress/pull/3481" target="_blank" rel="noopener noreferrer">#3481</a>. Potentially fixes <a href="https://github.com/cypress-io/cypress/issues/3515" target="_blank" rel="noopener noreferrer">#3515</a>.</li> <li>We also updated many dependencies used for development and removed some unused dependencies.</li> </ul> <h1 id="3-1-5" class="article-heading">
3.1.5
</h1>
<p><em>Released 1/30/2019</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Fixed issue where the <code>onLoad</code> event was never being called when calling <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> on the url Cypress is currently navigated to. Fixes <a href="https://github.com/cypress-io/cypress/issues/1311" target="_blank" rel="noopener noreferrer">#1311</a>.</li> <li>Fixed regression introduced in <code>3.1.4</code> that caused an <code>InvalidStateError</code> when visiting a page with an XHR request with a <code>responseType</code> other than <code>text</code> or <code>''</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/3008" target="_blank" rel="noopener noreferrer">#3008</a>.</li> <li>Fixed several issues in Chrome* versions &gt;= 72 in the Cypress proxy that caused using <code>cy.visit()</code> with <code>localhost</code> to fail, or using <code>localhost</code> inside of the <code>baseUrl</code> configuration option. Fixes <a href="https://github.com/cypress-io/cypress/issues/1872" target="_blank" rel="noopener noreferrer">#1872</a> and <a href="https://github.com/cypress-io/cypress/issues/3252" target="_blank" rel="noopener noreferrer">#3252</a> and <a href="https://github.com/cypress-io/cypress/issues/1777" target="_blank" rel="noopener noreferrer">#1777</a>.</li> <li>Fixed another issue in Chrome* versions &gt;= 72 where a scrollable command log would cause the entire application to be scrollable. Fixes <a href="https://github.com/cypress-io/cypress/issues/3253" target="_blank" rel="noopener noreferrer">#3253</a>.</li> <li>Fixed not correctly passing the <code>timeout</code> option for <a href="../../../api/commands/request/"><code>cy.request()</code></a>. This should fix some instances where large <code>timeout</code> values would cause <code>ESOCKETTIMEDOUT</code> errors. Fixes <a href="https://github.com/cypress-io/cypress/issues/2669" target="_blank" rel="noopener noreferrer">#2669</a>.</li> <li>Fixed issue where Cypress would inject a script tag before the <code>&lt;!DOCTYPE&gt;</code> declaration when the document only contained the doctype declaration. Fixes <a href="https://github.com/cypress-io/cypress/issues/2617" target="_blank" rel="noopener noreferrer">#2617</a>.</li> <li>The error message when visiting a site with an invalid content-type now prints the correct content-type of the response Cypress received from the web server. Fixes <a href="https://github.com/cypress-io/cypress/issues/3101" target="_blank" rel="noopener noreferrer">#3101</a>.</li> <li>Fixed issue where an internal <code>layout.html</code> file would inadvertently get loaded instead of the spec file. Fixes <a href="https://github.com/cypress-io/cypress/issues/2891" target="_blank" rel="noopener noreferrer">#2891</a>.</li> <li>Fixed issue where the Chromium browser was not detected in Linux due to Cypress not distinguishing between Chrome and Chromium browsers with the same version. Fixes <a href="https://github.com/cypress-io/cypress/issues/1400" target="_blank" rel="noopener noreferrer">#1400</a>.</li> <li>Fixed issue of Cypress being unable to play videos with <code>autoplay</code>. We now pass the <code>--no-user-gesture-required</code> command line switch to Chrome. Fixes <a href="https://github.com/cypress-io/cypress/issues/2376" target="_blank" rel="noopener noreferrer">#2376</a>.</li> <li>We now pass the Chromium command line switches <code>--use-fake-ui-for-media-stream</code> and <code>--use-fake-device-for-media-stream</code> to Chrome by default in order to better support testing webcam functionality. Fixes <a href="https://github.com/cypress-io/cypress/issues/2704" target="_blank" rel="noopener noreferrer">#2704</a>.</li> <li>Updated filenames allowed for screenshots to allow more characters that are valid. Fixes <a href="https://github.com/cypress-io/cypress/issues/3052" target="_blank" rel="noopener noreferrer">#3052</a>.</li> <li>Fixed TypeScript error caused by <code>dtslint</code> dependency introduced in 3.1.4. Fixes <a href="https://github.com/cypress-io/cypress/issues/3024" target="_blank" rel="noopener noreferrer">#3024</a> and <a href="https://github.com/cypress-io/cypress/issues/3136" target="_blank" rel="noopener noreferrer">#3136</a>.</li> <li>Improved error message displayed for <code>cypress cache</code> to not display <code>[object Object]</code> and made <code>--help</code> labels more descriptive. Fixes <a href="https://github.com/cypress-io/cypress/issues/2589" target="_blank" rel="noopener noreferrer">#2589</a>.</li> <li>Using <a href="../../../api/commands/clear/"><code>.clear()</code></a> on inputs of type ‘date’ is now working. Fixes <a href="https://github.com/cypress-io/cypress/issues/2738" target="_blank" rel="noopener noreferrer">#2738</a>
</li> <li>Fixed issue where <code>event</code> was undefined when using an <code>onload</code> event handler. Fixed <a href="https://github.com/cypress-io/cypress/issues/2859" target="_blank" rel="noopener noreferrer">#2859</a>
</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Improved errors shown when opening a project in the Desktop Application. The design is more readable and the error’s stack trace is now expandable. Addresses <a href="https://github.com/cypress-io/cypress/issues/2955" target="_blank" rel="noopener noreferrer">#2955</a>.</li> <li>Improved experience of search in Desktop Application when there are no results. Addresses <a href="https://github.com/cypress-io/cypress/issues/3146" target="_blank" rel="noopener noreferrer">#3146</a>.</li> <li>Updated tooltip content so that it no longer flows outside of the tooltip in the Test Runner when displaying longer routes. Fixes <a href="https://github.com/cypress-io/cypress/issues/2980" target="_blank" rel="noopener noreferrer">#2980</a>.</li> <li>Added word labels beside icons in Desktop Application for ‘Support’ and ‘Docs’ links. Addresses <a href="https://github.com/cypress-io/cypress/issues/3091" target="_blank" rel="noopener noreferrer">#3091</a>.</li> <li>Updated the CLI to no longer silence important stdout from <code>cypress version</code>, <code>cypress cache list</code> etc commands. Addresses <a href="https://github.com/cypress-io/cypress/issues/2705" target="_blank" rel="noopener noreferrer">#2705</a>.</li> <li>Fixed incorrect type definition for options usage for <a href="../../../api/commands/then/">.then()</a>. Addresses <a href="https://github.com/cypress-io/cypress/issues/3075" target="_blank" rel="noopener noreferrer">#3075</a>.</li> <li>Fixed incorrect JSDoc comments in type definition for <a href="../../../api/commands/focus/">.focus()</a> and better formatted comments in type definitions. Addresses <a href="https://github.com/cypress-io/cypress/issues/2975" target="_blank" rel="noopener noreferrer">#2975</a> and <a href="https://github.com/cypress-io/cypress/issues/2954" target="_blank" rel="noopener noreferrer">#2954</a>.</li> <li>Updated error messages to include single quotes when displaying written test code. Addresses <a href="https://github.com/cypress-io/cypress/issues/2684" target="_blank" rel="noopener noreferrer">#2684</a>
</li> </ul> <p><strong>Documentation Changes:</strong></p> <ul> <li>Added example on how to use a fake video for webcam testing to <a href="../../../api/plugins/browser-launch-api/#Use-fake-video-for-webcam-testing">Browser API doc</a>.</li> </ul> <p><strong>Dependency Updates</strong></p> <ul> <li>We’ve begun automating our dependency update process in order to avoid accidental dependency updates. Addresses <a href="https://github.com/cypress-io/cypress/issues/2990" target="_blank" rel="noopener noreferrer">#2990</a> and <a href="https://github.com/cypress-io/cypress/issues/3025" target="_blank" rel="noopener noreferrer">#3025</a>.</li> <li>Upgraded <code>sinon</code> from <code>3.2.0</code> to <code>3.3.0</code>. Addresses <a href="https://github.com/cypress-io/cypress/issues/1328" target="_blank" rel="noopener noreferrer">#1328</a>.</li> </ul> <h1 id="3-1-4" class="article-heading">
3.1.4
</h1>
<p><em>Released 12/25/2018</em></p> <p>Merry Christmas everyone!</p> <p><strong>Bugfixes:</strong></p> <ul> <li>Fixed a very longstanding (!) issue where <a href="../../../api/commands/click/"><code>.click()</code></a> would fail to click the center coordinates of elements with style <code>display: inline</code>. Cypress would instead report that the element was being covered causing the error: <code>cy.click() failed because this element is being covered by another element</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/210" target="_blank" rel="noopener noreferrer">#210</a>.</li> <li>We now no longer abort XHR’s which have their <code>.abort()</code> method called but are already complete. This fixes an edge case where complete XHR’s were having their <code>disposer</code> function called in frameworks like <code>rxJS</code> which lead to Cypress accidentally re-aborting the XHR’s after they were complete. Fixes <a href="https://github.com/cypress-io/cypress/issues/761" target="_blank" rel="noopener noreferrer">#761</a>.</li> <li>Fixed issues involving XHRs displaying as ‘aborted’ in the Cypress Command Log when they were not actually aborted. Fixes <a href="https://github.com/cypress-io/cypress/issues/1652" target="_blank" rel="noopener noreferrer">#1652</a>.</li> <li>We no longer abort XHR request during the page’s <code>unload</code> event and allow the browser to handle natively calling abort. Fixes <a href="https://github.com/cypress-io/cypress/issues/2968" target="_blank" rel="noopener noreferrer">#2968</a>.</li> <li>Fixed an issue where Cypress’s <code>devDependencies</code> were being included in the Windows binary. Fixes <a href="https://github.com/cypress-io/cypress/issues/2896" target="_blank" rel="noopener noreferrer">#2896</a>.</li> <li>Fixed issue where XHR’s <code>onreadystatechange</code> was not receiving the proper event arguments. Fixes <a href="https://github.com/cypress-io/cypress/issues/2925" target="_blank" rel="noopener noreferrer">#2925</a>.</li> <li>We now properly strip leading paths of files on uncaught errors from Windows OS. Fixes <a href="https://github.com/cypress-io/cypress/issues/2936" target="_blank" rel="noopener noreferrer">#2936</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Removed the word ‘already’ from the Cypress install message in order to be less confusing. Adresses <a href="https://github.com/cypress-io/cypress/issues/2754" target="_blank" rel="noopener noreferrer">#2754</a>.</li> <li>Fixed incomplete type definitions for <a href="../../../api/commands/request/"><code>cy.request</code></a>. Fixes <a href="https://github.com/cypress-io/cypress/issues/2305" target="_blank" rel="noopener noreferrer">#2305</a>.</li> </ul> <p><strong>Dependency Updates</strong></p> <ul> <li>Upgraded <code>commit-info</code> from <code>2.0.0</code> to <code>2.1.1</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/2848" target="_blank" rel="noopener noreferrer">#2848</a>.</li> <li>Upgraded <code>lodash</code> from <code>4.17.10</code> to <code>4.17.11</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/2929" target="_blank" rel="noopener noreferrer">#2929</a>.</li> </ul> <h1 id="3-1-3" class="article-heading">
3.1.3
</h1>
<p><em>Released 12/03/2018</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Fixed regression introduced in <a href="../changelog/#3.1.1">3.1.1</a> with <code>requestAnimationFrame</code> that caused some animations not to run. Fixes <a href="https://github.com/cypress-io/cypress/issues/2725" target="_blank" rel="noopener noreferrer">#2725</a>.</li> <li>Fixed regression introduced in <a href="../changelog/#3.1.2">3.1.2</a> that caused DOM elements passed to <a href="../../../api/commands/wrap/"><code>cy.wrap()</code></a> to no longer yield the proper jQuery array instance. Fixes <a href="https://github.com/cypress-io/cypress/issues/2820" target="_blank" rel="noopener noreferrer">#2820</a>.</li> <li>Fixed regression causing invocations of <a href="../../../api/commands/clock/"><code>cy.clock()</code></a> to error on subsequent tests. Fixes <a href="https://github.com/cypress-io/cypress/issues/2850" target="_blank" rel="noopener noreferrer">#2850</a>.</li> <li>Fixed issue where a fix included in <a href="../changelog/#3.1.2">3.1.2</a> did not pass the <code>windowsHide</code> argument to the proper options. Fixes <a href="https://github.com/cypress-io/cypress/issues/2667" target="_blank" rel="noopener noreferrer">#2667</a> and <a href="https://github.com/cypress-io/cypress/issues/2809" target="_blank" rel="noopener noreferrer">#2809</a>.</li> <li>Passing <a href="../../../api/commands/check/"><code>.check({ force: true })</code></a> no longer requires the checkbox or radio to be visible. Fixes <a href="https://github.com/cypress-io/cypress/issues/1376" target="_blank" rel="noopener noreferrer">#1376</a>.</li> </ul> <p><strong>Misc</strong></p> <ul> <li>Updated types to support promises as arguments within <a href="../../../api/commands/wrap/"><code>cy.wrap</code></a>. Fixes <a href="https://github.com/cypress-io/cypress/pull/2807" target="_blank" rel="noopener noreferrer">#2807</a>.</li> <li>We now expose all jQuery methods and values onto <a href="../../../api/utilities/%24/"><code>Cypress.$</code></a>. Fixes <a href="https://github.com/cypress-io/cypress/issues/2830" target="_blank" rel="noopener noreferrer">#2830</a>.</li> <li>
<a href="../../../api/commands/wait/"><code>cy.wait()</code></a> now accepts a separate timeout option for <code>requestTimeout</code> and <code>responseTimeout</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/2446" target="_blank" rel="noopener noreferrer">#2446</a>.</li> </ul> <p><strong>Documentation Changes:</strong></p> <ul> <li>Added <code>requestTimeout</code> and <code>responseTimeout</code> options to <a href="../../../api/commands/wait/"><code>cy.wait()</code></a>
</li> <li>Added ‘History’ table to <a href="../../../api/commands/wait/"><code>cy.wait()</code></a>
</li> <li>Added ‘Alias’ for assertions that are aliases of each other to <a href="../assertions/"><code>Assertions</code></a>
</li> </ul> <p><strong>Dependency Updates</strong></p> <ul> <li>Upgraded nodemon from <code>^1.8.1</code> to <code>^1.8.7</code>. Fixes <a href="https://github.com/cypress-io/cypress/pull/2864" target="_blank" rel="noopener noreferrer">#2864</a>.</li> <li>Upgraded request from <code>^2.27.0</code> and <code>^2.28.0</code> to <code>^4.0.0</code>, Fixes <a href="https://github.com/cypress-io/cypress/issues/2455" target="_blank" rel="noopener noreferrer">#2455</a>.</li> </ul> <h1 id="3-1-2" class="article-heading">
3.1.2
</h1>
<p><em>Released 11/18/2018</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Fixed a regression caused in <code>3.1.1</code> where we attempted to set a property on an invalid cookie sent from a server. Fixes <a href="https://github.com/cypress-io/cypress/issues/2724" target="_blank" rel="noopener noreferrer">#2724</a>.</li> <li>Fixed Cypress not correctly aborting long running connections (such as server sent events) on proxied requests. Fixes <a href="https://github.com/cypress-io/cypress/issues/2612" target="_blank" rel="noopener noreferrer">#2612</a>.</li> <li>Fixed bug where tests were failing due to assertions causing Cypress to accidentally iterate through cross-origin iframes. If you were seeing “random” cross-origin errors, this likely fixes those issues. Fixes <a href="https://github.com/cypress-io/cypress/issues/2784" target="_blank" rel="noopener noreferrer">#2784</a>.</li> <li>Fixed incorrectly setting <code>charCode</code> and <code>keyCode</code> when using <a href="../../../api/commands/type/"><code>.type()</code></a> on a few different special characters such as <code>{</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/2105" target="_blank" rel="noopener noreferrer">#2105</a>.</li> <li>Fixed another regression in <code>3.1.1</code> where passing <code>undefined</code> to a <code>setTimeout</code> caused Cypress to error. Fixes <a href="https://github.com/cypress-io/cypress/issues/2719" target="_blank" rel="noopener noreferrer">#2719</a>.</li> <li>Fixed a bug in node core where Cypress would not show up in <code>Windows</code> for users on <code>node &gt;= 11</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/2667" target="_blank" rel="noopener noreferrer">#2667</a>.</li> <li>Fixed a bug with trashing assets in linux that caused recursive <code>.Trash</code> files to show up. We now have opted to actually <code>rm -rf</code> the files in linux because trashing is too inconsistent between linux distros. Fixes <a href="https://github.com/cypress-io/cypress/issues/2742" target="_blank" rel="noopener noreferrer">#2742</a>.</li> </ul> <p><strong>Misc</strong></p> <ul> <li>Added type definitions for <code>Cypress.moment()</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/2746" target="_blank" rel="noopener noreferrer">#2746</a>.</li> <li>We now display better error messages in the CLI when runs exceed billing limits. Fixes <a href="https://github.com/cypress-io/cypress/issues/1689" target="_blank" rel="noopener noreferrer">#1689</a>.</li> </ul> <p><strong>Dependency Updates</strong></p> <ul> <li>Removed <code>progress</code> <a href="https://github.com/cypress-io/cypress/issues/2733" target="_blank" rel="noopener noreferrer">#2733</a>.</li> </ul> <h1 id="3-1-1" class="article-heading">
3.1.1
</h1>
<p><em>Released 11/2/2018</em></p> <p><strong>Features:</strong></p> <ul> <li>You can now pass a <code>flag</code> option to <a href="../../../api/commands/writefile/"><code>cy.writeFile()</code></a>. The <a href="https://nodejs.org/api/fs.html#fs_file_system_flags" target="_blank" rel="noopener">following flags</a> are available. Fixes <a href="https://github.com/cypress-io/cypress/issues/1249" target="_blank" rel="noopener noreferrer">#1249</a>.</li> <li>There is a new <a href="../../getting-started/installing-cypress/#Mirroring"><code>CYPRESS_DOWNLOAD_MIRROR</code></a> environment variable for installing Cypress at a mirror url. Fixes <a href="https://github.com/cypress-io/cypress/pull/2609" target="_blank" rel="noopener noreferrer">#2609</a>.</li> <li>The <a href="../../guides/module-api/">Module API</a> now returns the <code>runUrl</code> from <code>cypress.run()</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/2596" target="_blank" rel="noopener noreferrer">#2596</a>.</li> <li>Specs now properly display as focused when navigating through specs via the keyboard. Fixes <a href="https://github.com/cypress-io/cypress/pull/2273" target="_blank" rel="noopener noreferrer">#2273</a>.</li> <li>Tasks registered in the plugins file with the ‘task’ event are merged with any tasks registered by previous calls to <code>on('task')</code>, instead of overwriting the previous tasks. Fixes <a href="https://github.com/cypress-io/cypress/issues/2284" target="_blank" rel="noopener noreferrer">#2284</a>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Fixed a bug where Cypress would error when a secure cookie flag was set and then expired from an HTTPS url without the subsequent secure flag. Due to the way Cypress was constructing the url, this would fail to actually remove the cookie. Fixes <a href="https://github.com/cypress-io/cypress/issues/1264" target="_blank" rel="noopener noreferrer">#1264</a>, <a href="https://github.com/cypress-io/cypress/issues/1321" target="_blank" rel="noopener noreferrer">#1321</a>, <a href="https://github.com/cypress-io/cypress/issues/1799" target="_blank" rel="noopener noreferrer">#1799</a>.</li> <li>We now truncate filenames for screenshots to not exceed 255 characters in length. Previously there were cases where the screenshot filename would exceed 255 characters and error. Fixes <a href="https://github.com/cypress-io/cypress/issues/2403" target="_blank" rel="noopener noreferrer">#2403</a> and <a href="https://github.com/cypress-io/cypress/issues/2665" target="_blank" rel="noopener noreferrer">#2665</a>.</li> <li>Fixed issue when using <a href="../../../api/commands/writefile/"><code>cy.writeFile()</code></a> and passing an object to a <code>.json</code> file. The object is now correctly written to the JSON file instead of a string. Fixes <a href="https://github.com/cypress-io/cypress/pull/2373" target="_blank" rel="noopener noreferrer">#2373</a>.</li> <li>We updated how we handle <a href="../configuration/#Screenshots"><code>trashAssetsBeforeRuns</code></a> behavior. We now trash the contents of the <a href="../configuration/#Folders-Files"><code>screenshotsFolder</code></a> and <a href="../configuration/#Folders-Files"><code>videosFolder</code></a> directories instead of trashing the directories themselves. This helps maintain any file access permissions for the directories. Fixes <a href="https://github.com/cypress-io/cypress/issues/1943" target="_blank" rel="noopener noreferrer">#1943</a> and <a href="https://github.com/cypress-io/cypress/issues/2600" target="_blank" rel="noopener noreferrer">#2600</a>.</li> <li>Fixed bug where mocked Dates using <a href="../../../api/commands/clock/"><code>cy.clock()</code></a> would not be an instance of <code>Date</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/2570" target="_blank" rel="noopener noreferrer">#2570</a>.</li> <li>Directories within specs whose names contain <code>.</code> are now correctly read as directories instead of spec files within the Test Runner. Fixes <a href="https://github.com/cypress-io/cypress/issues/2423" target="_blank" rel="noopener noreferrer">#2423</a>.</li> <li>Cypress no longer automatically takes screenshots of skipped tests. Fixes <a href="https://github.com/cypress-io/cypress/issues/2368" target="_blank" rel="noopener noreferrer">#2368</a>.</li> <li>Fixed an issue where returning/resolving <code>undefined</code> from a <a href="../../../api/commands/task/"><code>cy.task()</code></a> handler resulted in an incorrect runtime error. Fixes <a href="https://github.com/cypress-io/cypress/issues/2553" target="_blank" rel="noopener noreferrer">#2553</a>.</li> <li>Update <a href="../configuration/#modifyObstructiveCode"><code>modifyObstructiveCode</code></a> to account for framebusting techniques that use <code>window.frameElement</code>, so that Applications using this technique will run properly in Cypress. Fixes <a href="https://github.com/cypress-io/cypress/issues/2582" target="_blank" rel="noopener noreferrer">#2582</a>.</li> <li>Fixed bug where only the first DOM element of an array of DOM elements would be blacked out after being passed as argument to <code>blackout</code> within <a href="../../../api/commands/screenshot/"><code>cy.screenshot()</code></a>. Fixes <a href="https://github.com/cypress-io/cypress/issues/2508" target="_blank" rel="noopener noreferrer">#2508</a>.</li> <li>We fixed an issue involving timers after running <a href="../../../api/commands/screenshot/"><code>cy.screenshot()</code></a>. Fixes <a href="https://github.com/cypress-io/cypress/issues/2432" target="_blank" rel="noopener noreferrer">#2432</a>.</li> <li>The Test Runner now retries node-originated errors from our internal API requests. Fixes <a href="https://github.com/cypress-io/cypress/issues/2341" target="_blank" rel="noopener noreferrer">#2341</a>
</li> <li>Fixed issue with multiple <code>readyStateChanges</code> with the same <code>readyState</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1150" target="_blank" rel="noopener noreferrer">#1150</a>.</li> <li>Fixed Type error being thrown for users using TypeScript 3. Fixes <a href="https://github.com/cypress-io/cypress/issues/2363" target="_blank" rel="noopener noreferrer">#2363</a>.</li> </ul> <p><strong>Misc</strong></p> <ul> <li>We are now collecting more environment variables from runs when run in Semaphore, GitLab, Bitbucket, Team Foundation Server, Codeship, and Shippable. Fixes <a href="https://github.com/cypress-io/cypress/issues/2460" target="_blank" rel="noopener noreferrer">#2460</a>, <a href="https://github.com/cypress-io/cypress/issues/2358" target="_blank" rel="noopener noreferrer">#2358</a>, <a href="https://github.com/cypress-io/cypress/issues/2343" target="_blank" rel="noopener noreferrer">#2343</a>, and <a href="https://github.com/cypress-io/cypress/issues/2453" target="_blank" rel="noopener noreferrer">#2453</a>.</li> <li>The Test Runner’s search now resets when switching between projects. Fixes <a href="https://github.com/cypress-io/cypress/issues/2512" target="_blank" rel="noopener noreferrer">#2512</a>.</li> <li>Fixed internal Cypress tests. Fixes <a href="https://github.com/cypress-io/cypress/issues/2606" target="_blank" rel="noopener noreferrer">#2606</a>.</li> <li>Replaced use of <code>new Buffer</code> with <code>Buffer.from</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/2626" target="_blank" rel="noopener noreferrer">#2626</a>.</li> <li>Whitelisted <code>autoScrollingEnabled</code> to be saved in <code>state.json</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/2476" target="_blank" rel="noopener noreferrer">#2476</a>.</li> <li>Fixed internal test error <code>beforeSpecRun is not a function</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/2401" target="_blank" rel="noopener noreferrer">#2401</a>.</li> <li>Switched our internal tests to use CircleCI workspaces. Fixes <a href="https://github.com/cypress-io/cypress/issues/2398" target="_blank" rel="noopener noreferrer">#2398</a>.</li> <li>Update TypeScript definition for <a href="../../../api/commands/screenshot/"><code>cy.screenshot()</code></a> to include screenshot specific options. Fixes <a href="https://github.com/cypress-io/cypress/issues/2654" target="_blank" rel="noopener noreferrer">#2654</a>.</li> <li>URLs printed within the CLI will now display as the color blue. Fixes <a href="https://github.com/cypress-io/cypress/issues/2493" target="_blank" rel="noopener noreferrer">#2493</a>.</li> <li>We began bulk converting some of our codebase from CoffeeScript to JavaScript. Fixes <a href="https://github.com/cypress-io/cypress/issues/2686" target="_blank" rel="noopener noreferrer">#2686</a> and <a href="https://github.com/cypress-io/cypress/issues/2687" target="_blank" rel="noopener noreferrer">#2687</a>.</li> <li>We updated some of our internal ESLint rules to be more strict and also to help with CoffeeScript to JavaScript conversions. Fixes <a href="https://github.com/cypress-io/cypress/issues/2688" target="_blank" rel="noopener noreferrer">#2688</a>.</li> </ul> <p><strong>Documentation Changes:</strong></p> <ul> <li>Added <code>flag</code> option to <a href="../../../api/commands/writefile/"><code>cy.writeFile()</code> doc</a>.</li> <li>Added <code>runUrl</code> to returned run in <a href="../../guides/module-api/">Module API doc</a>.</li> <li>Documented new <code>CYPRESS_DOWNLOAD_MIRROR</code> flag and rewrote advanced install instructions to be clearer in <a href="../../getting-started/installing-cypress/#Advanced">Installing Cypress doc</a>.</li> </ul> <p><strong>Dependency Updates</strong></p> <ul> <li>Upgraded common-tags from <code>^1.4.0</code> to <code>^1.8.0</code> <a href="https://github.com/cypress-io/cypress/pull/2415" target="_blank" rel="noopener noreferrer">#2415</a>
</li> <li>Upgraded @cypress/browserify-preprocessor from <code>1.1.0</code> to <code>1.1.1</code> <a href="https://github.com/cypress-io/cypress/issues/2513" target="_blank" rel="noopener noreferrer">#2513</a>
</li> <li>Upgraded lolex from <code>^1.5.2</code> to <code>^3.0.0</code> <a href="https://github.com/cypress-io/cypress/issues/2570" target="_blank" rel="noopener noreferrer">#2570</a>
</li> <li>Upgraded @types/jquery from <code>3.2.16</code> to <code>3.3.6</code> <a href="https://github.com/cypress-io/cypress/issues/2363" target="_blank" rel="noopener noreferrer">#2363</a>
</li> <li>Upgraded zunder from <code>5.6.5</code> to <code>6.1.1</code> <a href="https://github.com/cypress-io/cypress/issues/2541" target="_blank" rel="noopener noreferrer">#2541</a>
</li> </ul> <h1 id="3-1-0" class="article-heading">
3.1.0
</h1>
<p><em>Released 8/13/2018</em></p> <p><strong>Summary:</strong></p> <ul> <li>Cypress can now run tests in parallel across multiple virtual machines, or can be parallelized on a single machine. Cypress will automatically figure out, detect, and load balance all of your specs in the fastest and most efficient way possible. There is no configuration other than passing a <code>--parallel</code> flag and spinning up multiple machines on your CI provider. From our experiments you can expect to see approximately 40% reduction in overall run time <strong>per machine</strong> you add. However, attempting to run in parallel on a single machine requires server grade hardware with dozens (or even hundreds) of CPU’s and GB of RAM to run efficiently. A much better and simpler approach is to use a cluster of docker containers that are all isolated from each other. Any standard CI service (CircleCI, TravisCI, etc) comes with the ability to do this. We automatically tap into their environment variables to make parallelization possible without you having to configure anything.</li> <li>Beyond parallelization, you now have the ability to group multiple runs with each other so that they show up together (grouped) in the Dashboard. This enables you to test different applications, groups of specs, or different environments (like development, staging, production) and see all of the results together. We know how important cross browser testing is to everyone, so we built this to lead directly into aggregating the results of multiple browsers into a single run.</li> <li>The Dashboard Service has been updated to show you more visual information about what happened during a run. You can see how specs were parallelized and you can calculate the effect of adding or removing machines to help reduce the overall run time.</li> </ul> <p><strong>Features:</strong></p> <ul> <li>
<code>cypress run</code> accepts a new <a href="../../guides/command-line/#cypress-run-parallel"><code>–parallel</code></a> flag to run specs in parallel. Fixes <a href="https://github.com/cypress-io/cypress/issues/1690" target="_blank" rel="noopener noreferrer">#1690</a> and <a href="https://github.com/cypress-io/cypress/issues/64" target="_blank" rel="noopener noreferrer">#64</a> and <a href="https://github.com/cypress-io/cypress/issues/2297" target="_blank" rel="noopener noreferrer">#2297</a>.</li> <li>
<code>cypress run</code> accepts a new <a href="../../guides/command-line/#cypress-run-group-lt-name-gt"><code>–group</code></a> flag to group multiple spec files within a single run. Fixes <a href="https://github.com/cypress-io/cypress/issues/2169" target="_blank" rel="noopener noreferrer">#2169</a>
</li> <li>
<code>cypress run</code> accepts a new <a href="../../guides/command-line/#cypress-run-ci-build-id-lt-id-gt"><code>–ci-build-id</code></a> flag. Fixes <a href="https://github.com/cypress-io/cypress/issues/2153" target="_blank" rel="noopener noreferrer">#2153</a>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>We’ve finally tracked down the source of specs “hanging” and failing to start when running Electron. We finally tracked it down to a bug in Electron itself with setting <code>menu</code> when using offscreen rendering. Fixes <a href="https://github.com/cypress-io/cypress/issues/2322" target="_blank" rel="noopener noreferrer">#2322</a> and <a href="https://github.com/cypress-io/cypress/issues/2294" target="_blank" rel="noopener noreferrer">#2294</a> and <a href="https://github.com/cypress-io/cypress/issues/1235" target="_blank" rel="noopener noreferrer">#1235</a> and <a href="https://github.com/cypress-io/cypress/issues/1333" target="_blank" rel="noopener noreferrer">#1333</a>.</li> <li>Clicking on svg elements is now working. 3.0.2 introduced a bug that would throw an ‘illegal invocation’ error. Fixes <a href="https://github.com/cypress-io/cypress/issues/2245" target="_blank" rel="noopener noreferrer">#2245</a> and <a href="https://github.com/cypress-io/cypress/issues/2252" target="_blank" rel="noopener noreferrer">#2252</a> and <a href="https://github.com/cypress-io/cypress/issues/2258" target="_blank" rel="noopener noreferrer">#2258</a> and <a href="https://github.com/cypress-io/cypress/issues/2277" target="_blank" rel="noopener noreferrer">#2277</a> and <a href="https://github.com/cypress-io/cypress/issues/2288" target="_blank" rel="noopener noreferrer">#2288</a>.</li> <li>Fixed a regression in <code>3.0.2</code> that caused typing <code>{enter}</code> not to submit a form when there were <code>&lt;button&gt;</code> elements other than <code>type='submit'</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/2261" target="_blank" rel="noopener noreferrer">#2261</a> and <a href="https://github.com/cypress-io/cypress/issues/2326" target="_blank" rel="noopener noreferrer">#2326</a>.</li> <li>Fixed a small visual bug where failed commands were not aligned to other commands. Fixes <a href="https://github.com/cypress-io/cypress/issues/2314" target="_blank" rel="noopener noreferrer">#2314</a>.</li> <li>Fixes a race condition where async electron browser commands came in after the renderer had been destroyed, causing failures. Fixes <a href="https://github.com/cypress-io/cypress/issues/2321" target="_blank" rel="noopener noreferrer">#2321</a>.</li> </ul> <p><strong>Misc</strong></p> <ul> <li>When recording to the Dashboard Service, we now provide estimated durations per spec directly within the standard output, as long as the spec has had enough run history for this to be determined. Fixes <a href="https://github.com/cypress-io/cypress/issues/2276" target="_blank" rel="noopener noreferrer">#2276</a>.</li> <li>When using the new <a href="../../guides/command-line/#cypress-run-parallel"><code>–parallel</code></a> or <a href="../../guides/command-line/#cypress-run-group-lt-name-gt"><code>–group</code></a> feature, we now visually indicate that to you in the standard output when recording. Fixes <a href="https://github.com/cypress-io/cypress/issues/2275" target="_blank" rel="noopener noreferrer">#2275</a>.</li> <li>We have added support for more CI providers to automatically detect and show more relevant information in the Dashboard, instead of showing ‘Unknown’. Fixes <a href="https://github.com/cypress-io/cypress/issues/2146" target="_blank" rel="noopener noreferrer">#2146</a>.</li> <li>We have added better checks and reliability for detecting runs in Jenkins. Fixes <a href="https://github.com/cypress-io/cypress/issues/1990" target="_blank" rel="noopener noreferrer">#1990</a>.</li> <li>The built in <a href="https://github.com/cypress-io/cypress-browserify-preprocessor" target="_blank" rel="noopener"><code>cypress-browserify-preprocessor</code></a> was bumped to <code>1.1.0</code>. This supports more JavaScript features by default, including async/await, object rest spread, and class properties. Fixes <a href="https://github.com/cypress-io/cypress/issues/2254" target="_blank" rel="noopener noreferrer">#2254</a>.</li> <li>
<a href="../../guides/command-line/#cypress-run"><code>cypress run</code></a> now creates a new browser profile per run per browser, but keeps the same browser profile for interactive mode with <a href="../../guides/command-line/#cypress-open"><code>cypress open</code></a>. This means you can run Cypress locally over multiple processes and the browser profiles will not conflict with each other. Fixes <a href="https://github.com/cypress-io/cypress/issues/1566" target="_blank" rel="noopener noreferrer">#1566</a>.</li> <li>The Desktop-GUI has been updated to get the new routes provided by the Cypress API for runs. Fixes <a href="https://github.com/cypress-io/cypress/issues/2189" target="_blank" rel="noopener noreferrer">#2189</a>.</li> <li>Cypress now retries multiple times (with a backoff strategy) when communicating with our API fails while recording runs. This will provide better feedback in situations when the API is temporarily unavailable. Fixes <a href="https://github.com/cypress-io/cypress/issues/1590" target="_blank" rel="noopener noreferrer">#1590</a>.</li> <li>When Cypress retries due to an API timeout or failure it now displays a very nice message indicating to you the delay and number of retries left. Fixes <a href="https://github.com/cypress-io/cypress/issues/2280" target="_blank" rel="noopener noreferrer">#2280</a>.</li> <li>We’ve added parallelization to our own internal tests for the driver and the desktop-gui. We’ve been able to reduce the number of concurrent instances our tests use by 4, and shaved about 6 minutes off of each build. Faster with less resources. Fixes <a href="https://github.com/cypress-io/cypress/issues/2325" target="_blank" rel="noopener noreferrer">#2325</a>.</li> </ul> <p><strong>Documentation Changes:</strong></p> <ul> <li><a href="../../guides/parallelization/">Added <code>Parallelization</code> doc.</a></li> <li><a href="../../dashboard/introduction/">Update <code>Dashboard Service</code> doc with new screenshots and run sections.</a></li> <li><a href="../../guides/command-line/">Update <code>Command Line</code> doc with new flags and alphabetized flags.</a></li> </ul> <h1 id="3-0-3" class="article-heading">
3.0.3
</h1>
<p><em>Released 7/30/2018</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Reverted the Chrome argument that disabled <code>RootLayerScrolling</code> which was used to prevent the application under test from “shaking” due to a bug in versions 66 and 67. This workaround inadvertently created a different and much more severe bug in Chrome 68 that would miscalculate pointer coordinates. This led to Cypress giving confusing errors about elements being covered up on action. This is still a bug in Chrome, and is fixed in Canary but has not yet been released to the stable Chrome 68 channel. Nevertheless, removing the <code>RootLayerScrolling</code> flag does fix it. We did several experiments to try to ensure that the “shaking” behavior does not exhibit itself in Chrome 68. We have limited the <code>--disable-blink-features=RootLayerScrolling</code> flag to Chrome 66 and Chrome 67. Fixes <a href="https://github.com/cypress-io/cypress/issues/2223" target="_blank" rel="noopener noreferrer">#2223</a> and <a href="https://github.com/cypress-io/cypress/issues/2215" target="_blank" rel="noopener noreferrer">#2215</a> and <a href="https://github.com/cypress-io/cypress/issues/2037" target="_blank" rel="noopener noreferrer">#2037</a>.</li> <li>Fixed another bug with Chrome that caused the <code>chromeWebSecurity: false</code> option to not be respected. This was due to Chrome progressively rolling out trials of a new option that attempts to isolate sites (and iframes) in their own child process if their origins are different. Fixes <a href="https://github.com/cypress-io/cypress/issues/1951" target="_blank" rel="noopener noreferrer">#1951</a> and <a href="https://github.com/cypress-io/cypress/issues/2001" target="_blank" rel="noopener noreferrer">#2001</a> and <a href="https://github.com/cypress-io/cypress/issues/715" target="_blank" rel="noopener noreferrer">#715</a>.</li> <li>Fixed Cypress hanging in CI due to excessive and unnecessary globbing. We finally tracked down this issue which made it appear as if Cypress was “hanging” after closing a spec file and then attempting to open the next one. Fixes <a href="https://github.com/cypress-io/cypress/issues/2183" target="_blank" rel="noopener noreferrer">#2183</a> and <a href="https://github.com/cypress-io/cypress/issues/1905" target="_blank" rel="noopener noreferrer">#1905</a> and <a href="https://github.com/cypress-io/cypress/issues/1912" target="_blank" rel="noopener noreferrer">#1912</a>.</li> <li>We are now properly serializing nested object arguments when using the <a href="../../guides/module-api/">Module API</a> via <code>cypress.open()</code> or <code>cypress.run()</code>. Passing nested objects in <code>reporterOptions</code> now works correctly. This is especially useful when using <code>mocha-multi-reporters</code>. In addition to fixing the <a href="../../guides/module-api/">Module API</a>, we are now also properly handling nested arguments from the <a href="../../guides/command-line/">Command Line</a>. In order to pass nested objects within CLI params you must pass stringified JSON. This is useful for properties such as <code>blacklistHosts</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1348" target="_blank" rel="noopener noreferrer">#1348</a> and <a href="https://github.com/cypress-io/cypress/issues/1357" target="_blank" rel="noopener noreferrer">#1357</a> and <a href="https://github.com/cypress-io/cypress/issues/2221" target="_blank" rel="noopener noreferrer">#2221</a>.</li> <li>Fixed a bug causing screenshots saved via <a href="../../../api/commands/screenshot/"><code>cy.screenshot()</code></a> to be in different folders when you ran using <a href="../../guides/command-line/#cypress-open"><code>cypress open</code></a> vs <a href="../../guides/command-line/#cypress-run"><code>cypress run</code></a> . Fixes <a href="https://github.com/cypress-io/cypress/issues/2091" target="_blank" rel="noopener noreferrer">#2091</a>.</li> <li>Fixed bugs with Electron losing focus when running headlessly via <a href="../../guides/command-line/#cypress-run"><code>cypress run</code></a> after navigation. Now the browser will always act as if it is focused no matter what and in all situations when running headlessly. If you were seeing focus related problems when running headlessly, this should fix them. Fixes issue <a href="https://github.com/cypress-io/cypress/issues/2190" target="_blank" rel="noopener noreferrer">#2190</a>.</li> <li>Fixed using when using <a href="../../../api/commands/click/"><code>cy.click()</code></a> on an element that bound to the <code>focus</code> event while the browser was currently <em>out of focus</em>. We have now normalized <strong>all focus and blur events</strong> to behave the same as if the browser is always in focus. This should fix the other batch of <code>blur</code> and <code>focus</code> issues that users have been experiencing. Fixes <a href="https://github.com/cypress-io/cypress/issues/549" target="_blank" rel="noopener noreferrer">#549</a> and <a href="https://github.com/cypress-io/cypress/issues/2198" target="_blank" rel="noopener noreferrer">#2198</a>.</li> <li>Fixed the vast majority of known issues with <a href="../../../api/commands/type/"><code>.type()</code></a>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1241" target="_blank" rel="noopener noreferrer">#1241</a>.</li> <li>Using <a href="../../../api/commands/type/"><code>.type()</code></a> on an input of type <code>email</code> or <code>number</code> will no longer fire unnecessary additional <code>blur</code> and <code>focus</code> events. Fixes <a href="https://github.com/cypress-io/cypress/issues/2210" target="_blank" rel="noopener noreferrer">#2210</a>.</li> <li>Fixed <a href="../../../api/commands/type/"><code>.type()</code></a> breaking on chains when passing the same <code>options</code> references. Fixes <a href="https://github.com/cypress-io/cypress/issues/365" target="_blank" rel="noopener noreferrer">#365</a>.</li> <li>Fixed an issue with <a href="../../../api/commands/clear/"><code>.clear()</code></a> not behaving the same as <code>cy.type('{selectall}{backspace}')</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/420" target="_blank" rel="noopener noreferrer">#420</a>.</li> <li>Fixed a bug with issuing an additional <code>blur</code> and <code>click</code> event when chaining <code>.clear().type(...)</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/593" target="_blank" rel="noopener noreferrer">#593</a>.</li> <li>Fixed many issues with typing into <code>[contenteditable]</code> elements. WYSIWYG, <a href="https://draftjs.org/" target="_blank" rel="noopener">Draft.js</a> based, and other HTML editors now work correctly. Fixes <a href="https://github.com/cypress-io/cypress/issues/596" target="_blank" rel="noopener noreferrer">#596</a> and <a href="https://github.com/cypress-io/cypress/issues/1686" target="_blank" rel="noopener noreferrer">#1686</a> and <a href="https://github.com/cypress-io/cypress/issues/2096" target="_blank" rel="noopener noreferrer">#2096</a>.</li> <li>The caret now correctly moves on <code>[contenteditable]</code> elements. Fixes <a href="https://github.com/cypress-io/cypress/issues/1108" target="_blank" rel="noopener noreferrer">#1108</a>.</li> <li>Fixed <a href="../../../api/commands/type/"><code>.type()</code></a> inserting a rogue <code>&lt;br&gt;</code> tag after the first letter in <code>[contenteditable]</code> elements. Fixes <a href="https://github.com/cypress-io/cypress/issues/1926" target="_blank" rel="noopener noreferrer">#1926</a>.</li> <li>Fixed issue where change events with <a href="../../../api/commands/type/"><code>.type()</code></a> would not fire correctly for many more situations and edge cases. Fixes <a href="https://github.com/cypress-io/cypress/issues/651" target="_blank" rel="noopener noreferrer">#651</a>.</li> <li>Fixed issues with typing into JS based text-mask plugins. Basically anything that would alter the <code>.value</code> in response to certain events now works correctly. Fixes <a href="https://github.com/cypress-io/cypress/issues/940" target="_blank" rel="noopener noreferrer">#940</a> and <a href="https://github.com/cypress-io/cypress/issues/1684" target="_blank" rel="noopener noreferrer">#1684</a>.</li> <li>Using <a href="../../../api/commands/clear/"><code>.clear()</code></a> on an input with a <code>maxlength</code> attribute now works. Fixes <a href="https://github.com/cypress-io/cypress/issues/1002" target="_blank" rel="noopener noreferrer">#1002</a> and <a href="https://github.com/cypress-io/cypress/issues/2056" target="_blank" rel="noopener noreferrer">#2056</a>.</li> <li>Fixed issues with <a href="../../../api/commands/type/"><code>.type()</code></a> not firing the <code>change</code> event on <code>input[type=number]</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1171" target="_blank" rel="noopener noreferrer">#1171</a>.</li> <li>Fixed other event related issues with <a href="../../../api/commands/type/"><code>.type()</code></a> that were not firing correctly. Fixes <a href="https://github.com/cypress-io/cypress/issues/1209" target="_blank" rel="noopener noreferrer">#1209</a>.</li> <li>Fixed even more issues with <a href="../../../api/commands/type/"><code>.type()</code></a> not inserting characters on <code>input[type=number]</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1381" target="_blank" rel="noopener noreferrer">#1381</a>.</li> <li>Fixed not being able to type negative numbers into <code>input[type=number]</code> elements. Fixes <a href="https://github.com/cypress-io/cypress/issues/2173" target="_blank" rel="noopener noreferrer">#2173</a>.</li> <li>Fixed <code>selectionStart</code> and <code>selectionEnd</code> with <a href="../../../api/commands/type/"><code>.type()</code></a> when using <code>{leftarrow}</code> or <code>{rightarrow}</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1234" target="_blank" rel="noopener noreferrer">#1234</a>.</li> <li>Fixed not being able to type into a <code>datetime-local</code> input. Fixes <a href="https://github.com/cypress-io/cypress/issues/1366" target="_blank" rel="noopener noreferrer">#1366</a>.</li> <li>Calling <a href="../../../api/commands/focus/"><code>.focus()</code></a> or <a href="../../../api/commands/blur/"><code>.blur()</code></a> on <a href="../../../api/commands/window/"><code>cy.window()</code></a> no longer fires blur events on the <code>activeElement</code> or causes it to become <code>body</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/2234" target="_blank" rel="noopener noreferrer">#2234</a>.</li> <li>Using <code>cy.get('body').click()</code> now correctly changes the <code>activeElement</code> back to <code>body</code> and causes the existing <code>activeElement</code> to receive <code>blur</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/2236" target="_blank" rel="noopener noreferrer">#2236</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>We’ve loosened up the restrictions surrounding what we consider a typeable element. You can now type into inputs with invalid <code>type</code> attributes because the browser does still consider them regular <code>text</code> inputs and allows you to type into them. Fixes <a href="https://github.com/cypress-io/cypress/issues/586" target="_blank" rel="noopener noreferrer">#586</a>.</li> <li>Using <code>{uparrow}</code> or <code>{downarrow}</code> with <a href="../../../api/commands/type/"><code>.type()</code></a> on an <code>input[type=number]</code> element now increments or decrements the number configured via the <code>step</code> attribute. Fixes <a href="https://github.com/cypress-io/cypress/issues/2110" target="_blank" rel="noopener noreferrer">#2110</a>.</li> <li>Using <code>{uparrow}</code> or <code>{downarrow}</code> with <a href="../../../api/commands/type/"><code>.type()</code></a> now correctly moves the cursor on <code>textarea</code> or <code>[contenteditable]</code> elements. Fixes <a href="https://github.com/cypress-io/cypress/issues/2187" target="_blank" rel="noopener noreferrer">#2187</a>.</li> <li>You can now use <a href="../../../api/commands/focus/"><code>.focus()</code></a> or <a href="../../../api/commands/blur/"><code>.blur()</code></a> on <code>cy.get('body')</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/2235" target="_blank" rel="noopener noreferrer">#2235</a>.</li> <li>Bumped the version in <code>junit</code> reporter dep from <code>1.12.1</code> to <code>1.17.0</code> which adds a few new features. Fixes <a href="https://github.com/cypress-io/cypress/issues/2238" target="_blank" rel="noopener noreferrer">#2238</a>.</li> <li>Bumped deps that <code>npm audit</code> was yelling about. Fixes <a href="https://github.com/cypress-io/cypress/issues/1701" target="_blank" rel="noopener noreferrer">#1701</a>.</li> <li>Runs showing up in the <code>Runs</code> tab now more closely match how they display in the Dashboard. Fixes <a href="https://github.com/cypress-io/cypress/issues/2060" target="_blank" rel="noopener noreferrer">#2060</a>.</li> <li>Added more debug logs. Fixes <a href="https://github.com/cypress-io/cypress/issues/2108" target="_blank" rel="noopener noreferrer">#2108</a>.</li> <li>When recording to the Dashboard we now more accurately collect commit details when it is missing from the local <code>git</code> data. Fixes <a href="https://github.com/cypress-io/cypress/issues/2129" target="_blank" rel="noopener noreferrer">#2129</a> and <a href="https://github.com/cypress-io/cypress/issues/2073" target="_blank" rel="noopener noreferrer">#2073</a>.</li> <li>Updated build in example kitchen sink to <code>1.0.2</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/2139" target="_blank" rel="noopener noreferrer">#2139</a>.</li> <li>Updated the json-schema describing <code>videoCompression</code>. Allowing it to be a boolean. Fixes <a href="https://github.com/cypress-io/cypress/issues/2140" target="_blank" rel="noopener noreferrer">#2140</a>.</li> </ul> <p><strong>Documentation Changes:</strong></p> <ul> <li><a href="../../guides/module-api/">New “Module API” doc</a></li> </ul> <h1 id="3-0-2" class="article-heading">
3.0.2
</h1>
<p><em>Released 6/28/2018</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Screenshots taken with <a href="../../../api/commands/screenshot/"><code>cy.screenshot()</code></a> on 2x DPI are now taken at the correct full size. Fixes <a href="https://github.com/cypress-io/cypress/issues/1857" target="_blank" rel="noopener noreferrer">#1857</a> and <a href="https://github.com/cypress-io/cypress/issues/2018" target="_blank" rel="noopener noreferrer">#2018</a>.</li> <li>Windows users no longer exit with <code>EPIPE</code> errors when running <code>cypress run</code> in newer versions of Node. Fixes <a href="https://github.com/cypress-io/cypress/issues/1841" target="_blank" rel="noopener noreferrer">#1841</a> and <a href="https://github.com/cypress-io/cypress/issues/2044" target="_blank" rel="noopener noreferrer">#2044</a>.</li> <li>Fixed issue where applications programmatically stealing focus would lead to slow runs in Electron when running via <code>cypress run</code>. <a href="https://github.com/cypress-io/cypress/issues/1909" target="_blank" rel="noopener noreferrer">#1909</a> and <a href="https://github.com/cypress-io/cypress/issues/1892" target="_blank" rel="noopener noreferrer">#1892</a>.</li> <li>Electron no longer reports the browser as out of focus when running via <code>cypress run</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1939" target="_blank" rel="noopener noreferrer">#1939</a>.</li> <li>Modified the <code>document.hasFocus()</code> method to return <code>true</code> if the top window (Cypress window) is in focus. This should now correctly match how your application behaves outside of Cypress. Fixes <a href="https://github.com/cypress-io/cypress/issues/1940" target="_blank" rel="noopener noreferrer">#1940</a>.</li> <li>Fixed issue where Cypress would unnecessarily scroll when attempting to locate elements with <code>position: sticky</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1475" target="_blank" rel="noopener noreferrer">#1475</a>.</li> <li>Fixed a bug where changing the <a href="../configuration/#Folders-Files"><code>integrationFolder</code></a> in Windows would lead to errors with plugins. Fixes <a href="https://github.com/cypress-io/cypress/issues/1704" target="_blank" rel="noopener noreferrer">#1704</a>.</li> <li>Cypress no longer crashes when a 3rd party server sends invalid <code>gzip</code> content. Also fixed issues with incorrectly gunzipping multibyte characters which would potentially lead to serving invalid HTML or JS. Fixes <a href="https://github.com/cypress-io/cypress/issues/1396" target="_blank" rel="noopener noreferrer">#1396</a> and <a href="https://github.com/cypress-io/cypress/issues/1756" target="_blank" rel="noopener noreferrer">#1756</a>.</li> <li>The <code>--silent</code> flag should now be respected during <code>npm install cypress</code> on all OSes. Fixes <a href="https://github.com/cypress-io/cypress/issues/817" target="_blank" rel="noopener noreferrer">#817</a>.</li> <li>Corrected a typo in the CLI for a warning message. Fixes <a href="https://github.com/cypress-io/cypress/issues/2038" target="_blank" rel="noopener noreferrer">#2038</a>.</li> <li>Fixed some areas of the Desktop GUI that did not display path names correctly in Windows. Fixes <a href="https://github.com/cypress-io/cypress/issues/1830" target="_blank" rel="noopener noreferrer">#1830</a>.</li> <li>The <code>pluginsFile</code> now supports an absolute path instead of just a relative one. Fixes <a href="https://github.com/cypress-io/cypress/issues/1837" target="_blank" rel="noopener noreferrer">#1837</a>.</li> <li>Fixed a regression introduced in <code>3.x.x</code> where application code that used <code>setTimeout</code> with a string argument would see the error <code>fn.apply is not a function</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1854" target="_blank" rel="noopener noreferrer">#1854</a>.</li> <li>Fixed issue where preprocessor errors were being swallowed. Fixes <a href="https://github.com/cypress-io/cypress/issues/1877" target="_blank" rel="noopener noreferrer">#1877</a>.</li> <li>Fixed issue where Cypress would hang indefinitely when starting a new spec when in <code>cypress run</code> mode. Additionally we have optimized the code path to not read in the local <code>state.json</code> unnecessarily. Fixes <a href="https://github.com/cypress-io/cypress/issues/2013" target="_blank" rel="noopener noreferrer">#2013</a> and <a href="https://github.com/cypress-io/cypress/issues/1912" target="_blank" rel="noopener noreferrer">#1912</a> and <a href="https://github.com/cypress-io/cypress/issues/1905" target="_blank" rel="noopener noreferrer">#1905</a> and <a href="https://github.com/cypress-io/cypress/issues/1890" target="_blank" rel="noopener noreferrer">#1890</a>.</li> <li>Fixed a couple regressions in the Dashboard where timed out runs stayed “Pending” forever. Fixes <a href="https://github.com/cypress-io/cypress/issues/1891" target="_blank" rel="noopener noreferrer">#1891</a> and <a href="https://github.com/cypress-io/cypress/issues/1952" target="_blank" rel="noopener noreferrer">#1952</a>.</li> <li>Fixed another Dashboard regression where an error would throw when recording tests and sending a large list of specs. Fixes <a href="https://github.com/cypress-io/cypress/issues/1901" target="_blank" rel="noopener noreferrer">#1901</a>.</li> <li>Fixed issue where videos would not be recorded when an object was returned from <code>before:browser:launch</code> when in the Electron browser. Fixes <a href="https://github.com/cypress-io/cypress/issues/1992" target="_blank" rel="noopener noreferrer">#1992</a>.</li> <li>Fixed an issue where Cypress would inject content into the <code>&lt;header&gt;</code> tag instead of the <code>&lt;head&gt;</code> tag. Fixes <a href="https://github.com/cypress-io/cypress/issues/2026" target="_blank" rel="noopener noreferrer">#2026</a>.</li> <li>Fixed an oversight where a specific framebusting check was not being properly stripped and removed by the default config option <a href="../configuration/#Browser"><code>modifyObstructiveCode</code></a>. Fixes <a href="https://github.com/cypress-io/cypress/issues/2030" target="_blank" rel="noopener noreferrer">#2030</a> and <a href="https://github.com/cypress-io/cypress/issues/2059" target="_blank" rel="noopener noreferrer">#2059</a>.</li> <li>Fixed icons visually shifting when tests were running in the Test Runner. Fixes <a href="https://github.com/cypress-io/cypress/issues/1983" target="_blank" rel="noopener noreferrer">#1983</a>.</li> <li>Server sent events now <em>finally</em> work correctly in Cypress. Fixes <a href="https://github.com/cypress-io/cypress/issues/1440" target="_blank" rel="noopener noreferrer">#1440</a> and <a href="https://github.com/cypress-io/cypress/issues/1111" target="_blank" rel="noopener noreferrer">#1111</a>.</li> <li>Time traveling snapshots now preserve the styles of empty <code>&lt;style&gt;</code> tags with programmatically inserted CSS rules. Fixes <a href="https://github.com/cypress-io/cypress/issues/1226" target="_blank" rel="noopener noreferrer">#1226</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>There are now several new CLI commands for interacting with the binary cache: <a href="../../guides/command-line/#cypress-cache-path"><code>cypress cache path</code></a>, <a href="../../guides/command-line/#cypress-cache-list"><code>cypress cache list</code></a>, and <a href="../../guides/command-line/#cypress-cache-clear"><code>cypress cache clear</code></a>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1856" target="_blank" rel="noopener noreferrer">#1856</a>.</li> <li>We’ve added a new CLI flag: <code>--no-exit</code> for <a href="../../guides/command-line/#cypress-run"><code>cypress run</code></a> to keep the browser open after the tests finish running. Fixes <a href="https://github.com/cypress-io/cypress/issues/1871" target="_blank" rel="noopener noreferrer">#1871</a>.</li> <li>The <a href="../../guides/command-line/">CLI</a> now respects config values and environment variables put in your <code>.npmrc</code> file. Fixes <a href="https://github.com/cypress-io/cypress/issues/1399" target="_blank" rel="noopener noreferrer">#1399</a> and <a href="https://github.com/cypress-io/cypress/issues/1853" target="_blank" rel="noopener noreferrer">#1853</a>.</li> <li>Significantly improved the performance of taking screenshots. <a href="https://github.com/cypress-io/cypress/issues/1863" target="_blank" rel="noopener noreferrer">#1863</a>.</li> <li>Node module dependencies updated. Fixes <a href="https://github.com/cypress-io/cypress/issues/1674" target="_blank" rel="noopener noreferrer">#1674</a> and <a href="https://github.com/cypress-io/cypress/issues/1942" target="_blank" rel="noopener noreferrer">#1942</a>.</li> <li>The bundled version of FFmpeg has now been bumped from <code>3.x.x</code> to <code>4.x.x</code>. This may help with some issues users were experiencing when recording videos. Fixes <a href="https://github.com/cypress-io/cypress/issues/1972" target="_blank" rel="noopener noreferrer">#1972</a>.</li> <li>Added more debug logs to FFmpeg to determine why FFmpeg compression sometimes causes Cypress to crash (mostly while running in Travis CI). Fixes <a href="https://github.com/cypress-io/cypress/issues/1971" target="_blank" rel="noopener noreferrer">#1971</a>.</li> <li>Several improvements to TypeScript typings. Fixes <a href="https://github.com/cypress-io/cypress/issues/1881" target="_blank" rel="noopener noreferrer">#1881</a> and <a href="https://github.com/cypress-io/cypress/issues/2007" target="_blank" rel="noopener noreferrer">#2007</a> and <a href="https://github.com/cypress-io/cypress/issues/1899" target="_blank" rel="noopener noreferrer">#1899</a> and <a href="https://github.com/cypress-io/cypress/issues/1902" target="_blank" rel="noopener noreferrer">#1902</a> and <a href="https://github.com/cypress-io/cypress/issues/1897" target="_blank" rel="noopener noreferrer">#1897</a> and <a href="https://github.com/cypress-io/cypress/issues/1907" target="_blank" rel="noopener noreferrer">#1907</a>.</li> <li>We improved error logging and the user experience around <a href="../../guides/command-line/#cypress-verify"><code>cypress verify</code></a>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1984" target="_blank" rel="noopener noreferrer">#1984</a>.</li> <li>We no longer log the <code>skipping install</code> message if the Cypress binary is already installed locally. Fixes <a href="https://github.com/cypress-io/cypress/issues/1985" target="_blank" rel="noopener noreferrer">#1985</a>.</li> <li>Now, by default, screenshots are nested within a folder with the name of <strong>the spec file</strong> that is currently running. Example - the spec named <code>cypress/integration/foo/bar_spec.js</code> will save screenshots inside of this directory: <code>cypress/screenshots/foo/bar_spec.js/*</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1826" target="_blank" rel="noopener noreferrer">#1826</a>.</li> <li>Passing <code>foo/bar/baz</code> as the fileName arg to <a href="../../../api/commands/screenshot/#Take-a-screenshot-and-save-in-a-specific-directory"><code>cy.screenshot()</code></a> inside a spec, <code>app.spec.js</code>, will now result in the screenshot being saved to a nested folder path such as: <code>cypress/screenshots/app.spec.js/foo/bar/baz.png</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1771" target="_blank" rel="noopener noreferrer">#1771</a> and <a href="https://github.com/cypress-io/cypress/issues/668" target="_blank" rel="noopener noreferrer">#668</a>.</li> <li>We now append <code>(failed)</code> to the screenshot filename of screenshots taken automatically during test failure. Fixes <a href="https://github.com/cypress-io/cypress/issues/1923" target="_blank" rel="noopener noreferrer">#1923</a>.</li> <li>If multiple screenshots are taken during a test that will result in the same filename, their file paths are now appended with a number, i.e. <code>test name (1).png</code>. This prevents screenshot files with the same name from being overwritten. Fixes <a href="https://github.com/cypress-io/cypress/issues/1766" target="_blank" rel="noopener noreferrer">#1766</a>.</li> <li>Screenshot <code>onAfterScreenshot</code> and <code>onBeforeScreenshot</code> callbacks ar enow invoked for failed tests. They include a <code>testFailure</code> property to distinguish between automatic ones and your own use of <code>cy.screenshot()</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/2040" target="_blank" rel="noopener noreferrer">#2040</a>.</li> <li>There’s now an <a href="../../../api/plugins/after-screenshot-api/"><code>after:screenshot</code> plugin event</a> you can use in your <code>pluginsFile</code> to work with screenshots after they are taken. This enables you to rename them, move their location, resize them, send them to a service, etc. Fixes <a href="https://github.com/cypress-io/cypress/issues/2039" target="_blank" rel="noopener noreferrer">#2039</a>.</li> <li>Added <code>Cypress.browser</code> object which contains information about the currently running browser. Fixes <a href="https://github.com/cypress-io/cypress/issues/1919" target="_blank" rel="noopener noreferrer">#1919</a> and <a href="https://github.com/cypress-io/cypress/issues/1961" target="_blank" rel="noopener noreferrer">#1961</a>.</li> <li>Added <code>Cypress.spec</code> object which contains information about the currently running spec. Fixes <a href="https://github.com/cypress-io/cypress/issues/1918" target="_blank" rel="noopener noreferrer">#1918</a>.</li> <li>URLs displayed in the Command Log during <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> are no longer arbitrarily truncated at a set width. Fixes <a href="https://github.com/cypress-io/cypress/issues/1995" target="_blank" rel="noopener noreferrer">#1995</a>.</li> </ul> <p><strong>Documentation Changes:</strong></p> <ul> <li><a href="../../../api/commands/screenshot/">Update <code>cy.screenshot()</code> doc to include new file naming behavior</a></li> <li><a href="../../guides/command-line/">Updated “Command Line” doc to include new cache commands</a></li> <li><a href="../../../api/cypress-api/browser/">Added <code>Cypress.browser</code> doc.</a></li> <li><a href="../../../api/cypress-api/spec/">Added <code>Cypress.spec</code> doc.</a></li> <li><a href="../../../api/plugins/after-screenshot-api/">Added <code>after:screenshot</code> plugin event doc.</a></li> </ul> <h1 id="3-0-1" class="article-heading">
3.0.1
</h1>
<p><em>Released 5/30/2018</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Seeded KitchenSink tests no longer fail. Fixes <a href="https://github.com/cypress-io/cypress/issues/1812" target="_blank" rel="noopener noreferrer">#1812</a>.</li> <li>The binary cache now correctly works and will not reinstall Cypress if an existing version is already installed. Fixes <a href="https://github.com/cypress-io/cypress/issues/1813" target="_blank" rel="noopener noreferrer">#1813</a>.</li> <li>Closing the <code>Electron</code> browser and then opening <code>Chrome</code> no longer causes <code>cy.screenshot()</code> to fail. Fixes <a href="https://github.com/cypress-io/cypress/issues/1820" target="_blank" rel="noopener noreferrer">#1820</a>.</li> <li>Fixed a bug with Windows users seeing crashes with <code>tty.getWindowSize is not a function</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1815" target="_blank" rel="noopener noreferrer">#1815</a> and <a href="https://github.com/cypress-io/cypress/issues/1817" target="_blank" rel="noopener noreferrer">#1817</a>.</li> </ul> <h1 id="3-0-0" class="article-heading">
3.0.0
</h1>
<p><em>Released 5/29/2018</em></p> <p><strong>Summary:</strong></p> <ul> <li>There is a new <a href="../../../api/commands/task/"><code>cy.task()</code></a> command that enables you to go outside the browser to perform tasks directly in <code>node</code>. This will make it easy to setup, scaffold, seed, talk to your database, or anything else useful on a back end.</li> <li>
<a href="../../../api/commands/screenshot/"><code>cy.screenshot()</code></a> has been rewritten from the ground up. It now takes a screenshot of <strong>only</strong> the application under test by default. It also can take full page screenshots or element only screenshots. This is the first step of Cypress Dashboard support for screenshot diffing.</li> <li>When running with <code>cypress run</code> we now run each spec file in isolation from others. We have rewritten our reporter to provide more details and provide a summary of the run at the bottom.</li> <li>The Dashboard has been upgraded to make it easier to understand the results of each spec run. This was done in anticipation of providing you the ability to parallelize and load balance your spec files automatically in CI.</li> <li>We are now capturing the performance and timings data of every test when using <code>--record</code> mode and are beginning to offer the first analytics and insights into the health of your tests on our Dashboard Service.</li> <li>Cypress now caches globally per version which prevents it from being installed multiple times across projects.</li> </ul> <p><strong>Breaking Changes:</strong></p> <ul> <li>We now run each spec file in isolation from one another. This <em>shouldn’t</em> technically break anything, but if you have set up your tests in a way that requires the state of a previous spec file, this could potentially break your tests. This will go a long ways towards reducing problems we were seeing with long runs in CI. Fixes <a href="https://github.com/cypress-io/cypress/issues/431" target="_blank" rel="noopener noreferrer">#431</a>, <a href="https://github.com/cypress-io/cypress/issues/681" target="_blank" rel="noopener noreferrer">#681</a>, <a href="https://github.com/cypress-io/cypress/issues/1589" target="_blank" rel="noopener noreferrer">#1589</a>, <a href="https://github.com/cypress-io/cypress/issues/1539" target="_blank" rel="noopener noreferrer">#1539</a>, and <a href="https://github.com/cypress-io/cypress/issues/1692" target="_blank" rel="noopener noreferrer">#1692</a>.</li> <li>The environment variable <code>CYPRESS_BINARY_VERSION</code> has been removed. You should use the equivalent environment variable <code>CYPRESS_INSTALL_BINARY</code> instead.</li> <li>The environment variable <code>CYPRESS_SKIP_BINARY_INSTALL</code> has been removed. To skip the binary install, set <code>CYPRESS_INSTALL_BINARY=0</code>.</li> <li>
<code>screenshotOnHeadlessFailure</code> has been removed as an option in <code>cypress.json</code>. Instead you can now control this behavior directly with code by setting <code>screenshotOnRunFailure</code> to <code>false</code> within the new <a href="../../../api/cypress-api/screenshot-api/">Screenshot API</a>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1140" target="_blank" rel="noopener noreferrer">#1140</a> and <a href="https://github.com/cypress-io/cypress/issues/1754" target="_blank" rel="noopener noreferrer">#1754</a>.</li> <li>
<code>trashAssetsBeforeHeadlessRuns</code> has been renamed to <code>trashAssetsBeforeRuns</code> in our configuration. Fixes <a href="https://github.com/cypress-io/cypress/issues/1754" target="_blank" rel="noopener noreferrer">#1754</a>.</li> <li>
<code>videoRecording</code> has been renamed to <code>video</code> in our configuration to be clearer and prevent confusion about recording to our Dashboard. Fixes <a href="https://github.com/cypress-io/cypress/issues/562" target="_blank" rel="noopener noreferrer">#562</a>.</li> <li>Cypress no longer copies screenshots and videos to artifacts for CircleCI. Copying artifacts should be left up to the user to <a href="https://circleci.com/docs/2.0/artifacts/" target="_blank" rel="noopener">handle themselves in their <code>circle.yml</code> file</a>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1592" target="_blank" rel="noopener noreferrer">#1592</a>.</li> <li>The standard output has been redesigned to better visualize spec files running in isolation and to be more visually appealing. This may break any specialized logic written that expected the standard output to be structured in a specific way or contain specific words. Fixes <a href="https://github.com/cypress-io/cypress/issues/1588" target="_blank" rel="noopener noreferrer">#1588</a>.</li> <li>
<a href="../../../api/commands/screenshot/"><code>cy.screenshot()</code></a> no longer takes a screenshot of the runner by default. Instead it will hide the runner, remove application scaling and then scroll to take a full page picture of your application.</li> <li>
<code>before</code> and <code>after</code> hooks within a <a href="../../core-concepts/writing-and-organizing-tests/#Support-file">support file</a> now run before/after every spec file, instead of only once before/after the entire run. <a href="https://github.com/cypress-io/cypress/issues/681" target="_blank" rel="noopener noreferrer">#681</a>
</li> </ul> <p><strong>Features:</strong></p> <ul> <li>There is a new <a href="../../../api/commands/task/"><code>cy.task()</code></a> command for executing any arbitrary <code>node</code> code.</li> <li>You can now run multiple specs by passing a glob to the <code>--spec</code> argument of <code>cypress run</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/263" target="_blank" rel="noopener noreferrer">#263</a>, <a href="https://github.com/cypress-io/cypress/issues/416" target="_blank" rel="noopener noreferrer">#416</a> and <a href="https://github.com/cypress-io/cypress/issues/681" target="_blank" rel="noopener noreferrer">#681</a>.</li> <li>There is a new <a href="../../../api/cypress-api/screenshot-api/">Screenshot API</a> and new <a href="../../../api/commands/screenshot/"><code>cy.screenshot()</code></a> options that allow you set defaults for how screenshots are captured, whether to scale your app, disable timers and animations, or which elements to black out in the screenshot. You can also set defaults for whether to automatically take screenshots when there are test failures or whether to wait for the Command Log to synchronize before taking the screenshot. Fixes <a href="https://github.com/cypress-io/cypress/issues/1424" target="_blank" rel="noopener noreferrer">#1424</a>.</li> <li>
<a href="../../../api/commands/screenshot/"><code>cy.screenshot()</code></a> can now be chained off of commands that yield a DOM element and will only take a screenshot that element.</li> <li>During install of cypress, the Cypress binary is now downloaded to a global cache. This prevents multiple projects from downloading the same Cypress version. Fixes <a href="https://github.com/cypress-io/cypress/issues/1300" target="_blank" rel="noopener noreferrer">#1300</a>.</li> <li>The seeded <code>example_spec.js</code> file has been replaced by an <code>examples</code> folder with several spec files. This more closely reflects the recommended use of Cypress - as smaller groups of tests split among many files that will now be run in isolation. The tests were also updated from ES5 to ES6. You can see all changes in the <a href="https://github.com/cypress-io/cypress-example-kitchensink" target="_blank" rel="noopener"><code>cypress-example-kitchensink</code> repo</a> Fixes <a href="https://github.com/cypress-io/cypress/issues/1460" target="_blank" rel="noopener noreferrer">#1460</a>.</li> <li>Cypress now watches all the <code>plugins file</code>‘s entire dependency tree to make iterating on plugins easier. Fixes <a href="https://github.com/cypress-io/cypress/issues/1407" target="_blank" rel="noopener noreferrer">#1407</a>.</li> <li>Videos will now be saved locally with a filename named after the associated <code>spec</code> file that it represents. Fixes <a href="https://github.com/cypress-io/cypress/issues/980" target="_blank" rel="noopener noreferrer">#980</a>.</li> <li>The Test Runner now displays <code>skipped</code> tests differently than <code>pending</code> tests. <a href="https://github.com/cypress-io/cypress/issues/244" target="_blank" rel="noopener noreferrer">#244</a>.</li> <li>Standard output now displays the number of <code>skipped</code> tests within the summary output during <code>cypress run</code>. <a href="https://github.com/cypress-io/cypress/issues/1559" target="_blank" rel="noopener noreferrer">#1559</a>.</li> <li>The url to view the run in the Dashboard is now printed to output during <code>cypress run</code>. <a href="https://github.com/cypress-io/cypress/issues/494" target="_blank" rel="noopener noreferrer">#494</a>.</li> <li>We now print the browser and browser version run in the output during <code>cypress run</code>. <a href="https://github.com/cypress-io/cypress/issues/833" target="_blank" rel="noopener noreferrer">#833</a>.</li> <li>The build number and url to CI for tests run within <a href="https://drone.io/" target="_blank" rel="noopener">Drone</a> are now captured and displayed on the run within the Dashboard. <a href="https://github.com/cypress-io/cypress/issues/1709" target="_blank" rel="noopener noreferrer">#1709</a>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Cypress no longer crashes when attempting to proxy a WebSocket connection that fails. Fixes <a href="https://github.com/cypress-io/cypress/issues/556" target="_blank" rel="noopener noreferrer">#556</a>.</li> <li>Asserting that an attribute equals a falsy value no longer fails when the value was falsy. Fixes <a href="https://github.com/cypress-io/cypress/issues/831" target="_blank" rel="noopener noreferrer">#831</a> and <a href="https://github.com/cypress-io/cypress/issues/1491" target="_blank" rel="noopener noreferrer">#1491</a>.</li> <li>Snapshots now ignore stylesheets with <code>media="print"</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1568" target="_blank" rel="noopener noreferrer">#1568</a>.</li> <li>Fixed issue where the Cypress <code>window</code> was being returned instead of AUT’s <code>window</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1436" target="_blank" rel="noopener noreferrer">#1436</a>.</li> <li>The <code>close</code> event now properly fires on <code>file</code> when manually closing the browser. Fixes <a href="https://github.com/cypress-io/cypress/issues/1560" target="_blank" rel="noopener noreferrer">#1560</a>.</li> <li>
<code>cypress.env.json</code> is now being watched for changes. Fixes <a href="https://github.com/cypress-io/cypress/issues/1464" target="_blank" rel="noopener noreferrer">#1464</a>.</li> <li>Fixed issue when using TypeScript that caused namespace errors to be thrown. Fixes <a href="https://github.com/cypress-io/cypress/issues/1627" target="_blank" rel="noopener noreferrer">#1627</a>.</li> <li>Fixed error message on <a href="../../../api/commands/type/"><code>.type()</code></a> and <a href="../../../api/commands/clear/"><code>.clear()</code></a> when typing into non-typeable elements or clearing non-clearable elements to accurately list the elements allowed. Fixes <a href="https://github.com/cypress-io/cypress/issues/1650" target="_blank" rel="noopener noreferrer">#1650</a>.</li> <li>Added Chrome flag <code>--disable-blink-features=RootLayerScrolling</code> to prevent the application under test from “shaking” in recent versions of Chrome. Fixes <a href="https://github.com/cypress-io/cypress/issues/1620" target="_blank" rel="noopener noreferrer">#1620</a>.</li> <li>Fixed issue where some TTY characters were not properly formatted in the terminal for Windows during <code>cypress run</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1143" target="_blank" rel="noopener noreferrer">#1143</a> and <a href="https://github.com/cypress-io/cypress/issues/1550" target="_blank" rel="noopener noreferrer">#1550</a>.</li> <li>Removed an extraneous error display from Electron during <code>cypress run</code> about a “transparent titlebar” setting. Fixes <a href="https://github.com/cypress-io/cypress/issues/1745" target="_blank" rel="noopener noreferrer">#1745</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>We are now aggressively turning on colors when running in CI. If you’re using Jenkins and <strong>do not</strong> have an ANSI color plugin installed, you can turn off colors with the <code>NO_COLOR=1</code> environment variable. Fixes <a href="https://github.com/cypress-io/cypress/issues/1747" target="_blank" rel="noopener noreferrer">#1747</a> and <a href="https://github.com/cypress-io/cypress/issues/1748" target="_blank" rel="noopener noreferrer">#1748</a>.</li> <li>When running <code>cypress run --record</code> on forked PR’s, we now detect that the Record Key is missing and do not fail the build. We will display a warning, but continue running the tests. Fixes <a href="https://github.com/cypress-io/cypress/issues/1193" target="_blank" rel="noopener noreferrer">#1193</a>.</li> <li>Searching in the Test Runner now filters out any non-matching folders. Fixes <a href="https://github.com/cypress-io/cypress/issues/1706" target="_blank" rel="noopener noreferrer">#1706</a>.</li> <li>Duplicate, subsequent logs in the Command Log are now collapsed and can be expanded to view all logs. Fixes <a href="https://github.com/cypress-io/cypress/issues/1580" target="_blank" rel="noopener noreferrer">#1580</a>.</li> <li>We now throw a descriptive error if an alias using <a href="../../../api/commands/as/"><code>.as()</code></a> was defined starting with the <code>@</code> character. <a href="https://github.com/cypress-io/cypress/issues/1643" target="_blank" rel="noopener noreferrer">#1643</a>.</li> <li>We now pass the <code>--disable-device-discovery-notifications</code> flag automatically. This should prevent Chromium browser from automatically trying to communicate with devices in your network, such as printers, while running tests. Fixes <a href="https://github.com/cypress-io/cypress/issues/1600" target="_blank" rel="noopener noreferrer">#1600</a>.</li> <li>We now pass any reporter errors along and provide a stack if a custom reporter you’ve provided does not exist. Fixes <a href="https://github.com/cypress-io/cypress/issues/1192" target="_blank" rel="noopener noreferrer">#1192</a>.</li> <li>You can now pass a normal object to <code>cypress.open()</code> or <code>cypress.run()</code> through the <a href="../../guides/module-api/">Module API</a>, just as you would from the command line. <a href="https://github.com/cypress-io/cypress/issues/1442" target="_blank" rel="noopener noreferrer">#1442</a>.</li> <li>Added type definitions for <code>Cypress.off</code> and <code>Cypress.log</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1110" target="_blank" rel="noopener noreferrer">#1110</a> and <a href="https://github.com/cypress-io/cypress/issues/1591" target="_blank" rel="noopener noreferrer">#1591</a>.</li> <li>Update type definitions for <a href="../../../api/commands/screenshot/"><code>cy.screenshot()</code></a> to reflect new changes to command’s options. Fixes <a href="https://github.com/cypress-io/cypress/issues/1753" target="_blank" rel="noopener noreferrer">#1753</a>.</li> <li>The type definition for <a href="../../../api/commands/filter/"><code>.filter()</code></a> now correctly supports a function argument.</li> <li>The type definition for <a href="../../../api/commands/scrollintoview/"><code>.scrollIntoView()</code></a> no longer errors when passed a <code>duration</code> option. Fixes <a href="https://github.com/cypress-io/cypress/issues/1606" target="_blank" rel="noopener noreferrer">#1606</a>.</li> <li>
<code>NODE_OPTIONS</code> environment variables now print within the <code>cypress:cli</code> logs when running in <code>DEBUG</code> mode. Although using <code>NODE_OPTIONS</code> themselves should not be used due to <a href="https://github.com/cypress-io/cypress/issues/1676" target="_blank" rel="noopener noreferrer">#1676</a>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1673" target="_blank" rel="noopener noreferrer">#1673</a>.</li> <li>Cypress will error and exit with status 1 if no specs were found during <code>cypress run</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1585" target="_blank" rel="noopener noreferrer">#1585</a>.</li> <li>We are now counting and aggregating the stats at the end of test runs separately from Mocha. Cypress considers a test to be the <code>it</code> and any accompanying <code>hooks</code> that run before or after a test. Cypress will correctly associate failures in those hooks to the test itself. We believe this more accurately models and just “makes sense”. Fixes <a href="https://github.com/cypress-io/cypress/issues/1163" target="_blank" rel="noopener noreferrer">#1163</a>.</li> <li>The minimum viewport size has been lowered from <code>200</code> pixels to <code>20</code> pixels. Fixes <a href="https://github.com/cypress-io/cypress/issues/1169" target="_blank" rel="noopener noreferrer">#1169</a> and <a href="https://github.com/cypress-io/cypress/issues/1444" target="_blank" rel="noopener noreferrer">#1444</a>.</li> <li>Internal changes to our API structure and communication. Fixes <a href="https://github.com/cypress-io/cypress/issues/1170" target="_blank" rel="noopener noreferrer">#1170</a>, <a href="https://github.com/cypress-io/cypress/issues/1413" target="_blank" rel="noopener noreferrer">#1413</a>, <a href="https://github.com/cypress-io/cypress/issues/1415" target="_blank" rel="noopener noreferrer">#1415</a>.</li> <li>We output a much more complete test results object when using cypress as a module. Fixes <a href="https://github.com/cypress-io/cypress/issues/1248" target="_blank" rel="noopener noreferrer">#1248</a>.</li> <li>Added keywords to Cypress npm package. Fixes <a href="https://github.com/cypress-io/cypress/issues/1508" target="_blank" rel="noopener noreferrer">#1508</a>.</li> <li>Centered the animating icon in the Test Runner when ‘running’. Fixes <a href="https://github.com/cypress-io/cypress/issues/1695" target="_blank" rel="noopener noreferrer">#1695</a>.</li> <li>We made some changes to internal references of <code>headed</code> and <code>headless</code> to be more specific and instead reference <code>run mode</code> and <code>interactive mode</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1140" target="_blank" rel="noopener noreferrer">#1140</a>.</li> <li>The test name text is now selectable inside the Command Log. Fixes <a href="https://github.com/cypress-io/cypress/issues/1476" target="_blank" rel="noopener noreferrer">#1476</a>.</li> <li>Minor improvements to contributing docs and scripts. Fixes <a href="https://github.com/cypress-io/cypress/issues/1665" target="_blank" rel="noopener noreferrer">#1665</a>.</li> <li>We now collect Semaphore CI params and provide URL’s to click into the builds from the Dashboard. Fixes <a href="https://github.com/cypress-io/cypress/issues/1785" target="_blank" rel="noopener noreferrer">#1785</a>.</li> <li>Config overrides coming from the CLI or environment variables are now validated the same way as if they’ve been set in <code>cypress.json</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1783" target="_blank" rel="noopener noreferrer">#1783</a>.</li> <li>There is a better / more helpful experience around passing unknown options to the CLI. Fixes <a href="https://github.com/cypress-io/cypress/issues/837" target="_blank" rel="noopener noreferrer">#837</a>.</li> <li>Display an empty message when there is no commit information on recorded runs. Fixes <a href="https://github.com/cypress-io/cypress/issues/1809" target="_blank" rel="noopener noreferrer">#1809</a>.</li> </ul> <p><strong>Documentation Changes:</strong></p> <ul> <li><a href="../../../api/commands/task/">New <code>cy.task()</code> doc</a></li> <li><a href="../../../api/cypress-api/screenshot-api/">New <code>Screenshot API</code> doc</a></li> <li><a href="../../../api/commands/screenshot/">Update <code>cy.screenshot()</code> doc to include new accepted usage and options</a></li> <li><a href="../../getting-started/installing-cypress/">Update <code>Installing Cypress</code> doc to include new options for Cypress binary caching</a></li> <li><a href="../../core-concepts/writing-and-organizing-tests/">Updated <code>Writing and Organizing Tests</code> to include newly seeded <code>examples</code> folder</a></li> <li><a href="../../guides/command-line/#cypress-run">Updated <code>cypress run</code> spec args</a></li> <li><a href="../../dashboard/introduction/">Updated <code>Dashboard Service</code></a></li> <li><a href="../../guides/launching-browsers/">Updated <code>Launching Browsers</code> to include our disabling of device discovery notifications</a></li> <li><a href="../../dashboard/introduction/">Updated <code>Preprocessors</code> to reflect all ways <code>close</code> event could be triggered</a></li> <li>Updated use of “running headlessly” to more accurate “during <code>cypress run</code>“</li> </ul> <h1 id="2-1-0" class="article-heading">
2.1.0
</h1>
<p><em>Released 3/1/2018</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Prevent a bug with <code>node-sass</code> on OSX + Windows when local <code>node</code> version does not match bundled <code>node</code> when importing components directly in spec files. The underlying issue was because we forgot to update <code>Buildkite</code> and <code>Appveyor</code> when we upgraded <code>Electron</code> in <code>2.0.0</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1387" target="_blank" rel="noopener noreferrer">#1387</a> and <a href="https://github.com/cypress-io/cypress/issues/1390" target="_blank" rel="noopener noreferrer">#1390</a>.</li> </ul> <p><strong>Features:</strong></p> <ul> <li>The <a href="../../core-concepts/test-runner/#Selector-Playground">Selector Playground</a> has been updated to automatically prefer <code>data-cy</code>, <code>data-test</code> or <code>data-testid</code> attributes when providing the unique selector for an element. Additionally it now exposes a <a href="../../../api/cypress-api/selector-playground-api/">public API</a> that you can use to control how it determines which selector to use. Fixes <a href="https://github.com/cypress-io/cypress/issues/1135" target="_blank" rel="noopener noreferrer">#1135</a>.</li> </ul> <p><strong>Documentation Changes:</strong></p> <ul> <li><a href="../../core-concepts/test-runner/#Selector-Playground">Added <code>Selector Playground Guide</code></a></li> <li><a href="../../../api/cypress-api/selector-playground-api/">Added <code>Selector Playground API</code></a></li> <li><a href="../best-practices/">Updated <code>Best Practices</code></a></li> <li><a href="https://docs.cypress.io/faq/questions/using-cypress-faq.html" target="_blank">Updated <code>FAQ</code></a></li> <li><a href="../../core-concepts/introduction-to-cypress/">Updated <code>Introduction to Cypress</code></a></li> </ul> <h1 id="2-0-4" class="article-heading">
2.0.4
</h1>
<p><em>Released 2/25/2018</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>The <code>cypress</code> npm package now has the correct <code>engines</code> set in <code>package.json</code>. This was accidentally getting overwritten and caused errors when <code>engineStrict</code> was set in environments using <code>node</code> older than <code>8.2.1</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1373" target="_blank" rel="noopener noreferrer">#1373</a>.</li> </ul> <h1 id="2-0-3" class="article-heading">
2.0.3
</h1>
<p><em>Released 2/21/2018</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>The runner no longer appears to “hang” if a <code>before</code> hook fails in a test with siblings. Previously the test would never generate a <code>status</code> and look pending forever. This was a visual bug only. Fixes <a href="https://github.com/cypress-io/cypress/issues/1343" target="_blank" rel="noopener noreferrer">#1343</a>.</li> <li>The Desktop GUI properly renders folders that contain specs in Windows now. Fixes <a href="https://github.com/cypress-io/cypress/issues/1335" target="_blank" rel="noopener noreferrer">#1335</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>The viewport dropdown helper in the Runner now displays string quoted JSON instead of an object literal. This better matches how you should write those options in <code>cypress.json</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1350" target="_blank" rel="noopener noreferrer">#1350</a>.</li> </ul> <h1 id="2-0-2" class="article-heading">
2.0.2
</h1>
<p><em>Released 2/17/2018</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Fixed more edge cases where legitimate JavaScript code was being modified unexpectedly by the <a href="../configuration/#Browser"><code>modifyObstructiveCode</code></a> configuration. We’ve tightened up the RegExp even more and added 40 popular JS libraries to test against to ensure they are not modified. Fixes <a href="https://github.com/cypress-io/cypress/issues/1334" target="_blank" rel="noopener noreferrer">#1334</a>.</li> <li>Fixed an edge case when hooks such as <code>beforeEach</code> or <code>afterEach</code> threw an <strong>identical</strong> error message, Cypress would hang indefinitely and never finish running the tests. Fixes <a href="https://github.com/cypress-io/cypress/issues/674" target="_blank" rel="noopener noreferrer">#674</a>.</li> <li>Fixed bug when <code>Errors</code> that threw with no arguments: <code>throw new Error()</code> and had their messages appended would duplicate the message over and over again. Fixes <a href="https://github.com/cypress-io/cypress/issues/1338" target="_blank" rel="noopener noreferrer">#1338</a>.</li> </ul> <h1 id="2-0-1" class="article-heading">
2.0.1
</h1>
<p><em>Released 2/16/2018</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Using <a href="../../../api/commands/contains/"><code>cy.contains()</code></a> with a RegExp argument is now properly escaped. Fixes <a href="https://github.com/cypress-io/cypress/issues/1322" target="_blank" rel="noopener noreferrer">#1322</a>.</li> <li>Fixed a runaway RegExp causing large <code>.js</code> files to take dozens of seconds to process. This was a regression caused by <code>2.0.0</code> with the new <a href="../configuration/#Browser"><code>modifyObstructiveCode</code></a> option. We’ve optimized the RegExp and the performance is back to being almost identical to transparently passing responses through. Fixes <a href="https://github.com/cypress-io/cypress/issues/1330" target="_blank" rel="noopener noreferrer">#1330</a>.</li> </ul> <h1 id="2-0-0" class="article-heading">
2.0.0
</h1>
<p><em>Released 2/15/2018</em></p> <p><strong>Breaking Changes:</strong></p> <ul> <li>The built in default <code>Electron</code> browser has been bumped from version <code>53</code> to <code>59</code>. This version represents the version of <code>Chromium</code> that Electron is using. In other words, running <code>cypress run</code> (or via <code>Electron</code>) will be like running your tests in <code>Chrome 59</code> now. Although it is unlikely this would actually <em>break</em> any of your tests - it is technically possible they could behave differently. Fixes <a href="https://github.com/cypress-io/cypress/issues/895" target="_blank" rel="noopener noreferrer">#895</a> and <a href="https://github.com/cypress-io/cypress/issues/891" target="_blank" rel="noopener noreferrer">#891</a> and <a href="https://github.com/cypress-io/cypress/issues/823" target="_blank" rel="noopener noreferrer">#823</a> and <a href="https://github.com/cypress-io/cypress/issues/860" target="_blank" rel="noopener noreferrer">#860</a> and <a href="https://github.com/cypress-io/cypress/issues/1011" target="_blank" rel="noopener noreferrer">#1011</a> and <a href="https://github.com/cypress-io/cypress/issues/1252" target="_blank" rel="noopener noreferrer">#1252</a> and <a href="https://github.com/cypress-io/cypress/issues/1276" target="_blank" rel="noopener noreferrer">#1276</a>.</li> <li>We are now detecting and automatically stripping code that obstructs Cypress from being able to test your application. Specifically, we are removing JavaScript code that tries to prevent <strong>clickjacking</strong> and <strong>framebusting</strong>. We have written very conservative rules that do their best to <strong>only</strong> strip these specific JS snippets, but it is technically possible that it may unintentionally rewrite valid JS if they match the RegExp patterns. There is a new configuration option called <a href="../configuration/#Browser"><code>modifyObstructiveCode</code></a> that is <code>true</code> by default. If you are experiencing problems after upgrading, you can turn this off and this will disable modifying your JS code. If you were using Cypress and upon visiting your website you would experience seemingly “random” redirects - these problems should now be eliminated. Fixes <a href="https://github.com/cypress-io/cypress/issues/886" target="_blank" rel="noopener noreferrer">#886</a> and <a href="https://github.com/cypress-io/cypress/issues/1245" target="_blank" rel="noopener noreferrer">#1245</a> and <a href="https://github.com/cypress-io/cypress/issues/1064" target="_blank" rel="noopener noreferrer">#1064</a> and <a href="https://github.com/cypress-io/cypress/issues/992" target="_blank" rel="noopener noreferrer">#992</a> and <a href="https://github.com/cypress-io/cypress/issues/692" target="_blank" rel="noopener noreferrer">#692</a> and <a href="https://github.com/cypress-io/cypress/issues/352" target="_blank" rel="noopener noreferrer">#352</a>.</li> <li>We are now clearing the browser’s disk cache each time it opens (before any tests run). This means that any files that have been cached from <code>Cache-Control</code> headers will be cleaned and removed. In the future, we will expose a new <code>cy.clearCache()</code> method to provide finer grained control of clearing the cache on a per test basis. But for now, this is an improvement. Fixes <a href="https://github.com/cypress-io/cypress/issues/1124" target="_blank" rel="noopener noreferrer">#1124</a>.</li> <li>The <code>--spec</code> option is now normalized against the current working directory <code>cwd</code> instead of the project that you are running Cypress in. That means passing a path from the command line to a spec file will now work even when the project path is not <code>cwd</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1159" target="_blank" rel="noopener noreferrer">#1159</a>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>
<a href="../configuration/#Browser"><code>blacklistHosts</code></a> would occasionally not work if you were blacklisting a host that had previously cached a file. In this case, the browser would serve it from disk and not make an actual HTTP request. This issue has been solved by clearing the cache when the browser opens. Fixes <a href="https://github.com/cypress-io/cypress/issues/1154" target="_blank" rel="noopener noreferrer">#1154</a>.</li> <li>
<a href="../configuration/#Browser"><code>blacklistHosts</code></a> is now correctly accepted via the <code>--config</code> CLI flag.</li> <li>Spies and Stubs created with <a href="../../../api/commands/stub/"><code>cy.stub()</code></a> and <a href="../../../api/commands/spy/"><code>cy.spy()</code></a> will now retry their assertions when utilized from an <a href="../../../api/commands/as/">alias</a>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1156" target="_blank" rel="noopener noreferrer">#1156</a>.</li> <li>Basic auth is working again in Chrome 63 and Chrome 64. We “for real” fixed it this time by adding auth headers automatically at the network proxy layer and bypassed the browser altogether. We automatically apply auth headers if you provide a username/password in the URL of a <code>cy.visit(url)</code>. We also added a new <code>auth</code> option to specify the <code>username/password</code> using <code>cy.visit(url, options)</code>. All of the requests that match the origin of the URL will have the <code>Authorization: Basic &lt;...&gt;</code> headers added. Fixes <a href="https://github.com/cypress-io/cypress/issues/1288" target="_blank" rel="noopener noreferrer">#1288</a>.</li> <li>Fixed domain parsing failures when <code>local</code> or <code>localhost</code> was not used as a <code>tld</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1292" target="_blank" rel="noopener noreferrer">#1292</a> and <a href="https://github.com/cypress-io/cypress/issues/1278" target="_blank" rel="noopener noreferrer">#1278</a>.</li> <li>Removed the flag <code>--disable-background-networking</code> from the Chrome launch args to fix problems in CI that would throttle XHR callbacks by up to 20-30 seconds. Fixes <a href="https://github.com/cypress-io/cypress/issues/1320" target="_blank" rel="noopener noreferrer">#1320</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>We now properly display nested objects and arrays that come from <code>cypress.json</code> in the Settings tab in the Desktop Application.</li> <li>There’s now a proper “empty view” when you go to setup your project to record on our Dashboard and you have not created any Organizations. Fixes <a href="https://github.com/cypress-io/cypress/issues/1306" target="_blank" rel="noopener noreferrer">#1306</a>.</li> <li>Removed the message about private projects requiring a paid account in the future. There will be a free tier including private projects. Fixes <a href="https://github.com/cypress-io/cypress/issues/827" target="_blank" rel="noopener noreferrer">#827</a>.</li> <li>We moved the location of the browser’s disk cache. That means that if you’ve been using Cypress for a really long time - you may have built up quite a large existing cache (in the hundreds of <code>mb</code>). Before upgrading, you should open the browser and then manually clear the Cache. Or - if you have already upgraded to <code>2.0.0</code> delete the following folders:<ul> <li>OSX: <code>~/Library/Caches/Cypress</code>
</li> <li>Linux: <code>~/.cache/Cypress</code>
</li> <li>Windows: <code>%APPDATA%\Cypress\cy\production\browsers</code>
</li> </ul> </li> </ul> <h1 id="1-4-2" class="article-heading">
1.4.2
</h1>
<p><em>Released 2/4/2018</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Fixed not being able to visit subdomains when using 2nd level sub domains. Fixes <a href="https://github.com/cypress-io/cypress/issues/1175" target="_blank" rel="noopener noreferrer">#1175</a> and <a href="https://github.com/cypress-io/cypress/issues/600" target="_blank" rel="noopener noreferrer">#600</a>.</li> <li>Fixed not being able to visit private TLD’s from the public suffix such as <code>github.io</code>, <code>gitlab.io</code> or <code>herokuapp.com</code>. These now all work correctly. Fixes <a href="https://github.com/cypress-io/cypress/issues/380" target="_blank" rel="noopener noreferrer">#380</a> and <a href="https://github.com/cypress-io/cypress/issues/402" target="_blank" rel="noopener noreferrer">#402</a> and <a href="https://github.com/cypress-io/cypress/issues/802" target="_blank" rel="noopener noreferrer">#802</a> and <a href="https://github.com/cypress-io/cypress/issues/493" target="_blank" rel="noopener noreferrer">#493</a> and <a href="https://github.com/cypress-io/cypress/issues/1161" target="_blank" rel="noopener noreferrer">#1161</a>.</li> <li>Fixed not being able to visit URLs that used <code>*localhost</code> such as <code>http://app.localhost:8080</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/451" target="_blank" rel="noopener noreferrer">#451</a>.</li> <li>Mochawesome now works correctly and outputs files in all versions. Fixes <a href="https://github.com/cypress-io/cypress/issues/551" target="_blank" rel="noopener noreferrer">#551</a>.</li> <li>Mochawesome will exit correctly with code <code>1</code> when a hook fails. <a href="https://github.com/cypress-io/cypress/issues/1063" target="_blank" rel="noopener noreferrer">#1063</a>.</li> <li>Fixed some incorrect typings with TypeScript. Fixes <a href="https://github.com/cypress-io/cypress/issues/1219" target="_blank" rel="noopener noreferrer">#1219</a> and <a href="https://github.com/cypress-io/cypress/issues/1186" target="_blank" rel="noopener noreferrer">#1186</a>.</li> <li>Fixed bug with custom 3rd party Mocha reporters relying on <code>test.titlePath</code> being a function. Fixes <a href="https://github.com/cypress-io/cypress/issues/1142" target="_blank" rel="noopener noreferrer">#1142</a>.</li> <li>Fixed typo in <code>cypress.schema.json</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1167" target="_blank" rel="noopener noreferrer">#1167</a>.</li> <li>Fixed typo in CLI deps error about Docker. Fixes <a href="https://github.com/cypress-io/cypress/issues/1136" target="_blank" rel="noopener noreferrer">#1136</a>.</li> <li>Prevent <code>NODE_ENV</code> from being set to <code>undefined</code> when parent process did not have it defined. Fixes <a href="https://github.com/cypress-io/cypress/issues/1223" target="_blank" rel="noopener noreferrer">#1223</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>We have begun to aggregate failures and other stats ourselves instead of relying on Mocha reporters. Fixes <a href="https://github.com/cypress-io/cypress/issues/1141" target="_blank" rel="noopener noreferrer">#1141</a>.</li> <li>Added TypeScript <code>should/and</code> autocomplete and typings for Cypress events. Fixes <a href="https://github.com/cypress-io/cypress/issues/1187" target="_blank" rel="noopener noreferrer">#1187</a> and <a href="https://github.com/cypress-io/cypress/issues/1132" target="_blank" rel="noopener noreferrer">#1132</a>.</li> <li>Upgrade deps. Fixes <a href="https://github.com/cypress-io/cypress/issues/1174" target="_blank" rel="noopener noreferrer">#1174</a>.</li> </ul> <h1 id="1-4-1" class="article-heading">
1.4.1
</h1>
<p><em>Released 12/26/2017</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Using <code>DEBUG=cypress:*</code> now correctly outputs all debugging information on OSX and Linux. Previously output other then <code>cypress:cli</code> was ignored due to the CLI ignoring <code>stderr</code> from the binary. Fixes <a href="https://github.com/cypress-io/cypress/issues/921" target="_blank" rel="noopener noreferrer">#921</a>.</li> <li>
<code>stdout</code> is now captured correctly in Windows when recording to the Dashboard. Fixes <a href="https://github.com/cypress-io/cypress/issues/977" target="_blank" rel="noopener noreferrer">#977</a> and issue <a href="https://github.com/cypress-io/cypress/issues/711" target="_blank" rel="noopener noreferrer">#711</a>.</li> <li>Windows now forcibly displays colors correctly to the terminal. Fixes <a href="https://github.com/cypress-io/cypress/issues/1127" target="_blank" rel="noopener noreferrer">#1127</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>
<code>TTY</code> is now handled correctly for Linux and OSX. This means that CI providers which turned off colors due to <code>TTY</code> being false will now display colors again such as TravisCI. Fixes <a href="https://github.com/cypress-io/cypress/issues/1126" target="_blank" rel="noopener noreferrer">#1126</a>.</li> <li>We now handle Xvfb exiting with a non zero status code and display that error to you. This should help with situations where Xvfb is misconfigured on the system. Fixes <a href="https://github.com/cypress-io/cypress/issues/1113" target="_blank" rel="noopener noreferrer">#1113</a>.</li> <li>We’ve added debug output for Xvfb when <code>DEBUG=cypress:xvfb</code> is enabled. Helpful when diagnosing problems with Xvfb. Fixes <a href="https://github.com/cypress-io/cypress/issues/1128" target="_blank" rel="noopener noreferrer">#1128</a>.</li> <li>We’ve added more TypeScript documentation for <code>cy.*</code> methods. Fixes <a href="https://github.com/cypress-io/cypress/issues/1117" target="_blank" rel="noopener noreferrer">#1117</a>.</li> <li>When developing on Cypress, we now start the process through the CLI to bring it into parity with how it works when used in production. Fixes <a href="https://github.com/cypress-io/cypress/issues/838" target="_blank" rel="noopener noreferrer">#838</a>.</li> <li>Upgraded various CLI dependencies that were flagged for security warnings. There wasn’t an actual security problem - just static analyzers complaining. Fixes <a href="https://github.com/cypress-io/cypress/issues/1103" target="_blank" rel="noopener noreferrer">#1103</a>.</li> </ul> <h1 id="1-4-0" class="article-heading">
1.4.0
</h1>
<p><em>Released 12/19/2017</em></p> <p><strong>Features:</strong></p> <ul> <li>There is now a Search Bar in the Desktop GUI that enables you to filter the list of specs. Helpful for projects with a ton of spec files. Fixes <a href="https://github.com/cypress-io/cypress/issues/1098" target="_blank" rel="noopener noreferrer">#1098</a>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>The seeded <code>example_spec.js</code> file no longer fails in Windows on the <a href="../../../api/commands/exec/"><code>cy.exec()</code></a> test. It now conditionally runs a command appropriate for Windows. Fixes <a href="https://github.com/cypress-io/cypress/issues/1097" target="_blank" rel="noopener noreferrer">#1097</a>.</li> <li>Trying to log in to Cypress no longer causes the app to crash. This area has had many more tests added. Fixes <a href="https://github.com/cypress-io/cypress/issues/1093" target="_blank" rel="noopener noreferrer">#1093</a>.</li> <li>Some minor improvements to TypeScript definitions around <a href="../../../api/commands/then/"><code>.then()</code></a>. Fixes <a href="https://github.com/cypress-io/cypress/issues/1084" target="_blank" rel="noopener noreferrer">#1084</a>.</li> <li>The Selector Playground now works correctly in the Electron browser. Fixes <a href="https://github.com/cypress-io/cypress/issues/1086" target="_blank" rel="noopener noreferrer">#1086</a>.</li> </ul> <h1 id="1-3-0" class="article-heading">
1.3.0
</h1>
<p><em>Released 12/17/2017</em></p> <p><strong>Features:</strong></p> <ul> <li>Plugins now emit a <a href="../../tooling/plugins-guide/#Browser-Launching"><code>before:browser:launch</code></a> event exposing you the browser that will be launched and its launch arguments. This enables you to modify the arguments prior to launching the browser. You can also use these arguments to modify how Chrome runs and to also test Chrome extensions. Fixes <a href="https://github.com/cypress-io/cypress/issues/691" target="_blank" rel="noopener noreferrer">#691</a> and <a href="https://github.com/cypress-io/cypress/issues/298" target="_blank" rel="noopener noreferrer">#298</a>.</li> <li>We have launched a “CSS Selector Playground”, a new UI button in the Test Runner that enables you to highlight elements in your application and receive a unique selector. You can also find elements by their text content. These mimics <a href="../../../api/commands/get/"><code>cy.get()</code></a> and <a href="../../../api/commands/contains/"><code>cy.contains()</code></a> behavior. Additionally you can copy the generated Cypress command to your clipboard or output the generated selector to your console. This feature is in beta. It only works in Chrome (not in Electron). We are aware of some bugs in it, but it is good enough for use and feedback. Please check out issue <a href="https://github.com/cypress-io/cypress/issues/917" target="_blank" rel="noopener noreferrer">#917</a>, watch an animated gif demonstration, and leave any feedback you have there. Fixes <a href="https://github.com/cypress-io/cypress/issues/917" target="_blank" rel="noopener noreferrer">#917</a>.</li> </ul> <p>Documentation Changes:</p> <ul> <li><a href="../../../api/plugins/browser-launch-api/">Added <code>Browser Launch API</code></a></li> <li><a href="../../tooling/plugins-guide/">Updated <code>Plugins Guide</code></a></li> <li><a href="../../../api/plugins/writing-a-plugin/">Updated <code>Writing a Plugin API</code></a></li> </ul> <h1 id="1-2-0" class="article-heading">
1.2.0
</h1>
<p><em>Released 12/14/2017</em></p> <p><strong>Features:</strong></p> <ul> <li>Plugins can now return a <code>Promise</code> and modify the yielded <code>config</code> to set new configuration values and environment variables. Fixes <a href="https://github.com/cypress-io/cypress/issues/1042" target="_blank" rel="noopener noreferrer">#1042</a> and <a href="https://github.com/cypress-io/cypress/issues/909" target="_blank" rel="noopener noreferrer">#909</a> and <a href="https://github.com/cypress-io/cypress/issues/576" target="_blank" rel="noopener noreferrer">#576</a>.</li> <li>There is a new <a href="../configuration/#Browser"><code>userAgent</code></a> option in <code>cypress.json</code>. This enables you to change the <code>userAgent</code> of the browser for the entire browsing session. Fixes <a href="https://github.com/cypress-io/cypress/issues/364" target="_blank" rel="noopener noreferrer">#364</a>.</li> <li>There is a new <a href="../configuration/#Browser"><code>blacklistHosts</code></a> option in <code>cypress.json</code> that allows you to block requests made to those hosts. Blocked requests will respond with a <code>503</code> status code. This is useful for blocking 3rd party domains like Google Analytics. We have added a <a href="https://docs.cypress.io/examples/examples/recipes.html#Stubbing-and-spying" target="_blank">new ‘Stubbing Google Analytics’ recipe</a> demonstrating this. Fixes <a href="https://github.com/cypress-io/cypress/issues/442" target="_blank" rel="noopener noreferrer">#442</a>.</li> <li>Added chai assertions in TypeScript to generate autocompletion. Fixes <a href="https://github.com/cypress-io/cypress/issues/1073" target="_blank" rel="noopener noreferrer">#1073</a>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Updated TypeScript definitions to more accurately match the current Cypress API. Fixes <a href="https://github.com/cypress-io/cypress/issues/1050" target="_blank" rel="noopener noreferrer">#1050</a>. Also note that if you were extending Cypress in TypeScript the <code>Chainer</code> interface changed. Please read <a href="https://github.com/cypress-io/cypress/issues/1048#issuecomment-351891910" target="_blank" rel="noopener noreferrer">#1048#issuecomment-351891910</a> to understand what you will need to update.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Renamed <code>environmentVariables</code> to <code>env</code> in the Desktop GUI. Fixes <a href="https://github.com/cypress-io/cypress/issues/1052" target="_blank" rel="noopener noreferrer">#1052</a>.</li> <li>
<a href="../configuration/#Cypress-config"><code>Cypress.config()</code></a> now returns a complete set of configuration values. Fixes <a href="https://github.com/cypress-io/cypress/issues/509" target="_blank" rel="noopener noreferrer">#509</a>.</li> <li>Added TypeScript typings for bundled Cypress tools like <code>$</code>, <code>_</code>, etc. Fixes <a href="https://github.com/cypress-io/cypress/issues/1046" target="_blank" rel="noopener noreferrer">#1046</a>.</li> <li>Some error messages were made more passive. Fixes <a href="https://github.com/cypress-io/cypress/issues/1025" target="_blank" rel="noopener noreferrer">#1025</a>.</li> </ul> <p><strong>Documentation Changes:</strong></p> <ul> <li><a href="../../../api/plugins/configuration-api/">Added <code>Configuration API</code></a></li> <li><a href="https://docs.cypress.io/examples/examples/recipes.html" target="_blank">Added <code>Recipes</code></a></li> <li><a href="../configuration/">Updated <code>Configuration</code></a></li> <li><a href="../../guides/environment-variables/">Updated <code>Environment Variables</code></a></li> <li><a href="https://docs.cypress.io/faq/questions/using-cypress-faq.html" target="_blank">Updated <code>Using Cypress FAQ</code></a></li> <li><a href="../../tooling/plugins-guide/">Updated <code>Plugins Guide</code></a></li> <li><a href="../../../api/plugins/writing-a-plugin/">Updated <code>Writing a Plugin API</code></a></li> </ul> <h1 id="1-1-4" class="article-heading">
1.1.4
</h1>
<p><em>Released 12/6/2017</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Fixed an issue causing <code>Chrome</code> to timeout when attempted to be run through our docker containers. Fixes <a href="https://github.com/cypress-io/cypress/issues/1031" target="_blank" rel="noopener noreferrer">#1031</a>.</li> <li>Several TypeScript typings were added, updated and fixed. Fixes <a href="https://github.com/cypress-io/cypress/issues/1006" target="_blank" rel="noopener noreferrer">#1006</a>.</li> <li>Using a regular <code>http://</code> URL now works when using the <code>CYPRESS_BINARY_VERSION</code> flag to point the binary at an external location. Fixes <a href="https://github.com/cypress-io/cypress/issues/1001" target="_blank" rel="noopener noreferrer">#1001</a>.</li> <li>File watching is fixed (again) when changing between specs. Fixes <a href="https://github.com/cypress-io/cypress/issues/1018" target="_blank" rel="noopener noreferrer">#1018</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>There is now a new <a href="../../getting-started/installing-cypress/#Skipping-installation"><code>CYPRESS_SKIP_BINARY_INSTALL</code></a> flag you can pass during <code>npm install</code> which skips the binary installation after the <code>cypress</code> npm module completes its installation. Fixes <a href="https://github.com/cypress-io/cypress/issues/1005" target="_blank" rel="noopener noreferrer">#1005</a>.</li> <li>We now launch Chrome with <code>--no-sandbox</code> and <code>--disable-gpu</code> options in Linux. We will soon release a new plugin event that enables you to modify the browser arguments we use by default. This <em>shouldn’t</em> cause issues with existing Linux users, and instead it should fix many CI setups that were using our Docker containers or your own home grown installed Chrome setup. Fixes <a href="https://github.com/cypress-io/cypress/issues/1021" target="_blank" rel="noopener noreferrer">#1021</a> and <a href="https://github.com/cypress-io/cypress/issues/1020" target="_blank" rel="noopener noreferrer">#1020</a>.</li> <li>Removed several aliases from our browser detector. These were not implemented properly and not needed - and thus only caused indirection. Fixes <a href="https://github.com/cypress-io/cypress/issues/1023" target="_blank" rel="noopener noreferrer">#1023</a>.</li> </ul> <h1 id="1-1-3" class="article-heading">
1.1.3
</h1>
<p><em>Released 12/3/2017</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>JSON fixtures with unicode escape sequences are now parsed correctly. Fixes <a href="https://github.com/cypress-io/cypress/issues/964" target="_blank" rel="noopener noreferrer">#964</a>.</li> <li>The default <code>browserify</code> plugin no longer fires <code>watched:file:changed</code> twice leading to an uncaught exception that was popping up in the console. Also fixed a minor state bug in the <code>browserify</code> package. Fixes <a href="https://github.com/cypress-io/cypress/issues/968" target="_blank" rel="noopener noreferrer">#968</a>.</li> <li>Cypress no longer reports <code>Electron</code> as the browser that ran in the Dashboard Service when a different browser was run. Fixes <a href="https://github.com/cypress-io/cypress/issues/854" target="_blank" rel="noopener noreferrer">#854</a>.</li> <li>Invalid cookie values no longer crash Cypress. Fixes <a href="https://github.com/cypress-io/cypress/issues/962" target="_blank" rel="noopener noreferrer">#962</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>We are now bundling our own <code>TypeScript</code> definitions with the <code>cypress</code> npm module. You no longer have to install <code>@types/cypress</code> anymore. We’ll continue to keep these updated with API changes. Fixes <a href="https://github.com/cypress-io/cypress/issues/856" target="_blank" rel="noopener noreferrer">#856</a>.</li> <li>Uncaught exceptions originating from <strong>your</strong> application code and/or test code are now <strong>distinctly</strong> and <strong>clearly</strong> indicated in the error message. We included a link to our docs to educate you on how you can optionally disable Cypress from catching these. Fixes <a href="https://github.com/cypress-io/cypress/issues/825" target="_blank" rel="noopener noreferrer">#825</a>.</li> <li>
<a href="../../../api/commands/visit/"><code>cy.visit()</code></a> now accepts <code>{ failOnStatusCode: false }</code> which enables you to visit pages that respond with a non <code>2xx</code> status code. This brings it into parity with <a href="../../../api/commands/request/"><code>cy.request()</code></a>. Fixes <a href="https://github.com/cypress-io/cypress/issues/421" target="_blank" rel="noopener noreferrer">#421</a> and <a href="https://github.com/cypress-io/cypress/issues/574" target="_blank" rel="noopener noreferrer">#574</a>.</li> <li>The contributing Readme’s have been updated and improved for each package. Fixes <a href="https://github.com/cypress-io/cypress/issues/995" target="_blank" rel="noopener noreferrer">#995</a>.</li> <li>Added utility methods <a href="../../../api/cypress-api/platform/"><code>Cypress.platform</code></a> and <a href="../../../api/cypress-api/arch/"><code>Cypress.arch</code></a> for returning the underlying OS information. Uses node’s <code>os</code> module under the hood. Fixes <a href="https://github.com/cypress-io/cypress/issues/824" target="_blank" rel="noopener noreferrer">#824</a> and <a href="https://github.com/cypress-io/cypress/issues/675" target="_blank" rel="noopener noreferrer">#675</a>.</li> </ul> <p><strong>Documentation Changes:</strong></p> <ul> <li><a href="../../../api/cypress-api/version/">Added <code>Cypress.version</code></a></li> <li><a href="../../../api/cypress-api/arch/">Added <code>Cypress.arch</code></a></li> <li><a href="../../../api/cypress-api/platform/">Added <code>Cypress.platform</code></a></li> </ul> <h1 id="1-1-2" class="article-heading">
1.1.2
</h1>
<p><em>Released 11/26/2017</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Fixed a regression caused by <a href="../../../api/commands/type/"><code>.type()</code></a> adhering to <code>maxlength</code> incorrectly. Special character sequences were not respected. Now <a href="../../../api/commands/type/"><code>.type()</code></a> works with special characters and implements a complete fix for <code>maxlength</code>. In addition to it working, it now fires all applicable browser events without modifying the actual input value. Fixes <a href="https://github.com/cypress-io/cypress/issues/955" target="_blank" rel="noopener noreferrer">#955</a>.</li> <li>Errors coming from plugins now display correctly in the Test Runner. Fixes <a href="https://github.com/cypress-io/cypress/issues/945" target="_blank" rel="noopener noreferrer">#945</a>.</li> </ul> <p><strong>Documentation Changes:</strong></p> <ul> <li><a href="../../../plugins/">Added ESLint, Docker, and TypeScript to Plugins</a></li> <li><a href="https://docs.cypress.io/examples/examples/recipes.html" target="_blank">Added recipe for TypeScript with Browserify</a></li> <li><a href="https://docs.cypress.io/examples/examples/recipes.html" target="_blank">Added recipe for TypeScript with Webpack</a></li> <li><a href="https://docs.cypress.io/examples/examples/recipes.html" target="_blank">Added recipe for Direct Controlling AngularJS</a></li> <li><a href="https://docs.cypress.io/examples/examples/recipes.html" target="_blank">Added recipe for E2E API Testing</a></li> <li><a href="https://docs.cypress.io/examples/examples/tutorials.html" target="_blank">Added more video tutorials</a></li> <li><a href="https://docs.cypress.io/examples/examples/recipes.html" target="_blank">Improved displaying list of Tutorials, Recipes, Applications, and Docker examples</a></li> </ul> <h1 id="1-1-1" class="article-heading">
1.1.1
</h1>
<p><em>Released 11/20/2017</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Fixed a bug swallowing plugin errors due to undefined <code>reject</code> function. Fixes <a href="https://github.com/cypress-io/cypress/issues/934" target="_blank" rel="noopener noreferrer">#934</a>.</li> <li>
<a href="../../../api/commands/type/"><code>.type()</code></a> now respects the <code>maxlength</code> attribute and will not type beyond it. Fixes <a href="https://github.com/cypress-io/cypress/issues/928" target="_blank" rel="noopener noreferrer">#928</a>.</li> </ul> <h1 id="1-1-0" class="article-heading">
1.1.0
</h1>
<p><em>Released 11/19/2017</em></p> <p><strong>Summary:</strong></p> <ul> <li>We have officially launched the new <strong>Plugins API</strong> interface. This adds a <code>cypress/plugins/index.js</code> file to new and existing projects. Using this file will enable you to modify the internals of Cypress running in the background <code>node</code> process. This means you will be able to use <code>node</code> APIs that are executed outside of the browser.</li> <li>We have currently added only <a href="../../../api/plugins/writing-a-plugin/#List-of-events">one event</a> for modifying the test file preprocessor, but this paves the way for adding many more event types. You can now modify every aspect of how files are sent to the browser.</li> <li>We have extracted the default Browserify preprocessor into its own package - <a href="https://github.com/cypress-io/cypress-browserify-preprocessor" target="_blank" rel="noopener"><code>@cypress/browserify-preprocessor</code></a>. This is bundled with Cypress, but it is extracted so it can be used / modified by you to change the default options we pass to Browserify. Additionally, you can swap out this preprocessor for something else entirely.</li> </ul> <p><strong>Features:</strong></p> <ul> <li>There is now a <a href="../../tooling/plugins-guide/">Plugins API interface</a>. Partially addresses <a href="https://github.com/cypress-io/cypress/issues/684" target="_blank" rel="noopener noreferrer">#684</a>.</li> <li>We have added the first Plugin API event called: <a href="../../../api/plugins/writing-a-plugin/#List-of-events"><code>file:preprocessor</code></a>. Fixes <a href="https://github.com/cypress-io/cypress/issues/580" target="_blank" rel="noopener noreferrer">#580</a> and <a href="https://github.com/cypress-io/cypress/issues/581" target="_blank" rel="noopener noreferrer">#581</a>.</li> <li>You can now customize the default Babe; configuration options for the Browserify preprocessor. Fixes <a href="https://github.com/cypress-io/cypress/issues/343" target="_blank" rel="noopener noreferrer">#343</a> and <a href="https://github.com/cypress-io/cypress/issues/905" target="_blank" rel="noopener noreferrer">#905</a>.</li> <li>CoffeeScript 2 is supported via modifying the default options for the Browserify preprocessor. Fixes <a href="https://github.com/cypress-io/cypress/issues/663" target="_blank" rel="noopener noreferrer">#663</a>.</li> <li>You can swap out or extend the default preprocessor to do exotic things like compile ClojureScript into JavaScript. Fixes <a href="https://github.com/cypress-io/cypress/issues/533" target="_blank" rel="noopener noreferrer">#533</a>.</li> <li>We have created a <a href="https://github.com/cypress-io/cypress-webpack-preprocessor" target="_blank" rel="noopener"><code>@cypress/webpack-preprocessor</code></a> preprocessor npm package for you webpack users (because we are nice ￰ﾟﾘﾉ). Fixes <a href="https://github.com/cypress-io/cypress/issues/676" target="_blank" rel="noopener noreferrer">#676</a>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>
<a href="../../../api/commands/contains/"><code>cy.contains(selector, regexp)</code></a> now works as intended. Fixes <a href="https://github.com/cypress-io/cypress/issues/801" target="_blank" rel="noopener noreferrer">#801</a>.</li> <li>We no longer format fixtures in any capacity. This fixes a bug with improperly formatting fixtures in Windows. You should handle formatting fixtures yourself. Fixes <a href="https://github.com/cypress-io/cypress/issues/884" target="_blank" rel="noopener noreferrer">#884</a> and <a href="https://github.com/cypress-io/cypress/issues/902" target="_blank" rel="noopener noreferrer">#902</a>.</li> <li>
<a href="../../../api/commands/viewport/"><code>cy.viewport()</code></a> resolves if only width or only height changes. Fixes <a href="https://github.com/cypress-io/cypress/issues/873" target="_blank" rel="noopener noreferrer">#873</a>.</li> <li>Cypress now auto reloads when spec files are modified in Windows. Fixes <a href="https://github.com/cypress-io/cypress/issues/712" target="_blank" rel="noopener noreferrer">#712</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>There is a new <code>--global</code> option useful with <a href="../../guides/command-line/#cypress-open"><code>cypress open</code></a> to force Cypress to open in global mode. This is helpful when you have multiple nested Cypress projects but only want to install Cypress once in the root project. Fixes <a href="https://github.com/cypress-io/cypress/issues/889" target="_blank" rel="noopener noreferrer">#889</a>.</li> <li>The <a href="../../guides/module-api/">module API</a> accepts <code>reporterOptions</code> as an object literal like it does for the <code>env</code> and <code>config</code> properties. Fixes <a href="https://github.com/cypress-io/cypress/issues/899" target="_blank" rel="noopener noreferrer">#899</a>.</li> </ul> <p><strong>Documentation Changes:</strong></p> <ul> <li><a href="https://docs.cypress.io/examples/examples/tutorials.html" target="_blank">Created “Testing React TodoMVC” tutorials</a></li> <li><a href="../../core-concepts/variables-and-aliases/">Created “Variables and Aliases” core concept</a></li> <li><a href="../../core-concepts/conditional-testing/">Created “Conditional Testing” core concept</a></li> <li><a href="../../tooling/plugins-guide/">Created “Plugins” guide</a></li> <li><a href="../../../plugins/">Created “List of Plugins”</a></li> <li><a href="../../../api/plugins/writing-a-plugin/">Created “Writing a Plugin” API</a></li> <li><a href="../../../api/plugins/preprocessors-api/">Created “Preprocessors API”</a></li> <li><a href="https://docs.cypress.io/faq/questions/using-cypress-faq.html" target="_blank">Updated “Using Cypress FAQ”</a></li> <li><a href="../best-practices/">Updated “Best Practices”</a></li> </ul> <h1 id="1-0-3" class="article-heading">
1.0.3
</h1>
<p><em>Released 10/29/2017</em></p> <p><strong>Features:</strong></p> <ul> <li>The Test Runner now enables you to collapse folders when displaying a list of specs. Fixes <a href="https://github.com/cypress-io/cypress/issues/760" target="_blank" rel="noopener noreferrer">#760</a>. Contributed by <a href="https://github.com/metcorne" target="_blank" rel="noopener noreferrer">@metcorne</a>.</li> </ul> <p><strong>Bugfixes</strong></p> <ul> <li>The <code>onChange</code> event callback for React now works (again) on <code>input</code> type <code>number</code> or <code>email</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/816" target="_blank" rel="noopener noreferrer">#816</a> and <a href="https://github.com/cypress-io/cypress/issues/770" target="_blank" rel="noopener noreferrer">#770</a>.</li> <li>Fixed error when recording and failing to parse the git commit message. Fixes <a href="https://github.com/cypress-io/cypress/issues/847" target="_blank" rel="noopener noreferrer">#847</a> and <a href="https://github.com/cypress-io/cypress/issues/841" target="_blank" rel="noopener noreferrer">#841</a>.</li> <li>Using a single space on: <code>cy.type(' ')</code> now works. Fixes <a href="https://github.com/cypress-io/cypress/issues/807" target="_blank" rel="noopener noreferrer">#807</a>. Contributed by <a href="https://github.com/tejasbubane" target="_blank" rel="noopener noreferrer">@tejasbubane</a>.</li> <li>
<code>cy.spread()</code> can now be used on a collection of DOM elements. Fixes <a href="https://github.com/cypress-io/cypress/issues/735" target="_blank" rel="noopener noreferrer">#735</a>. Contributed by <a href="https://github.com/verheyenkoen" target="_blank" rel="noopener noreferrer">@verheyenkoen</a>.</li> <li>CLI shows help message when it is invoked with an unknown command like <code>$(npm bin)/cypress foo</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/641" target="_blank" rel="noopener noreferrer">#641</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Enable passing <code>CYPRESS_RECORD_KEY</code> without using the CLI by invoking the binary directly. Fixes <a href="https://github.com/cypress-io/cypress/issues/820" target="_blank" rel="noopener noreferrer">#820</a>.</li> <li>Cypress binaries can now be pointed to a staging environment with <code>CYPRESS_ENV=staging</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/813" target="_blank" rel="noopener noreferrer">#813</a>.</li> <li>The Test Runner displays the scrollbar correctly when the update banner is displayed. Fixes <a href="https://github.com/cypress-io/cypress/issues/803" target="_blank" rel="noopener noreferrer">#803</a>.</li> <li>The branch name is now properly collected when recording in Buildkite CI. Fixes <a href="https://github.com/cypress-io/cypress/issues/777" target="_blank" rel="noopener noreferrer">#777</a>.</li> <li>You can install the Cypress binary from any URL or file path using the <a href="../../getting-started/installing-cypress/#Advanced"><code>CYPRESS_BINARY_VERSION</code> environment variable</a>. Closes <a href="https://github.com/cypress-io/cypress/issues/701" target="_blank" rel="noopener noreferrer">#701</a>.</li> </ul> <p><strong>Documentation Changes:</strong></p> <ul> <li><a href="../../core-concepts/conditional-testing/">Created “Conditional Testing” core concept</a></li> <li><a href="../../overview/key-differences/">Created “Key Differences” core concept</a></li> <li><a href="../best-practices/">Updated “Best Practices”</a></li> <li><a href="https://docs.cypress.io/faq/questions/using-cypress-faq.html" target="_blank">Updated “FAQ Usage”</a></li> </ul> <h1 id="1-0-2" class="article-heading">
1.0.2
</h1>
<p><em>Released 10/13/2017</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>
<code>cy.type</code> now correctly fires change events on React 16. Fixes <a href="https://github.com/cypress-io/cypress/issues/647" target="_blank" rel="noopener noreferrer">#647</a>.</li> <li>Fixed some problems serializing objects during domain change caused by circular references. In this case <code>zone.js</code> was the culprit. Fixes <a href="https://github.com/cypress-io/cypress/issues/741" target="_blank" rel="noopener noreferrer">#741</a>. Contributed by <a href="https://github.com/MariMax" target="_blank" rel="noopener noreferrer">@MariMax</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>
<code>cy.scrollTo</code> now logs its coordinates when options are used. Fixes <a href="https://github.com/cypress-io/cypress/issues/725" target="_blank" rel="noopener noreferrer">#725</a>. Contributed by <a href="https://github.com/sirugh" target="_blank" rel="noopener noreferrer">@sirugh</a>.</li> <li>You can now use environment variables that have a <code>=</code> character as values. Fixes <a href="https://github.com/cypress-io/cypress/issues/620" target="_blank" rel="noopener noreferrer">#620</a>. Contributed by <a href="https://github.com/HugoGiraudel" target="_blank" rel="noopener noreferrer">@HugoGiraudel</a>.</li> <li>There is now a new <code>videoUploadOnPasses</code> configuration option in <code>cypress.json</code>. Turning this off will only compress and upload videos on failures. This only affects projects which are setup to record to the Dashboard. Fixes <a href="https://github.com/cypress-io/cypress/issues/460" target="_blank" rel="noopener noreferrer">#460</a>. Contributed by <a href="https://github.com/carlos-granados" target="_blank" rel="noopener noreferrer">@carlos-granados</a>.</li> </ul> <p><strong>Documentation Changes:</strong></p> <ul> <li><a href="../../../api/events/catalog-of-events/">Added examples for “Catalog of Events”</a></li> <li><a href="https://docs.cypress.io/faq/questions/using-cypress-faq.html" target="_blank">Added / Updated FAQ for “Using Cypress”</a></li> </ul> <h1 id="1-0-1" class="article-heading">
1.0.1
</h1>
<p><em>Released 10/10/2017</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Prevent error during verification in the CLI on Linux / OSX. Also makes terminal colors work again. Fixes <a href="https://github.com/cypress-io/cypress/issues/717" target="_blank" rel="noopener noreferrer">#717</a> and <a href="https://github.com/cypress-io/cypress/issues/718" target="_blank" rel="noopener noreferrer">#718</a>.</li> </ul> <h1 id="1-0-0" class="article-heading">
1.0.0
</h1>
<p><em>Released 10/09/2017</em></p> <p><strong>Summary:</strong></p> <ul> <li>
<code>1.0.0</code> marks our transition out of a <strong>private</strong> beta and into a <strong>public</strong> beta. We’ve lifted all the restrictions for using Cypress. It is now accessible to everyone. Until we are out of beta, the <a href="../../dashboard/introduction/">Dashboard Service</a> will continue to be free.</li> <li>We will continue to follow <code>semver</code> from this point on (and also a bit more rigorously).</li> <li>Cypress is now <a href="https://github.com/cypress-io/cypress" target="_blank" rel="noopener">open source</a>! This project is licensed under the terms of the <a href="https://github.com/cypress-io/cypress/blob/develop/LICENSE.md" target="_blank" rel="noopener">MIT License</a>.</li> <li>We have a <a href="https://on.cypress.io/contributing" target="_blank" rel="noopener">Contributing Guideline</a> to help contributors get started as well as <a href="https://github.com/cypress-io/cypress/labels/first-timers-only" target="_blank" rel="noopener">issues labeled <code>first-timers-only</code></a> for those wanting to contribute right away.</li> <li>You can now use the Test Runner application without logging in. Some areas of the application still require logging in through GitHub, like the ‘Runs’ tab and viewing the project’s ‘Record Key’. The only places where login is required is when it interacts with our external servers. Naturally these places are optional and will not affect the local test writing + running experience.</li> <li>We’ve removed the requirement of filling out an early adopter form and approval for logging in with GitHub to Cypress.</li> <li>
<a href="http://www.cypress.io" target="_blank" rel="noopener">www.cypress.io</a> has an all new design to help new visitors get started quickly and understand our future pricing more clearly.</li> <li>We are still updating the docs to reflect the <code>1.0.0</code> release.</li> </ul> <p><strong>Features:</strong></p> <ul> <li>Windows is now supported. We have been running it successfully on EC2 and all of our example projects are also running in CI with AppVeyor. It is still super beta (we’re aware of a couple issues already) and we’re still updating our own infrastructure to manage and test it as comprehensively as we do OSX and Linux. We are only building a 32bit version of Windows, but will soon be building a 64bit as well. As of today the Windows binary is about 2x the size of what it will be. Unzipping takes a long time, we are sorry. Fixes <a href="https://github.com/cypress-io/cypress/issues/74" target="_blank" rel="noopener noreferrer">#74</a> and <a href="https://github.com/cypress-io/cypress/issues/444" target="_blank" rel="noopener noreferrer">#444</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Added the <code>Beta</code> flag everywhere (since we are still technically in beta).</li> <li>Reduced the frequency the app checked for updates. Fixes <a href="https://github.com/cypress-io/cypress/issues/713" target="_blank" rel="noopener noreferrer">#713</a>.</li> <li>The CLI now sends <code>arch</code> parameter to the download server so we can build and serve multiple binaries for Windows + Linux.</li> </ul> <p><strong>Documentation Changes:</strong></p> <ul> <li><a href="../../getting-started/installing-cypress/">Updated “Installing Cypress”</a></li> <li><a href="../../getting-started/writing-your-first-test/">Updated “Writing your First Test”</a></li> <li>Added a 10 minute Getting Started video that <a href="https://github.com/avanslaars" target="_blank" rel="noopener">Andrew Van Slaars</a> created.</li> </ul> <h1 id="0-20-3" class="article-heading">
0.20.3
</h1>
<p><em>Released 10/06/2017</em></p> <ul> <li>Improved verifying the binary for the first time after an <code>npm install</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/709" target="_blank" rel="noopener noreferrer">#709</a>.</li> </ul> <h1 id="0-20-2" class="article-heading">
0.20.2
</h1>
<p><em>Released 10/06/2017</em></p> <p><strong>Possibly Breaking Changes:</strong></p> <ul> <li>
<a href="../../../api/commands/exec/"><code>cy.exec()</code></a> now trims output by default. That means if you were using an <code>eq</code> assertion the output will no longer have a trailing newline character <code>\n</code>. It’s unlikely you are doing this, but it is possible you may need to update your assertions to remove this character. Fixes <a href="https://github.com/cypress-io/cypress/issues/697" target="_blank" rel="noopener noreferrer">#697</a>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Handle errors gracefully when Electron window has been closed before paint events happen. Fixes <a href="https://github.com/cypress-io/cypress/issues/705" target="_blank" rel="noopener noreferrer">#705</a>.</li> <li>Basic auth now works <em>again</em>. Fixes <a href="https://github.com/cypress-io/cypress/issues/573" target="_blank" rel="noopener noreferrer">#573</a>.</li> <li>
<a href="../../../api/commands/exec/"><code>cy.exec()</code></a> now properly sources each time it is invoked instead of only once. Fixes <a href="https://github.com/cypress-io/cypress/issues/694" target="_blank" rel="noopener noreferrer">#694</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>
<code>cypress open</code> now accepts the <code>--project</code> flag which enables you to use a root level Cypress installation and point to multiple sub projects. Fixes <a href="https://github.com/cypress-io/cypress/issues/661" target="_blank" rel="noopener noreferrer">#661</a>.</li> <li>Prevent newer versions of Chrome from prompting you to save passwords and suppressed other extension related popups for Windows. Fixes <a href="https://github.com/cypress-io/cypress/issues/704" target="_blank" rel="noopener noreferrer">#704</a>.</li> </ul> <h1 id="0-20-1" class="article-heading">
0.20.1
</h1>
<p><em>Released 09/17/2017</em></p> <p><strong>Features:</strong></p> <ul> <li>
<code>cypress run</code> now supports a <code>--headed</code> option so the Electron browser will display instead of running headlessly. This matches what you can already do in the GUI. Fixes <a href="https://github.com/cypress-io/cypress/issues/657" target="_blank" rel="noopener noreferrer">#657</a>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Using Cypress on nested projects now correctly works. Fixes <a href="https://github.com/cypress-io/cypress/issues/635" target="_blank" rel="noopener noreferrer">#635</a>.</li> <li>Using <code>cy.type</code> on Angular 2 apps now works. We’re now firing the <code>key</code> property when typing. We’ve properly mapped all the special keys too.</li> <li>
<code>onBeforeLoad</code> now gets invoked when overriding <code>cy.visit</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/656" target="_blank" rel="noopener noreferrer">#656</a> and <a href="https://github.com/cypress-io/cypress/issues/640" target="_blank" rel="noopener noreferrer">#640</a>.</li> <li>Using multiple <code>cy.visit</code> back to back which only change the <code>hash</code> now properly wait for the <code>hashchange</code> event to occur before moving on. Fixes <a href="https://github.com/cypress-io/cypress/issues/652" target="_blank" rel="noopener noreferrer">#652</a>.</li> <li>CLI now displays the correct overridden <code>CYPRESS_BINARY_VERSION</code> on first open. Fixes <a href="https://github.com/cypress-io/cypress/issues/659" target="_blank" rel="noopener noreferrer">#659</a>.</li> <li>Fixed the incorrectly spelled chainer <code>descendents</code>. It is now correctly spelled as <code>descendants</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/642" target="_blank" rel="noopener noreferrer">#642</a>.</li> <li>The visibility algorithm has been considerably improved. Should fix most if not all visibility problems. We accounted for CSS transforms, translations, and added a new branch of logic for <code>position: fixed</code> elements which should be much more accurate. Fixes <a href="https://github.com/cypress-io/cypress/issues/631" target="_blank" rel="noopener noreferrer">#631</a>.</li> <li>The CLI now treats <code>-h</code> and <code>--help</code> and <code>help</code> as valid commands. Fixes <a href="https://github.com/cypress-io/cypress/issues/645" target="_blank" rel="noopener noreferrer">#645</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>You can now pass an object literal as <code>config</code> when using Cypress as a node module. Fixes <a href="https://github.com/cypress-io/cypress/issues/639" target="_blank" rel="noopener noreferrer">#639</a>.</li> <li>Passing <code>--reporter</code> can now reference an absolute path instead of just relative. Fixes <a href="https://github.com/cypress-io/cypress/issues/658" target="_blank" rel="noopener noreferrer">#658</a>.</li> <li>The algorithm that ensures an element is not covered now calculates this at the center coordinates instead of the top left. This should yield more accurate results, be closer to the default expectations of users, and bypass fractional pixel problems we were having. Fixes <a href="https://github.com/cypress-io/cypress/issues/655" target="_blank" rel="noopener noreferrer">#655</a>.</li> <li>Improved crash reporting when the binary throws an uncaught error.</li> </ul> <p><strong>Documentation Changes:</strong></p> <ul> <li><a href="../../guides/command-line/">Updated “Command Line”</a></li> <li><a href="../../core-concepts/interacting-with-elements/">Updated “Interacting with Elements”</a></li> </ul> <h1 id="0-20-0" class="article-heading">
0.20.0
</h1>
<p><em>Released 09/10/2017</em></p> <p><strong>Summary:</strong></p> <ul> <li>
<code>0.20.0</code> is our biggest technical release ever. It accounts for more than 2,000 commits. It’s full of breaking changes we wanted to land prior to having our public <code>1.0.0</code> release.</li> <li>You can now <a href="../../getting-started/installing-cypress/">install Cypress as a real <code>npm</code> module</a>, and even <code>require</code> it in your node files.</li> <li>We rewrote the entire driver (we’ve all been there) and converted all 2,500+ tests to be run within Cypress itself.</li> </ul> <p><strong>CLI Changes:</strong></p> <ul> <li>You now use <code>npm</code> to manage Cypress versions like every other dev dependency.</li> <li>Running <code>npm install --save-dev cypress</code> will automatically download the CLI + binary.</li> <li>There is no longer a separate <code>cypress install</code> step, but this command still exists if you want to <strong>reinstall</strong> the binary for whatever reason.</li> <li>No need to use <code>cypress-cli</code> anymore to manage Cypress versions. <strong>You will need to uninstall the <code>cypress-cli</code> by running <code>npm uninstall -g cypress-cli</code></strong>.</li> <li>The <a href="../../guides/module-api/"><code>cypress</code> module can be <code>required</code></a> in your own node projects to programmatically control Cypress the same way you would from the command line.</li> <li>We’ve updated the installation experience to account for running locally and in CI so it doesn’t generate a ton of logs in <code>stdout</code>.</li> <li>The <code>CYPRESS_VERSION</code> environment variable is gone because now the version of the binary is controlled by the npm module version. If for some reason you want to download the binary of a different version you can use the new <code>CYPRESS_BINARY_VERSION</code> environment variable - but you’ll get a warning message when the versions don’t match.</li> <li>If you install cypress globally using <code>npm install -g cypress</code> we will warn you that you should check this in as a <code>devDependency</code> but Cypress will continue to work in “global mode”.</li> <li>Cypress now verifies it can run on your system prior to actually running. It’ll do this for each new version the first time you try to use it. Errors it receives from attempting to run will bubble up nicely, so you’ll get output for things like <a href="../../guides/continuous-integration/#Dependencies">missing linux dependencies</a> instead of absolutely <em>nothing</em> like before.</li> <li>We have better error handling and messaging around Xvfb failures.</li> <li>There is a new <a href="../../guides/command-line/#cypress-run"><code>–browser</code> option</a> that lets you change the browser that runs from the command line. This works the same way as changing the browser in the GUI, with the exception that any browser other than the default <code>electron</code> browser will <strong>not</strong> record a video. This is solvable but requires more work.</li> <li>Whenever you encounter errors in the CLI we’ll output helpful debugging information at the bottom of each error.</li> <li>You can use the new environment variable <a href="../../guides/command-line/#Debugging-commands"><code>DEBUG=cypress:cli</code></a> to see debugging output from the CLI.</li> </ul> <p><strong>Breaking Changes:</strong></p> <ul> <li>We’ve removed the undocumented <code>cy.chain()</code> command. You should be able to safely remove this from your code. Fixes <a href="https://github.com/cypress-io/cypress/issues/456" target="_blank" rel="noopener noreferrer">#456</a>.</li> <li>Updated <a href="../../../api/utilities/_/"><code>Cypress._</code></a> to use <a href="https://lodash.com/" target="_blank" rel="noopener">lodash</a> instead of <a href="http://underscorejs.org/" target="_blank" rel="noopener">Underscore</a>. Fixes <a href="https://github.com/cypress-io/cypress/issues/548" target="_blank" rel="noopener noreferrer">#548</a>.</li> <li>If any of an element’s parent’s overflow is ‘hidden’, we now calculate if the element is outside of the boundaries of that parent element and validate visibility assertions accordingly. This may cause some tests that were previously passing to now accurately fail. Fixes <a href="https://github.com/cypress-io/cypress/issues/410" target="_blank" rel="noopener noreferrer">#410</a>.</li> <li>
<a href="../../../api/commands/select/"><code>.select()</code></a> should now look for the trimmed value inside of an <code>&lt;option&gt;&lt;/option&gt;</code>. This may change the content argument required to select the option you intended in your <a href="../../../api/commands/select/"><code>.select()</code></a> command. Fixes <a href="https://github.com/cypress-io/cypress/issues/175" target="_blank" rel="noopener noreferrer">#175</a>.</li> <li>When passing the option <code>{ force: true }</code> to <a href="../../../api/commands/click/"><code>.click()</code></a> and <a href="../../../api/commands/type/"><code>.type()</code></a>, we no longer attempt to scroll the element into view. We’ve also disabled the check that the element is in view before clicking or typing. Fixes <a href="https://github.com/cypress-io/cypress/issues/553" target="_blank" rel="noopener noreferrer">#553</a> and <a href="https://github.com/cypress-io/cypress/issues/537" target="_blank" rel="noopener noreferrer">#537</a>.</li> <li>
<code>Cypress.Dom</code> has been renamed to <code>Cypress.dom</code>.</li> <li>
<code>Cypress.Log.command</code> has been renamed to <a href="../../../api/cypress-api/cypress-log/"><code>Cypress.log</code></a>.</li> <li>
<a href="../assertions/#Chai-jQuery"><code>chai-jQuery</code> assertions</a> no longer change the subject when using <code>prop</code>, <code>attr</code>, and <code>css</code> with the <strong>3rd</strong> argument (which acts as equality check). Fixes <a href="https://github.com/cypress-io/cypress/issues/605" target="_blank" rel="noopener noreferrer">#605</a>.</li> <li>We now throw when a value other than <code>cy</code> is returned from a test or command function. Fixes <a href="https://github.com/cypress-io/cypress/issues/463" target="_blank" rel="noopener noreferrer">#463</a>.</li> <li>Returning a promise in a custom command while also invoking cy commands now throws. Fixes <a href="https://github.com/cypress-io/cypress/issues/435" target="_blank" rel="noopener noreferrer">#435</a>.</li> <li>
<a href="../../../api/commands/then/"><code>cy.then()</code></a> will now only pass its subject through when its callback function returns <code>undefined</code>. Previous it would pass the subject on <code>null</code> values as well.</li> <li>
<a href="../../../api/commands/contains/"><code>cy.contains()</code></a> can no longer be chained on subjects which aren’t <code>window</code>, <code>document</code> or <code>element</code>. This brings it into parity with the new custom command rules and makes it much less “magical”. It enforces you to use it in a much clearer way when querying the entire document.</li> <li>Removed <code>Cypress.addParentCommand()</code>, <code>Cypress.addChildCommand()</code>, and <code>Cypress.addDualCommand()</code> in favor of the <a href="../../../api/cypress-api/custom-commands/">new custom command interface</a>.</li> </ul> <p><strong>Features:</strong></p> <ul> <li>
<a href="../assertions/#Chai-jQuery"><code>chai-jQuery</code> assertions</a> have improved error messaging, and have had their internal double assertions removed, and can now be made on raw DOM objects. Fixes <a href="https://github.com/cypress-io/cypress/issues/605" target="_blank" rel="noopener noreferrer">#605</a>.</li> <li>
<a href="../assertions/#Chai-jQuery"><code>chai-jQuery</code> assertions</a> now throw a nice error message when you’re asserting on a non DOM object. Fixes <a href="https://github.com/cypress-io/cypress/issues/604" target="_blank" rel="noopener noreferrer">#604</a>.</li> <li>New <a href="../../../api/commands/trigger/"><code>.trigger()</code></a> command. Useful for triggering arbitrary events. Fixes <a href="https://github.com/cypress-io/cypress/issues/406" target="_blank" rel="noopener noreferrer">#406</a>.</li> <li>New <a href="../../../api/commands/scrollto/"><code>cy.scrollTo()</code></a> command. Useful for having a container scroll to a specific position. Fixes <a href="https://github.com/cypress-io/cypress/issues/497" target="_blank" rel="noopener noreferrer">#497</a> &amp; <a href="https://github.com/cypress-io/cypress/issues/313" target="_blank" rel="noopener noreferrer">#313</a>.</li> <li>New <a href="../../../api/commands/scrollintoview/"><code>.scrollIntoView()</code></a> command. Useful for scrolling an element into view. Fixes <a href="https://github.com/cypress-io/cypress/issues/498" target="_blank" rel="noopener noreferrer">#498</a> &amp; <a href="https://github.com/cypress-io/cypress/issues/313" target="_blank" rel="noopener noreferrer">#313</a> &amp; <a href="https://github.com/cypress-io/cypress/issues/519" target="_blank" rel="noopener noreferrer">#519</a>.</li> <li>Input ranges are now more easily testable using the new <a href="../../../api/commands/trigger/"><code>.trigger()</code></a> command. See our <a href="../recipes/#Form-Interactions">new recipe</a> for details on how. Fixes <a href="https://github.com/cypress-io/cypress/issues/287" target="_blank" rel="noopener noreferrer">#287</a>.</li> <li>Testing drag and drop is now possible using the new <a href="../../../api/commands/trigger/"><code>.trigger()</code></a> command. See our <a href="../recipes/#Form-Interactions">new recipe</a> for details on how. Fixes <a href="https://github.com/cypress-io/cypress/issues/386" target="_blank" rel="noopener noreferrer">#386</a>.</li> <li>Updated <a href="../../../api/commands/click/"><code>.click()</code></a> command to accept more position arguments. Fixes <a href="https://github.com/cypress-io/cypress/issues/499" target="_blank" rel="noopener noreferrer">#499</a>.</li> <li>Added support to <a href="../../../api/commands/type/"><code>.type()</code></a> for inputs of type <code>date</code>, <code>time</code>, <code>month</code>, and <code>week</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/27" target="_blank" rel="noopener noreferrer">#27</a>.</li> <li>You can now pass a browser option to <a href="../../guides/command-line/#cypress-run"><code>cypress run</code></a> as <code>--browser &lt;browser name&gt;</code>. This enables you to run the same set of browsers when running from the CLI as when you’re running from the GUI. Fixes <a href="https://github.com/cypress-io/cypress/issues/462" target="_blank" rel="noopener noreferrer">#462</a> and <a href="https://github.com/cypress-io/cypress/issues/531" target="_blank" rel="noopener noreferrer">#531</a>.</li> <li>
<a href="../../guides/command-line/#cypress-open"><code>cypress open</code></a> no longer opens a detached process by default. Instead <code>cypress open</code> now accepts a new flag <code>--detached</code>, which replicates this behavior. Fixes <a href="https://github.com/cypress-io/cypress/issues/531" target="_blank" rel="noopener noreferrer">#531</a>.</li> <li>We have all new <a href="https://docs.cypress.io/examples/examples/docker.html" target="_blank">docker examples</a> you can check out.</li> <li>The <a href="https://www.npmjs.com/package/cypress" target="_blank" rel="noopener"><code>cypress</code> npm package</a> now checks the currently installed version on <code>install</code> and <a href="../../guides/command-line/#cypress-run"><code>run</code></a> and does not re-install Cypress if it is already installed. Fixes <a href="https://github.com/cypress-io/cypress/issues/396" target="_blank" rel="noopener noreferrer">#396</a>.</li> <li>We’ve added a new <a href="../../../api/cypress-api/custom-commands/"><code>Cypress.Commands</code></a> interface to handle adding your own custom commands. Fixes <a href="https://github.com/cypress-io/cypress/issues/436" target="_blank" rel="noopener noreferrer">#436</a>.</li> <li>You can now overwrite existing commands with <a href="../../../api/cypress-api/custom-commands/"><code>Cypress.Commands.overwrite</code></a>. 
</li> <li>We removed an artificial delay that was being set in between commands. This means test commands now run faster.</li> <li>You can now <a href="../../../api/events/catalog-of-events/">disable Cypress global exception handlers</a> for your application. Fixes <a href="https://github.com/cypress-io/cypress/issues/254" target="_blank" rel="noopener noreferrer">#254</a>
</li> <li>Uncaught errors appearing in your spec files or support files are now properly caught, have the right exit code, and display correctly. Fixes <a href="https://github.com/cypress-io/cypress/issues/345" target="_blank" rel="noopener noreferrer">#345</a>
</li> <li>Cypress will now scroll past multiple elements that cover up an element to be interacted with. It also now factors in elements with <code>position: sticky</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/571" target="_blank" rel="noopener noreferrer">#571</a> and <a href="https://github.com/cypress-io/cypress/issues/565" target="_blank" rel="noopener noreferrer">#565</a>.</li> <li>Cypress now scrolls all parent containers (not just <code>window</code>) when attempting to <a href="../../core-concepts/interacting-with-elements/#Actionability">check an element’s actionability</a>. Fixes <a href="https://github.com/cypress-io/cypress/issues/569" target="_blank" rel="noopener noreferrer">#569</a>.</li> <li>Using <a href="../assertions/#TDD-Assertions">Chai.js’s <code>assert</code> interface</a> now works correctly in your specs. 
</li> <li>Screenshots are now taken during each runnable that fails. Errors in tests will happen there. Errors in hooks will also happen there. Previously a screenshot would only happen after everything (including hooks) ran. Fixes <a href="https://github.com/cypress-io/cypress/issues/394" target="_blank" rel="noopener noreferrer">#394</a>
</li> <li>
<a href="../../../api/commands/screenshot/"><code>cy.screenshot()</code></a> now synchronizes its state with the reporter. This means you should see error messages (on the left side) on automatic screenshot errors.</li> <li>Using mocha’s async <code>done</code> callback now works properly.</li> <li>You can now programmatically <a href="../../../api/events/catalog-of-events/">intercept and potentially turn off uncaught application errors</a> from failing your tests.</li> <li>You can now programmatically control whether you accept or cancel <a href="../../../api/events/catalog-of-events/"><code>window.confirm()</code></a> calls from your application.</li> </ul> <p><strong>Dependencies:</strong></p> <ul> <li>Updated <a href="../../../api/utilities/promise/"><code>Cypress.Promise</code></a> (which is Bluebird) from version <code>2.9.25</code> to <code>3.5.0</code>
</li> <li>Updated <a href="../bundled-tools/#Chai"><code>chai</code></a> from version <code>1.9.2</code> to <code>3.5.0</code>
</li> <li>Updated <a href="../bundled-tools/#Sinon"><code>sinon</code></a> from version <code>1.x</code> to <code>3.2.0</code>
</li> <li>Updated <a href="../../../api/utilities/%24/"><code>jQuery</code></a> from version <code>2.1.4</code> to <code>2.2.4</code>.</li> <li>Removed <a href="../bundled-tools/#Chai-jQuery"><code>chai-jQuery</code></a> and rewrote it from scratch.</li> </ul> <p><strong>Deprecations:</strong></p> <ul> <li>The <a href="https://www.npmjs.com/package/cypress-cli" target="_blank" rel="noopener"><code>cypress-cli</code> npm package</a> has been deprecated. Fixes <a href="https://github.com/cypress-io/cypress/issues/316" target="_blank" rel="noopener noreferrer">#316</a>.</li> <li>The interface for writing custom commands has been deprecated. <a href="../../../api/cypress-api/custom-commands/">Please read our docs on the new custom commands interface</a>. Fixes <a href="https://github.com/cypress-io/cypress/issues/436" target="_blank" rel="noopener noreferrer">#436</a> and <a href="https://github.com/cypress-io/cypress/issues/465" target="_blank" rel="noopener noreferrer">#465</a>.</li> <li>There are no more global, in-app updates. Versioning should be primarily <a href="../../getting-started/installing-cypress/">controlled via <code>npm</code></a> like every other package / dependency in your project. For users not using <code>npm</code> you can manually download new versions of Cypress when they’re released. 
</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Fixed busted internal timers that caused random timeouts, proxy errors, incorrect delays, and long pauses when loading the GUI. Fixes <a href="https://github.com/cypress-io/cypress/issues/572" target="_blank" rel="noopener noreferrer">#572</a>.</li> <li>
<a href="../../../api/commands/route/"><code>cy.route()</code></a> now matches requests opened with lowercase methods. Fixes <a href="https://github.com/cypress-io/cypress/issues/607" target="_blank" rel="noopener noreferrer">#607</a>.</li> <li>Fixed regression where multiple uses of <a href="../../../api/commands/server/"><code>cy.server()</code></a> in a <code>before</code> hook was throwing an error. Fixes <a href="https://github.com/cypress-io/cypress/issues/80" target="_blank" rel="noopener noreferrer">#80</a> and <a href="https://github.com/cypress-io/cypress/issues/510" target="_blank" rel="noopener noreferrer">#510</a> and <a href="https://github.com/cypress-io/cypress/issues/595" target="_blank" rel="noopener noreferrer">#595</a>.</li> <li>When editing <code>cypress.json</code> file, the dead browser page no longer appears. Fixes <a href="https://github.com/cypress-io/cypress/issues/492" target="_blank" rel="noopener noreferrer">#492</a>.</li> <li>
<a href="../../../api/commands/type/"><code>.type()</code></a> should now work on inputs regardless of capitalization of <code>type</code> attribute. Fixes <a href="https://github.com/cypress-io/cypress/issues/550" target="_blank" rel="noopener noreferrer">#550</a>.</li> <li>Fixed issues where <a href="../../../api/commands/type/"><code>.type()</code></a> was not appending text properly. Fixes <a href="https://github.com/cypress-io/cypress/issues/503" target="_blank" rel="noopener noreferrer">#503</a> and <a href="https://github.com/cypress-io/cypress/issues/568" target="_blank" rel="noopener noreferrer">#568</a>.</li> <li>Fixed issue where <a href="../../../api/commands/type/"><code>.type()</code></a> with <code>type="email"</code> inputs were throwing an error. Fixes <a href="https://github.com/cypress-io/cypress/issues/504" target="_blank" rel="noopener noreferrer">#504</a>.</li> <li>Fixed issue where using <a href="../../../api/commands/type/"><code>.type()</code></a> on an input with a <code>type</code> defined in uppercase (<code>input type="TEXT"</code>) would throw an error and not type. Fixes <a href="https://github.com/cypress-io/cypress/issues/550" target="_blank" rel="noopener noreferrer">#550</a>.</li> <li>Fixed issue with <a href="../../../api/commands/clear/"><code>.clear()</code></a> and <code>type="number"</code> inputs. Fixes <a href="https://github.com/cypress-io/cypress/issues/490" target="_blank" rel="noopener noreferrer">#490</a>.</li> <li>Fixed issue where <a href="../../../api/commands/exec/"><code>cy.exec()</code></a> was failing when running Cypress in docker. Fixes <a href="https://github.com/cypress-io/cypress/issues/517" target="_blank" rel="noopener noreferrer">#517</a>.</li> <li>Cypress CLI no longer requires <code>git</code> to install. Fixes <a href="https://github.com/cypress-io/cypress/issues/124" target="_blank" rel="noopener noreferrer">#124</a>
</li> <li>Improved the reporter’s responsive design so controls still show at narrower widths. Fixes <a href="https://github.com/cypress-io/cypress/issues/544" target="_blank" rel="noopener noreferrer">#544</a>.</li> <li>Commands text will no long cut off into ellipses when the Command Log is set to a wider width. Fixes <a href="https://github.com/cypress-io/cypress/issues/528" target="_blank" rel="noopener noreferrer">#528</a>.</li> <li>Fixed issue where setting <code>fixturesFolder</code> to <code>false</code> would throw an error. Fixes <a href="https://github.com/cypress-io/cypress/issues/450" target="_blank" rel="noopener noreferrer">#450</a>.</li> <li>Fixed issue where Cypress hanged due to Xvfb permissions. More intuitive output is given during install failures. Fixes <a href="https://github.com/cypress-io/cypress/issues/330" target="_blank" rel="noopener noreferrer">#330</a>.</li> <li>
<a href="../../core-concepts/interacting-with-elements/#Actionability">The checks used to determine an element’s actionability</a> are now run synchronously. This solves some circumstances where the element could have moved or otherwise change between the checks. Fixes <a href="https://github.com/cypress-io/cypress/issues/570" target="_blank" rel="noopener noreferrer">#570</a>.</li> <li>Fixed issue where clipped elements with <code>overflow-y: hidden</code> were falsely passing as “visible”. Fixes <a href="https://github.com/cypress-io/cypress/issues/563" target="_blank" rel="noopener noreferrer">#563</a>.</li> <li>When using <a href="../../../api/commands/select/"><code>.select()</code></a> on a select with multiple options with the same value, we now properly set <code>selectedIndex</code> and <code>selectedOptions</code> on the <code>select</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/554" target="_blank" rel="noopener noreferrer">#554</a>.</li> <li>Fixed issue where changing any spec file (renaming, adding, deleting) would remove the highlighted styling of the currently active spec file in the Test Runner. Fixes <a href="https://github.com/cypress-io/cypress/issues/547" target="_blank" rel="noopener noreferrer">#547</a>.</li> <li>We now get the absolute paths of styles to use when displaying snapshots. This will fix situations where some stylesheets were improperly referenced during the snapshot, so did not display styles correctly. Fixes <a href="https://github.com/cypress-io/cypress/issues/525" target="_blank" rel="noopener noreferrer">#525</a>.</li> <li>Fixed issue where commands would retry and potentially exceed their timeout values during page transitions. Fixes <a href="https://github.com/cypress-io/cypress/issues/594" target="_blank" rel="noopener noreferrer">#594</a>
</li> <li>Fixed issue where server routes were lost after page load if not initiated by a <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> command. Fixes <a href="https://github.com/cypress-io/cypress/issues/177" target="_blank" rel="noopener noreferrer">#177</a>
</li> <li>Using mocha’s <code>done</code> callback now works correctly. We’ve improved mocha’s handling of uncaught exceptions and properly associate them to test failures. 
</li> <li>
<a href="../../../api/commands/viewport/"><code>cy.viewport()</code></a> is now synchronized with the UI so that it does not resolve until the DOM has re-rendered using the dimensions.</li> <li>“outer assertions” now are correctly retried by previous commands. Fixes <a href="https://github.com/cypress-io/cypress/issues/543" target="_blank" rel="noopener noreferrer">#543</a>.</li> <li>The example_spec from the <a href="https://github.com/cypress-io/cypress-example-kitchensink" target="_blank" rel="noopener">kitchen-sink</a> will never accidentally be seeded when running <a href="../../guides/command-line/#cypress-run"><code>cypress run</code></a> on a brand new project.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>We now display a warning in the console when returning a promise from a test and also invoking a Promise or cy commands. Fixes <a href="https://github.com/cypress-io/cypress/issues/464" target="_blank" rel="noopener noreferrer">#464</a>.</li> <li>Reduced the number of internal Cypress network requests in the “Network Panel” of Dev Tools. Fixes <a href="https://github.com/cypress-io/cypress/issues/606" target="_blank" rel="noopener noreferrer">#606</a>.</li> <li>We’ve moved our entire codebase into one into a private “Monorepo”. This is in anticipation for going open source (making the GitHub repo public) and should make it easier for everyone to contribute to our code. Fixes <a href="https://github.com/cypress-io/cypress/issues/256" target="_blank" rel="noopener noreferrer">#256</a>.</li> <li>When element’s are not visible due to being covered by another element, the error message now says what element is covering what element. <a href="https://github.com/cypress-io/cypress/issues/611" target="_blank" rel="noopener noreferrer">#611</a>
</li> <li>Improved the calculations to calculate an elements visibility. Additionally updated error messages to be clearer whenever an element isn’t considered visible. Fixes <a href="https://github.com/cypress-io/cypress/issues/613" target="_blank" rel="noopener noreferrer">#613</a>
</li> <li>The “Can’t start server” error displayed in the Desktop-GUI no longer prevents you from interacting in the Desktop App. It now displays as a warning. Fixes <a href="https://github.com/cypress-io/cypress/issues/407" target="_blank" rel="noopener noreferrer">#407</a>.</li> <li>
<a href="../../../api/commands/focused/"><code>cy.focused()</code></a> now automatically retries until the element exists in the DOM. This makes it behave the same as <a href="../../../api/commands/get/"><code>cy.get()</code></a> Fixes <a href="https://github.com/cypress-io/cypress/issues/564" target="_blank" rel="noopener noreferrer">#564</a> and <a href="https://github.com/cypress-io/cypress/issues/409" target="_blank" rel="noopener noreferrer">#409</a>.</li> <li>We now support per-project <code>state.json</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/512" target="_blank" rel="noopener noreferrer">#512</a>.</li> <li>We can now handle multiple projects per server. Fixes <a href="https://github.com/cypress-io/cypress/issues/512" target="_blank" rel="noopener noreferrer">#512</a>.</li> <li>The Test Runner can now have projects added by being ‘dragged’ in. Fixes <open a new issue>.</open>
</li> <li>The Test Runner update window now has messaging about <code>package.json</code> versioning. Fixes <a href="https://github.com/cypress-io/cypress/issues/513" target="_blank" rel="noopener noreferrer">#513</a>.</li> <li>The Test Runner now accounts for cypress being installed per project as npm module. Fixes <a href="https://github.com/cypress-io/cypress/issues/500" target="_blank" rel="noopener noreferrer">#500</a> and <a href="https://github.com/cypress-io/cypress/issues/514" target="_blank" rel="noopener noreferrer">#514</a>.</li> <li>
<a href="../../guides/command-line/"><code>cypress install</code></a> <code>-d</code> option. Fixes <a href="https://github.com/cypress-io/cypress/issues/389" target="_blank" rel="noopener noreferrer">#389</a>.</li> <li>Exposing Cypress Binary should no longer be necessary when cypress is locally installed. Fixes <a href="https://github.com/cypress-io/cypress/issues/379" target="_blank" rel="noopener noreferrer">#379</a>.</li> <li>Added an ‘App Data’ option in the Desktop App that displays app data. Fixes <a href="https://github.com/cypress-io/cypress/issues/475" target="_blank" rel="noopener noreferrer">#475</a>.</li> <li>When <a href="../../../api/commands/spy/"><code>cy.spy()</code></a> or <a href="../../../api/commands/stub/"><code>cy.stub()</code></a> are never called, the error now displays a clearer, grammatically correct error. Fixes <a href="https://github.com/cypress-io/cypress/issues/520" target="_blank" rel="noopener noreferrer">#520</a>.</li> <li>Detection of installed browsers has been improved. Fixes <a href="https://github.com/cypress-io/cypress/issues/511" target="_blank" rel="noopener noreferrer">#511</a>.</li> <li>When commands are clicked on and logged into the console from the Command Log, they now display their ‘yield’ instead of ‘return’, since they really yield instead of return. <a href="https://github.com/cypress-io/cypress/issues/612" target="_blank" rel="noopener noreferrer">#612</a>
</li> <li>The build process of the driver has been modernized. Fixes <a href="https://github.com/cypress-io/cypress/issues/429" target="_blank" rel="noopener noreferrer">#429</a>.</li> <li>XHR’s from your application are no longer forcefully aborted between tests. 
</li> <li>Better error handling when running commands outside of a test. 
</li> <li>URL changes from navigation events or hashchanges now display more accurately. 
</li> <li>
<a href="../../../api/commands/go/"><code>cy.go()</code></a> now snapshots before and after the navigation event. 
</li> <li>Page load events no longer forcibly <code>null</code> out the current subject. This was very unexpected and difficult to debug. Now stale elements or other objects from previous pages are yielded to you.</li> <li>Using an array of the same alias in a <a href="../../../api/commands/wait/"><code>cy.wait()</code></a> now yields you those XHR’s in the order they were requested. Previously it was based on when the responses were returned.</li> <li>Returning <code>null</code> from a <a href="../../../api/commands/then/"><code>.then()</code></a> will now change the subject to that. Previously returning <code>null</code> would not cause subject changes.</li> <li>We now no longer remove spies, stubs, or routes at the end of the very last test. This enables you to continue to manually use your app and have Cypress continue to instrument it.</li> <li>Updated a few things to more aggressively cause GC.</li> <li>Onboarding dialogs will never show up again once they are dismissed. Fixes <a href="https://github.com/cypress-io/cypress/issues/522" target="_blank" rel="noopener noreferrer">#522</a>.</li> <li>
<code>window.alert()</code> and <code>window.confirm()</code> now generate a page event in the Command Log (including the message).</li> <li>
<a href="../../../api/commands/spy/"><code>cy.spy()</code></a> and <a href="../../../api/commands/stub/"><code>cy.stub()</code></a> now have a <code>.log(bool)</code> method to disable their calls from generating a Command Log. Useful when your spies or stubs are called an excessive number of times.</li> <li>Improved command subject validation error messages.</li> <li>Improved the element detachment error messages (when you try to interact with an element that’s become stale / detached from the document).</li> <li>We finally have <em>partial</em> iframe support. You can at least now <a href="../../../api/commands/wrap/"><code>cy.wrap()</code></a> iframe elements and interact with them using Cypress commands. More work needs to be done to “switch into” and back “out of” iframes. But we’re getting there.</li> <li>Scaffolding new projects no longer generates a <code>default.js</code> file.</li> <li>Scaffolded <code>index.js</code> and <code>commands.js</code> have had their content updated to point to the custom commands API.</li> <li>You can now call <a href="../../../api/commands/focus/"><code>.focus()</code></a> and <a href="../../../api/commands/blur/"><code>.blur()</code></a> on <a href="../../../api/commands/window/"><code>cy.window()</code></a>.</li> <li>The <code>CYPRESS_DEBUG</code> env option has been removed in favor of the <code>debug</code> module and <a href="../../guides/command-line/#Debugging-commands"><code>DEBUG=cypress:*</code></a> usage.</li> <li>Attempting to run <a href="../../guides/command-line/#cypress-run"><code>cypress run</code></a> on a project without a <code>cypress.json</code> now errors instead of scaffolding and running the kitchen sink.</li> </ul> <p><strong>Documentation Changes:</strong></p> <p>Note: we are still updating all of the docs to reflect all the 0.20.0 changes.</p> <ul> <li><a href="../../../api/events/catalog-of-events/">New “Catalog of Events”</a></li> <li><a href="../../../api/cypress-api/custom-commands/">New “Cypress.Commands”</a></li> <li><a href="../../../api/cypress-api/cypress-log/">New “Cypress.log”</a></li> <li><a href="../../../api/commands/trigger/">New “.trigger()”</a></li> <li><a href="../../../api/commands/scrollto/">New “cy.scrollTo()”</a></li> <li><a href="../../../api/commands/scrollintoview/">New “.scrollIntoView()”</a></li> <li><a href="../../getting-started/installing-cypress/">Updated “Installing Cypress”</a></li> <li><a href="../../getting-started/writing-your-first-test/">Updated “Writing Your First Test”</a></li> <li><a href="../../getting-started/testing-your-app/">Updated “Testing Your App”</a></li> <li><a href="../../guides/command-line/">Updated “Command Line”</a></li> <li><a href="../../guides/debugging/">Updated “Debugging”</a></li> <li><a href="../assertions/">Updated “Assertions”</a></li> <li><a href="../../core-concepts/interacting-with-elements/">Updated “Interacting with Elements”</a></li> </ul> <h1 id="0-19-4" class="article-heading">
0.19.4
</h1>
<p><em>Released 06/18/2017</em></p> <p><strong>Bugfixes:</strong></p> <p>Fixed <a href="../../../api/commands/type/"><code>.type()</code></a> not firing <code>input</code> event for <a href="https://reactjs.org/" target="_blank" rel="noopener">React</a> on versions 15.6.x. Fixes <a href="https://github.com/cypress-io/cypress/issues/536" target="_blank" rel="noopener noreferrer">#536</a>.</p> <h1 id="0-19-3" class="article-heading">
0.19.3
</h1>
<p><em>Released 06/14/2017</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Server’s that send <code>Content-Encoding: br</code> no longer cause Cypress to fail due to incorrect decoding. Cypress now strips encodings it cannot accept. Fixes <a href="https://github.com/cypress-io/cypress/issues/535" target="_blank" rel="noopener noreferrer">#535</a>.</li> </ul> <h1 id="0-19-2" class="article-heading">
0.19.2
</h1>
<p><em>Released 04/16/2017</em></p> <p><strong>Features:</strong></p> <ul> <li>You can now run your tests in the <a href="../../guides/launching-browsers/#Electron-Browser">Electron browser</a> that comes built with Cypress. You will see it as an option in the browser dropdown. This is the same browser that Cypress uses when running <code>cypress run</code>. This is useful for debugging issues that only occur during headless runs. Addresses <a href="https://github.com/cypress-io/cypress/issues/452" target="_blank" rel="noopener noreferrer">#452</a>.</li> <li>New traversal commands <a href="../../../api/commands/nextall/"><code>.nextAll()</code></a>, <a href="../../../api/commands/nextuntil/"><code>.nextUntil()</code></a>, <a href="../../../api/commands/parentsuntil/"><code>.parentsUntil()</code></a>, <a href="../../../api/commands/prevall/"><code>.prevAll()</code></a>, and <a href="../../../api/commands/prevuntil/"><code>.prevUntil()</code></a> have been added. Addresses <a href="https://github.com/cypress-io/cypress/issues/432" target="_blank" rel="noopener noreferrer">#432</a>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>An error is now thrown if an <code>undefined</code> value is mistakenly passed into <a href="../../../api/commands/wait/"><code>cy.wait()</code></a>. Previously, it would set the command timeout to an unimaginably large number of ms. Fixes <a href="https://github.com/cypress-io/cypress/issues/332" target="_blank" rel="noopener noreferrer">#332</a>
</li> <li>Fixed issue where the contents of <code>state.json</code> were emptied, which would cause a crash and loss of state information. Fixes <a href="https://github.com/cypress-io/cypress/issues/473" target="_blank" rel="noopener noreferrer">#473</a> and <a href="https://github.com/cypress-io/cypress/issues/474" target="_blank" rel="noopener noreferrer">#474</a>.</li> <li>We no longer write the chrome extension within <code>node_modules</code>, and instead write this to the proper OS specific <code>appData</code> folder. Fixes <a href="https://github.com/cypress-io/cypress/issues/245" target="_blank" rel="noopener noreferrer">#245</a> and <a href="https://github.com/cypress-io/cypress/issues/290" target="_blank" rel="noopener noreferrer">#290</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Error handling for invalid arguments passed to <a href="../../../api/commands/wait/"><code>cy.wait()</code></a> have been improved and will now suggest valid arguments that are acceptable.</li> <li>Browsers in the browser dropdown now have colored icons, which help visually distinguish the variants of Chrome.</li> <li>Increased timeout for browser to make a connection when running during <code>cypress run</code> from 10 seconds to 30 seconds.</li> <li>Internally refactored how browsers are added and spawned in preparation of us adding cross browser support.</li> <li>Switching specs in the GUI now closes the browser and respawns it and refocuses it.</li> </ul> <h1 id="0-19-1" class="article-heading">
0.19.1
</h1>
<p><em>Released 03/09/2017</em></p> <p><strong>Features:</strong></p> <ul> <li>Added <code>Cypress.version</code> property. Fixes <a href="https://github.com/cypress-io/cypress/issues/404" target="_blank" rel="noopener noreferrer">#404</a>.</li> <li>Selecting <code>&lt;option&gt;</code> inside <code>&lt;optgroup&gt;</code> now works with <a href="../../../api/commands/select/"><code>.select()</code></a>. Fixes <a href="https://github.com/cypress-io/cypress/issues/367" target="_blank" rel="noopener noreferrer">#367</a>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>
<code>EMFILE</code> errors have been fixed. These were being caused due to <code>ulimit</code> being too low on your OS. This should fix the file watching problems people were having. Essentially we just replaced <code>fs</code> with <code>graceful-fs</code> and crossed our fingers this works. (It did on our machines). Fixes <a href="https://github.com/cypress-io/cypress/issues/369" target="_blank" rel="noopener noreferrer">#369</a>.</li> <li>Now you can select the error text in the GUI. Fixes <a href="https://github.com/cypress-io/cypress/issues/344" target="_blank" rel="noopener noreferrer">#344</a>.</li> <li>Cypress now correctly re-bundles files even when <code>watchForFileChanges</code> is set to <code>false</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/446" target="_blank" rel="noopener noreferrer">#446</a> and <a href="https://github.com/cypress-io/cypress/issues/347" target="_blank" rel="noopener noreferrer">#347</a>.</li> <li>Fixed file watching when changing the <code>integrationFolder</code> to something other than the default value. Fixes <a href="https://github.com/cypress-io/cypress/issues/438" target="_blank" rel="noopener noreferrer">#438</a>.</li> <li>
<a href="../../../api/commands/select/"><code>.select()</code></a> now works on options that have the same value. Fixes <a href="https://github.com/cypress-io/cypress/issues/441" target="_blank" rel="noopener noreferrer">#441</a>.</li> <li>Cypress no longer crashes when you click links in the on-boarding screen called “To help you get started…”. Fixes <a href="https://github.com/cypress-io/cypress/issues/227" target="_blank" rel="noopener noreferrer">#227</a>.</li> <li>The <code>example_spec.js</code> file that gets seeded on a new project no longer fails on <a href="../../../api/commands/readfile/"><code>cy.readFile()</code></a>. Fixes <a href="https://github.com/cypress-io/cypress/issues/414" target="_blank" rel="noopener noreferrer">#414</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>We now preserve the Test Runner’s position and sizing after it’s closed + reopened. Fixes <a href="https://github.com/cypress-io/cypress/issues/443" target="_blank" rel="noopener noreferrer">#443</a>.</li> <li>We now ignore watching <code>node_modules</code>, <code>bower_components</code> and a few other folders to reduce the number of watched files. Fixes <a href="https://github.com/cypress-io/cypress/issues/437" target="_blank" rel="noopener noreferrer">#437</a>.</li> </ul> <h1 id="0-19-0" class="article-heading">
0.19.0
</h1>
<p><em>Released 02/11/2017</em></p> <p><strong>Notes:</strong></p> <ul> <li>We have updated all of the docs related to these changes. The <a href="../../guides/continuous-integration/">CI Docs</a> got a much needed facelift.</li> <li>There is a new docs section related to the <a href="../../dashboard/introduction/">Dashboard</a> and the new features.</li> </ul> <p><strong>Overview:</strong></p> <ul> <li>We have officially released our <a href="https://on.cypress.io/dashboard" target="_blank" rel="noopener">Dashboard</a> which is our service that will display recorded runs.</li> <li>This service has now been fully integrated into the Desktop Application. There is a new on-boarding process that helps you setup projects for recording.</li> </ul> <p><strong>Breaking Changes:</strong></p> <ul> <li>We have done our very best to create as little breaking changes as possible.</li> <li>You will need to download a new <a href="../../guides/command-line/">cypress-cli</a> - version <code>0.13.1</code>.</li> <li>Older CLI versions will continue to work on <code>0.19.0</code> except for the <a href="../../guides/command-line/#cypress-open"><code>cypress open</code></a> command - and will we print a warning to nudge you to upgrade.</li> <li>Newer CLI versions will not work on versions of Cypress &lt; <code>0.19.0</code> (but we don’t know why this would ever even happen).</li> </ul> <p><strong>Features:</strong></p> <ul> <li>There is a new <a href="https://on.cypress.io/dashboard" target="_blank" rel="noopener">Dashboard</a> service that displays your recorded runs.</li> <li>The <a href="https://on.cypress.io/dashboard" target="_blank" rel="noopener">Dashboard</a> enables you to view your recorded runs, manage projects, create organizations, invite users and set permissions.</li> <li>Projects are either <strong>public</strong> with their runs being publicly viewable by anyone, or <strong>private</strong> which restricts their access to only users you’ve invited. All <strong>existing</strong> projects were set to <strong>private</strong> by default.</li> <li>When you invite users (from the Dashboard) we will <strong>automatically</strong> whitelist them. This means you can invite all of your teammates (or anyone else). They can start using Cypress without talking to us.</li> <li>We now list all of the recorded runs directly in the Test Runner under a new <code>Runs</code> tab. Fixes <a href="https://github.com/cypress-io/cypress/issues/236" target="_blank" rel="noopener noreferrer">#236</a>.</li> <li>Your list of projects in the Test Runner now displays their last recorded run status - passing, failing, pending, running, etc.</li> <li>We’ve changed the “Config” tab to now be called “Settings”. We added two new sections to the “Settings” tab which displays your <code>projectId</code> and your Record Key. These sections do a much better job explaining what these are and how you use them.</li> <li>You no longer have to use <code>cypress get:key</code> to get your Record Key. We now display this in your “Settings” tab and also in the <a href="https://on.cypress.io/dashboard" target="_blank" rel="noopener">Dashboard</a>.</li> <li>Projects will no longer automatically acquire a <code>projectId</code> when being added. There is now a very explicit <strong>opt-in</strong> process where you setup your project to record. This should make it much clearer what’s going on behind the scenes.</li> <li>
<a href="../../guides/command-line/#cypress-run"><code>cypress run</code></a> now behaves likes <code>cypress ci</code> previously did and downloads + installs Cypress if it’s not already installed.</li> <li>
<code>cypress ci</code> now works in OSX, and also works in Linux in Desktop flavors (like Ubuntu).</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>
<a href="../../guides/command-line/#cypress-run"><code>cypress run</code></a> will now download and install Cypress if it is not already installed.</li> <li>We renamed <code>CYPRESS_CI_KEY</code> TO <code>CYPRESS_RECORD_KEY</code>. This makes it clearer what this key actually does - and the fact that it can be run anywhere irrespective of CI. We still look for the old named key but will print a warning if we detect it.</li> <li>We print a warning when using an older CLI tool version. Fixes <a href="https://github.com/cypress-io/cypress/issues/424" target="_blank" rel="noopener noreferrer">#424</a>.</li> <li>We’ve improved many of the error messages related to recording runs. Fixes <a href="https://github.com/cypress-io/cypress/issues/423" target="_blank" rel="noopener noreferrer">#423</a>.</li> <li>
<code>cypress ci</code> has been deprecated. You now use <a href="../../guides/command-line/#cypress-run"><code>cypress run –record –key &lt;record_key&gt;</code></a>. The key you used to pass to <code>cypress ci</code> is the same key. We’ve consolidated these commands into just <a href="../../guides/command-line/#cypress-run"><code>cypress run</code></a> which makes it simpler and clearer. Their only difference is that passing <code>--record</code> to <a href="../../guides/command-line/#cypress-run"><code>cypress run</code></a> will <strong>record</strong> the build to our Dashboard. Fixes <a href="https://github.com/cypress-io/cypress/issues/417" target="_blank" rel="noopener noreferrer">#417</a>.</li> </ul> <h1 id="0-18-8" class="article-heading">
0.18.8
</h1>
<p><em>Released 02/05/2017</em></p> <p><strong>Overview:</strong></p> <ul> <li>We have officially implemented our <a href="http://sinonjs.org/" target="_blank" rel="noopener">Sinon.JS</a> integration: adding <a href="../../../api/commands/stub/"><code>cy.stub()</code></a>, <a href="../../../api/commands/spy/"><code>cy.spy()</code></a>, <a href="../../../api/commands/clock/"><code>cy.clock()</code></a>, and <a href="../../../api/commands/tick/"><code>cy.tick()</code></a>. We’ve matched Sinon’s APIs and added <code>sinon-as-promised</code> and <code>chai-sinon</code>. In addition we’ve fixed Sinon performance issues, and improved the display of assertion passes and failures.</li> <li>These new APIs will work well in both <code>unit</code> tests and <code>integration</code> tests.</li> </ul> <p><strong>Features:</strong></p> <ul> <li>You can now use <a href="../../../api/commands/stub/"><code>cy.stub()</code></a> and <a href="../../../api/commands/spy/"><code>cy.spy()</code></a> synchronously. These both match the Sinon API identically. We will display <code>stub/spy</code> calls in the Command Log and provide the call count, arguments, context, and return values when you click on the log. Stubs are automatically reset between tests. Fixes <a href="https://github.com/cypress-io/cypress/issues/377" target="_blank" rel="noopener noreferrer">#377</a>.</li> <li>We’ve added our own special aliasing flavor to <a href="../../../api/commands/stub/"><code>cy.stub()</code></a> and <a href="../../../api/commands/spy/"><code>cy.spy()</code></a>. You can use the <a href="../../../api/commands/as/"><code>.as()</code></a> command and we will associate spy and stub invocations (the same way we do with XHR aliasing and route matching).</li> <li>We’ve added <a href="../../../api/commands/clock/"><code>cy.clock()</code></a> and <a href="../../../api/commands/tick/"><code>cy.tick()</code></a> which are both asynchronous methods to modify timers in your application under test. We automatically apply clock (even if you invoke it before your first <a href="../../../api/commands/visit/"><code>cy.visit()</code></a>) and will automatically reapply it after page load. <a href="../../../api/commands/tick/"><code>cy.tick()</code></a> will enable you to control the amount of time you want passed in your application. This is great for controlling <em>throttled</em> or <em>debounced</em> functions.</li> <li>
<code>sinon-as-promised</code> is automatically applied under the hood which extends Sinon and provides the <code>.resolves(...)</code> and <code>.rejects(...)</code> APIs which makes it easy to stub promise returning functions.</li> <li>We support and display multiple sub spies when using Sinon’s <code>.withArgs(...)</code> function.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>We’ve enhanced <code>chai-sinon</code> by improving the output during passes or failures. Fixes <a href="https://github.com/cypress-io/cypress/issues/31" target="_blank" rel="noopener noreferrer">#31</a>.</li> <li>We’ve ripped out Sinon’s argument serialization in favor of our own.</li> <li>We no longer send Sinon to the remote application under test. In other words, you’ll no longer see <code>sinon.js</code> being sent as a network request.</li> <li>Deprecated the undocumented <code>cy.agents</code> function, but it will continue to work and will be officially removed later.</li> </ul> <h1 id="0-18-7" class="article-heading">
0.18.7
</h1>
<p><em>Released 01/30/2017</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Fixed regression in <code>0.18.6</code> that caused Cypress to fail when switching spec files when <code>baseUrl</code> was set in <code>cypress.json</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/403" target="_blank" rel="noopener noreferrer">#403</a>.</li> </ul> <h1 id="0-18-6" class="article-heading">
0.18.6
</h1>
<p><em>Released 01/29/2017</em></p> <p><strong>Features:</strong></p> <ul> <li>We now launch Cypress tests directly to the <code>baseUrl</code> to avoid an initial page refresh when encountering the first <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> command. This should help tests run faster. Fixes <a href="https://github.com/cypress-io/cypress/issues/382" target="_blank" rel="noopener noreferrer">#382</a>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Uninstalling the last used browser no longer causes the Test Runner to error and hang. Fixes <a href="https://github.com/cypress-io/cypress/issues/371" target="_blank" rel="noopener noreferrer">#371</a>.</li> <li>Fixed issue where <code>stdout</code> would not be displayed on a completed <code>cypress ci</code> run. Fixes <a href="https://github.com/cypress-io/cypress/issues/398" target="_blank" rel="noopener noreferrer">#398</a>.</li> <li>Fixed a longstanding issue in Cypress where logging in from another computer would kill the session on all other computers, and prevent you from accessing <code>cypress get:key</code> (amongst other things). Fixes <a href="https://github.com/cypress-io/cypress/issues/400" target="_blank" rel="noopener noreferrer">#400</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>We now validate all of the configuration options set in <code>cypress.json</code> to ensure it has valid types. Fixes <a href="https://github.com/cypress-io/cypress/issues/399" target="_blank" rel="noopener noreferrer">#399</a>.</li> <li>We now validate that <code>baseUrl</code> is accessible <strong>prior</strong> to running tests. This prevents a common situation where you may forget to boot your web server and have instantly failing tests. Fixes <a href="https://github.com/cypress-io/cypress/issues/383" target="_blank" rel="noopener noreferrer">#383</a>.</li> <li>We now show the entire scaffolded tree of files when adding a brand new project. Fixes <a href="https://github.com/cypress-io/cypress/issues/401" target="_blank" rel="noopener noreferrer">#401</a>.</li> <li>We display errors coming from <code>babel</code> with more helpful information now.</li> <li>Changed the <a href="https://github.com/cypress-io/cypress/tree/develop/packages/desktop-gui" target="_blank" rel="noopener">Test Runner</a> to use <code>JWT</code> for authorization. <strong>You will have to log in again</strong>.</li> </ul> <h1 id="0-18-5" class="article-heading">
0.18.5
</h1>
<p><em>Released 01/08/2017</em></p> <p><strong>Features:</strong></p> <ul> <li>You can now disable <code>videoCompression</code> by passing <code>false</code> in <code>cypress.json</code> or env variables. In very long runs and on CPU throttled instances compression can take a considerable amount of time, possibly as much as 50% of the time spent running actual tests. Fixes <a href="https://github.com/cypress-io/cypress/issues/372" target="_blank" rel="noopener noreferrer">#372</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Improved performance when running <code>cypress run</code> by caching the last bundled spec. This prevents having the same spec file rebundled each time <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> caused a full page navigation. You should see a moderate improvement in test run time. Fixes <a href="https://github.com/cypress-io/cypress/issues/370" target="_blank" rel="noopener noreferrer">#370</a>.</li> <li>We are now capturing <code>stdout</code> and several other properties for use + display in our Dashboard on <code>cypress ci</code> runs.</li> <li>Enable <a href="../../../api/commands/fixture/"><code>cy.fixture()</code></a> to send an encoding for images other than forcing the default encoding of <code>base64</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/373" target="_blank" rel="noopener noreferrer">#373</a>.</li> <li>Enable <a href="../../../api/commands/route/"><code>cy.route()</code></a> to pass an <code>encoding</code> parameter when using <code>fx:fixture</code> syntax. Fixes <a href="https://github.com/cypress-io/cypress/issues/374" target="_blank" rel="noopener noreferrer">#374</a>.</li> </ul> <h1 id="0-18-4" class="article-heading">
0.18.4
</h1>
<p><em>Released 12/28/2016</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Prevent <a href="../../../api/commands/url/"><code>cy.url()</code></a> from accessing the URL during transition phase and throwing an error. Fixes <a href="https://github.com/cypress-io/cypress/issues/356" target="_blank" rel="noopener noreferrer">#356</a>.</li> <li>Stubbed functions now serialize correctly when switching domains on a <a href="../../../api/commands/visit/"><code>cy.visit()</code></a>. Fixes <a href="https://github.com/cypress-io/cypress/issues/354" target="_blank" rel="noopener noreferrer">#354</a>.</li> <li>Fixed a handful of scenarios and edge cases where cookies were not properly synchronized between external requests and the browser. This led to situations where cookies were either duplicated on requests, or were not sent. Fixes <a href="https://github.com/cypress-io/cypress/issues/357" target="_blank" rel="noopener noreferrer">#357</a> and <a href="https://github.com/cypress-io/cypress/issues/361" target="_blank" rel="noopener noreferrer">#361</a> and <a href="https://github.com/cypress-io/cypress/issues/362" target="_blank" rel="noopener noreferrer">#362</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>
<a href="../../../api/commands/request/"><code>cy.request()</code></a> now favors <code>baseUrl</code> config over remote origin when you do not pass a fully qualified URL. Fixes <a href="https://github.com/cypress-io/cypress/issues/360" target="_blank" rel="noopener noreferrer">#360</a>.</li> </ul> <h1 id="0-18-3" class="article-heading">
0.18.3
</h1>
<p><em>Released 12/18/2016</em></p> <p><strong>Features:</strong></p> <ul> <li>There is now a <a href="../../../api/commands/log/"><code>cy.log()</code></a> command for displaying an arbitrary message and args. Useful for providing context while testing and debugging long tests. Fixes <a href="https://github.com/cypress-io/cypress/issues/342" target="_blank" rel="noopener noreferrer">#342</a>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>
<a href="../../../api/commands/title/"><code>cy.title()</code></a> now uses the <code>document.title</code> property as opposed to querying for <code>&lt;title&gt;</code> elements in the <code>&lt;head&gt;</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/351" target="_blank" rel="noopener noreferrer">#351</a> and <a href="https://github.com/cypress-io/cypress/issues/331" target="_blank" rel="noopener noreferrer">#331</a>.</li> <li>We now exit correctly (with status of 1) in the case of headless renderer crashes. Additionally we capture these errors properly, explain what happened, and link to external error document to suggest fixes. Fixes <a href="https://github.com/cypress-io/cypress/issues/270" target="_blank" rel="noopener noreferrer">#270</a> and <a href="https://github.com/cypress-io/cypress/issues/348" target="_blank" rel="noopener noreferrer">#348</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Improved headless performance, and added optimizations for early and often GC.</li> </ul> <h1 id="0-18-2" class="article-heading">
0.18.2
</h1>
<p><em>Released 12/15/2016</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Under the hood <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> now sets an <code>Accept: text/html,*/*</code> request header to prevent some web servers from sending back <code>404</code> in the case where they required this header. Only a small % of servers would ever do this, but <code>webpack-dev-server</code> was one of them. Fixes <a href="https://github.com/cypress-io/cypress/issues/309" target="_blank" rel="noopener noreferrer">#309</a>.</li> <li>
<a href="../../../api/commands/request/"><code>cy.request()</code></a> now sends an <code>Accept: */*</code> request header by default too. Fixes <a href="https://github.com/cypress-io/cypress/issues/338" target="_blank" rel="noopener noreferrer">#338</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>
<a href="../../../api/commands/request/"><code>cy.request()</code></a> now includes more debugging information (related to headers) in the error output. Fixes <a href="https://github.com/cypress-io/cypress/issues/341" target="_blank" rel="noopener noreferrer">#341</a>.</li> <li>When <a href="../../../api/commands/request/"><code>cy.request()</code></a> times out, we now output much better error messages including information about the request sent. Fixes <a href="https://github.com/cypress-io/cypress/issues/340" target="_blank" rel="noopener noreferrer">#340</a>.</li> </ul> <h1 id="0-18-1" class="article-heading">
0.18.1
</h1>
<p><em>Released 12/11/2016</em></p> <p><strong>Notes:</strong></p> <ul> <li>There is a new <a href="https://github.com/cypress-io/cypress-example-recipes" target="_blank" rel="noopener">recipe showcasing these new features</a>.</li> <li>We are adding several other recipes to show examples of all the ways you can use <a href="../../../api/commands/request/"><code>cy.request()</code></a> to improve your tests.</li> </ul> <p><strong>Features:</strong></p> <ul> <li>
<a href="../../../api/commands/request/"><code>cy.request()</code></a> can now have its automatic redirect following turned off by passing <code>{followRedirect: false}</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/308" target="_blank" rel="noopener noreferrer">#308</a>.</li> <li>
<a href="../../../api/commands/request/"><code>cy.request()</code></a> now has a <code>qs</code> option that automatically appends query params to the <code>url</code> property. Fixes <a href="https://github.com/cypress-io/cypress/issues/321" target="_blank" rel="noopener noreferrer">#321</a>.</li> <li>
<a href="../../../api/commands/request/"><code>cy.request()</code></a> now follows redirects exactly like a real browser. Previously if you <code>POST</code>ed to an endpoint and it redirected to a <code>GET</code> then <a href="../../../api/commands/request/"><code>cy.request()</code></a> would not follow it due to the <code>method</code> changing. It now follows method changing redirects by default. Fixes <a href="https://github.com/cypress-io/cypress/issues/322" target="_blank" rel="noopener noreferrer">#322</a>.</li> <li>
<a href="../../../api/commands/request/"><code>cy.request()</code></a> now accepts the <code>form</code> option which will convert the <code>body</code> values to urlencoded content and automatically set the <code>x-www-form-urlencoded</code> header. This means you can now use <a href="../../../api/commands/request/"><code>cy.request()</code></a> to bypass your UI and login with standard form values. Fixes <a href="https://github.com/cypress-io/cypress/issues/319" target="_blank" rel="noopener noreferrer">#319</a>.</li> <li>When <a href="../../../api/commands/request/"><code>cy.request()</code></a> fails, it now outputs the full request / response information. This behaves more similar to <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> failures. Fixes <a href="https://github.com/cypress-io/cypress/issues/324" target="_blank" rel="noopener noreferrer">#324</a>.</li> <li>
<a href="../../../api/commands/request/"><code>cy.request()</code></a> now prints <strong>all</strong> of the underlying HTTP request / response information into the Dev Tools’ console (when clicking on the Command Log). This means that you will see everything you would normally see from the <code>Network</code> tab as if the request were made from the browser. We even print redirect information. Fixes <a href="https://github.com/cypress-io/cypress/issues/325" target="_blank" rel="noopener noreferrer">#325</a>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Cypress’ internal <code>babel</code> will no longer attempt to load your project’s <code>.babelrc</code>. This helps avoid potential version conflicts. Fixes <a href="https://github.com/cypress-io/cypress/issues/312" target="_blank" rel="noopener noreferrer">#312</a>.</li> <li>We no longer watch the <code>supportFile</code> while running <code>cypress run</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/329" target="_blank" rel="noopener noreferrer">#329</a>.</li> <li>
<code>watchForFileChanges</code> is now correctly respected in regards to watching all files, including the <code>supportFile</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/336" target="_blank" rel="noopener noreferrer">#336</a>.</li> <li>There is no longer an error when scaffolding a new Cypress project. Fixes <a href="https://github.com/cypress-io/cypress/issues/326" target="_blank" rel="noopener noreferrer">#326</a>.</li> <li>The Runner UI no longer appears to be “running” when there is a spec bundle error in the <code>supportFile</code>.</li> <li>Cypress now correctly exits during <code>cypress run</code> in <code>linux</code> when the browser fails to connect. Fixes <a href="https://github.com/cypress-io/cypress/issues/333" target="_blank" rel="noopener noreferrer">#333</a>.</li> <li>Cypress now correctly exits during <code>cypress run</code> in <code>linux</code> when there is a spec bundle error. Fixes <a href="https://github.com/cypress-io/cypress/issues/337" target="_blank" rel="noopener noreferrer">#337</a>.</li> <li>Cypress now retries up to 3 times for the browser to connect during <code>cypress run</code>. The warning / error messages were also updated to be clearer. Partially addresses <a href="https://github.com/cypress-io/cypress/issues/334" target="_blank" rel="noopener noreferrer">#334</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Deprecated <code>failOnStatus</code> property for <a href="../../../api/commands/request/"><code>cy.request()</code></a> and renamed to <code>failOnStatusCode</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/323" target="_blank" rel="noopener noreferrer">#323</a>.</li> <li>Removed the <code>cookies</code> option from <a href="../../../api/commands/request/"><code>cy.request()</code></a> because cookies are now <em>always</em> get/set on requests. This option really never made any sense to have. Fixes <a href="https://github.com/cypress-io/cypress/issues/320" target="_blank" rel="noopener noreferrer">#320</a>.</li> <li>Better data reporting when recording builds in CI.</li> <li>We now collect “global” errors that may prevent any tests from running. We will be displaying these in our future CI platform.</li> </ul> <h1 id="0-18-0" class="article-heading">
0.18.0
</h1>
<p><em>Released 11/27/2016</em></p> <p><strong>Notes:</strong></p> <ul> <li>We’ve created a new <a href="https://github.com/cypress-io/cypress-example-recipes" target="_blank" rel="noopener">example recipes repo</a> to show you common testing scenarios including how to use the new module support.</li> </ul> <p><strong>Summary:</strong></p> <ul> <li>We’ve added automatic ES2015+, module, JSX, and CJSX support to all test files. This means you can use <code>require</code>, <code>import</code>, or <code>export</code> declarations to load other files. You can also use this to import your own application specific JavaScript modules and write unit tests for them. More of these details are yet to come. <a href="https://github.com/cypress-io/cypress/issues/318" target="_blank" rel="noopener noreferrer">See this issue</a>.</li> <li>You can now use your regularly installed <code>node_modules</code> in your project to do things like utilizing <a href="https://lodash.com/" target="_blank" rel="noopener"><code>lodash</code></a> for utility functions or extending <a href="http://www.chaijs.com/" target="_blank" rel="noopener"><code>chai</code></a> with assertion plugins.</li> <li>Because we’re now processing the spec files prior to handing them off to the browser, this means we will display problems like syntax errors when something in the processing goes wrong. Additionally, we print these out during <code>cypress run</code>, so you’re not stuck wondering what went wrong.</li> </ul> <p><strong>Breaking Changes:</strong></p> <ul> <li>Previously, we auto-magically included all files within <a href="../../core-concepts/writing-and-organizing-tests/#Folder-Structure"><code>cypress/support</code></a>. This has now <a href="../error-messages/">gone away</a> and we’ve simplified this to automatically including a single <code>cypress/support/index.js</code> file. That single file acts as the entry point meaning you should <code>import</code> or <code>require</code> the other support files you’d like to include. Although this is still “automatic” it’s much less magical and we’ll be updating all of our docs to reflect this. The purpose of <code>cypress/support</code> hasn’t really changed, just the implementation of it has. We will automatically seed a <code>cypress/support/index.js</code> file for you (even on existing projects). The file location of <code>cypress/support/index.js</code> can be changed with the new <a href="../configuration/#Folders-Files"><code>supportFile</code></a> option in your <code>cypress.json</code>. This feature can also be turned off by specifying <code>supportFile: false</code>.</li> </ul> <p><strong>Features:</strong></p> <ul> <li>We now support ES2015+, modules, and JSX in all spec files. Fixes <a href="https://github.com/cypress-io/cypress/issues/246" target="_blank" rel="noopener noreferrer">#246</a>.</li> <li>Spec files may now be written as <code>.js</code>, <code>.jsx</code>, <code>.coffee</code>, or <code>cjsx</code> files.</li> <li>Test files with JS syntax errors are now <a href="../error-messages/">handled</a> and we provide a GUI that points to the exact line/column number. Additionally we print these out during <code>cypress run</code> and exit the process with <code>code 1</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/293" target="_blank" rel="noopener noreferrer">#293</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>We improved the logic around when and if we scaffold files on a new project. We’re much smarter about this and not generating these forcibly every time. Fixes <a href="https://github.com/cypress-io/cypress/issues/285" target="_blank" rel="noopener noreferrer">#285</a>.</li> <li>Simplified handling of support files and made them less “magical”. Fixes <a href="https://github.com/cypress-io/cypress/issues/286" target="_blank" rel="noopener noreferrer">#286</a>.</li> <li>Renamed <code>supportFolder</code> to <a href="../configuration/#Folders-Files"><code>supportFile</code></a> in <code>cypress.json</code>. We will automatically rename your <code>cypress.json</code> if this property was present on update.</li> </ul> <h1 id="0-17-12" class="article-heading">
0.17.12
</h1>
<p><em>Released 11/21/2016</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>You no longer have to log in again after updating. Fixes <a href="https://github.com/cypress-io/cypress/issues/305" target="_blank" rel="noopener noreferrer">#305</a>.</li> <li>Updating in app now works again. Sorry about that. Fixes <a href="https://github.com/cypress-io/cypress/issues/304" target="_blank" rel="noopener noreferrer">#304</a>.</li> <li>Headless frame rate is now correctly set to <code>20</code> instead of resetting back to <code>60</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/303" target="_blank" rel="noopener noreferrer">#303</a>.</li> <li>We now automatically drop frames that the CPU cannot keep up with while video recording during <code>cypress run</code>. Previously we would buffer all frames in memory and it was possible to exhaust all memory due to the way that streaming backpressure works. Fixes <a href="https://github.com/cypress-io/cypress/issues/302" target="_blank" rel="noopener noreferrer">#302</a>.</li> <li>Fixed an edge case in the <code>driver</code> that could lead to memory leaks. This happened when Command Logs updated from previously run tests. Normally, in headless mode, we automatically remove references to purge memory after each test, but when logs were updated after this, their references were merged back in again and held onto forever. If you were seeing long Cypress runs die or eventually halt, this was likely the cause. We did extensive memory regression analysis on Cypress and could not find any more memory leaks. Fixes <a href="https://github.com/cypress-io/cypress/issues/301" target="_blank" rel="noopener noreferrer">#301</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Improved <a href="../../guides/command-line/#cypress-run"><code>cypress run</code></a> and <code>cypress ci</code> headless output. Fixes <a href="https://github.com/cypress-io/cypress/issues/306" target="_blank" rel="noopener noreferrer">#306</a>.</li> <li>Improved performance by preventing <code>snapshots</code> from being taken during headless runs.</li> </ul> <h1 id="0-17-11" class="article-heading">
0.17.11
</h1>
<p><em>Released 11/16/2016</em></p> <p><strong>Roadmap:</strong></p> <ul> <li>The changes in version <a href="#01711-11162016"><code>0.17.11</code></a> below are in preparation for Cypress￢ﾀﾙ platform service: a portal where screenshots, videos, config, and logs of your builds are accessible.</li> </ul> <p><strong>Overview:</strong></p> <ul> <li>
<code>cypress ci</code> now uploads build assets to our servers after a test run completes. Additionally, it tracks the <code>config</code> settings used during the build and tracks each individual test failure.</li> <li>If you do <em>not</em> want these assets to be tracked by Cypress, you need to switch to using <a href="../../guides/command-line/#cypress-run"><code>cypress run</code></a>. We will happily remove any build assets that are accidentally uploaded to us during the update transition.</li> </ul> <p><strong>Features:</strong></p> <ul> <li>We now record videos during a headless run with both <code>cypress ci</code> and <a href="../../guides/command-line/#cypress-run"><code>cypress run</code></a>. Fixes <a href="https://github.com/cypress-io/cypress/issues/229" target="_blank" rel="noopener noreferrer">#229</a>.</li> <li>After completing <code>cypress ci</code>, we now upload build assets (such as <code>screenshots</code> and <code>videos</code>) to be used in our upcoming admin interface. This will enable you to review assets without having to touch your CI server. Fixes <a href="https://github.com/cypress-io/cypress/issues/292" target="_blank" rel="noopener noreferrer">#292</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>We’ve redesigned the headless run <code>stdout</code> to give you more details of the run, the stats after the run, what screenshots were taken, the video that was recorded, compression settings for the video, uploading asset progress, etc.</li> <li>Screenshot names now include their parent titles, and invalid file system characters are scrubbed. Fixes <a href="https://github.com/cypress-io/cypress/issues/297" target="_blank" rel="noopener noreferrer">#297</a>.</li> <li>We no longer artificially restrict the environment <code>cypress ci</code> can run in. It can now run <em>anywhere</em>. Fixes <a href="https://github.com/cypress-io/cypress/issues/296" target="_blank" rel="noopener noreferrer">#296</a>.</li> <li>We removed scaffolding any directories on a new project (during <code>cypress run</code>). Fixes <a href="https://github.com/cypress-io/cypress/issues/295" target="_blank" rel="noopener noreferrer">#295</a>.</li> <li>
<a href="../../guides/command-line/#cypress-run"><code>cypress run</code></a> no longer prompts the user for any kind of interaction, thus enabling you to use this in CI if you choose to do so. Fixes <a href="https://github.com/cypress-io/cypress/issues/294" target="_blank" rel="noopener noreferrer">#294</a>.</li> <li>There is a new <a href="../configuration/">configuration</a> property called: <del><code>trashAssetsBeforeHeadlessRuns</code></del> (This was changed to <code>trashAssetsBeforeRuns</code> in <a href="#3.0.0"><code>3.0.0</code></a>) that is set to <code>true</code> by default and will automatically clear out screenshots + videos folders before each run. These files are not deleted, they are just moved to your trash.</li> <li>There are several new <a href="../configuration/">configuration</a> properties for video recording: <code>videoRecording</code>, <code>videoCompression</code>, and <code>videosFolder</code>.</li> </ul> <h1 id="0-17-10" class="article-heading">
0.17.10
</h1>
<p><em>Released 11/07/2016</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Fixed switching between two different spec files from the desktop app causing <code>document.domain</code> to be wrong. Fixes <a href="https://github.com/cypress-io/cypress/issues/276" target="_blank" rel="noopener noreferrer">#276</a>.</li> <li>Fixed inserting the string <code>null</code> into <a href="../../../api/commands/request/"><code>cy.request()</code></a> urls when providing a <code>baseUrl</code> in <code>cypress.json</code> while origin could not be determined. Fixes <a href="https://github.com/cypress-io/cypress/issues/274" target="_blank" rel="noopener noreferrer">#274</a>.</li> <li>Fixed incorrect error message on reverse visibility assertions. Fixes <a href="https://github.com/cypress-io/cypress/issues/275" target="_blank" rel="noopener noreferrer">#275</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>We’ve improved the way we inject content into <code>&lt;html&gt;</code> responses by filtering the underlying HTTP request headers. We no longer inject content into templates which were loaded via XHR. Fixes <a href="https://github.com/cypress-io/cypress/issues/257" target="_blank" rel="noopener noreferrer">#257</a> and <a href="https://github.com/cypress-io/cypress/issues/288" target="_blank" rel="noopener noreferrer">#288</a>.</li> </ul> <h1 id="0-17-9" class="article-heading">
0.17.9
</h1>
<p><em>Released 10/22/2016</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Cypress now applies cookies to the browser which were cleared between redirects. Fixes <a href="https://github.com/cypress-io/cypress/issues/224" target="_blank" rel="noopener noreferrer">#224</a>.</li> <li>Snapshots now work even when <code>&lt;html&gt;</code> tag has invalid attributes. Fixes <a href="https://github.com/cypress-io/cypress/issues/271" target="_blank" rel="noopener noreferrer">#271</a>.</li> <li>Cypress no longer crashes on initial <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> when the 3rd party web server never ends the response. Fixes <a href="https://github.com/cypress-io/cypress/issues/272" target="_blank" rel="noopener noreferrer">#272</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Changed default <a href="../configuration/#Timeouts"><code>responseTimeout</code></a> from <code>20000</code> to <code>30000</code>.</li> <li>Changed default <a href="../configuration/#Timeouts"><code>pageLoadTimeout</code></a> from <code>30000</code> to <code>60000</code>.</li> <li>The internal Cypress proxy now forcibly responds to requests taking longer than <code>responseTimeout</code>. Currently this sends back <code>text/html</code> with the <code>ETIMEDOUT</code> error, but this likely needs to be configurable. The reason we are now forcibly applying timeouts is to prevent <code>socket pooling exhaustion</code> where tests are running and a 3rd party server never responds to the request.</li> </ul> <h1 id="0-17-8" class="article-heading">
0.17.8
</h1>
<p><em>Released 10/13/2016</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Fixed <code>opener of undefined</code> errors due to <code>page load</code> events causing snapshots prior to the <code>load</code> event of the remote application. Thanks to everyone who helped pitched in on this one! Fixes <a href="https://github.com/cypress-io/cypress/issues/258" target="_blank" rel="noopener noreferrer">#258</a>.</li> <li>Cypress now correctly sets cookies with <code>expirationDate</code> in the past. Chrome did not handle these cookies as documented and our code did not take this into account. We also added a lot more <code>e2e</code> tests around this behavior. Fixes <a href="https://github.com/cypress-io/cypress/issues/266" target="_blank" rel="noopener noreferrer">#266</a>.</li> <li>We are now taking additional precautions to prevent Cypress from trashing the wrong folder during an upgrade (with an open project). This was actually fixed in <code>0.17.7</code> but the problem was is that during an update, the new version (which was fixed) was still being passed the wrong arguments from the older (broken) application. We’ve now upgraded <code>0.17.8</code> to detect this, and just use the expected default install location of Cypress. If you’re concerned, just <em>close</em> your currently open project before updating. Fixes <a href="https://github.com/cypress-io/cypress/issues/265" target="_blank" rel="noopener noreferrer">#265</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>When an in app update fails in <code>linux</code> we now provide instructions on how to manually update Cypress.</li> <li>We now properly take the <code>maxAge</code> cookie flag into account and give it preference over the <code>expires</code> flag as per the cookie spec.</li> </ul> <h1 id="0-17-7" class="article-heading">
0.17.7
</h1>
<p><em>Released 10/12/2016</em></p> <p><strong>Features:</strong></p> <ul> <li>There is now a new <a href="../configuration/#Browser"><code>chromeWebSecurity</code></a> option you can set in <code>cypress.json</code> to turn off Chrome’s Web Security features. We’ve written a brand new reference that details why and how you could use this. <a href="../../guides/web-security/">Cypress Web Security</a>. This option can be used for accessing <code>cross origin</code> <code>&lt;iframes&gt;</code> or if your application needs to test navigation across super domains. Fixes <a href="https://github.com/cypress-io/cypress/issues/262" target="_blank" rel="noopener noreferrer">#262</a>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>We now capture <code>cross origin</code> errors correctly instead of these showing as <code>Uncaught DOMExceptions</code> in the console. Fixes <a href="https://github.com/cypress-io/cypress/issues/261" target="_blank" rel="noopener noreferrer">#261</a>.</li> <li>We no longer trash the wrong folder on OSX in-app updates (when a project is open). Sorry about this! Fixes <a href="https://github.com/cypress-io/cypress/issues/260" target="_blank" rel="noopener noreferrer">#260</a>.</li> <li>
<a href="../../../api/commands/visit/"><code>cy.visit()</code></a> urls with domain-like segments (which weren’t actually the domain) no longer cause Cypress to think you’re trying to navigate to a different superdomain. Fixes <a href="https://github.com/cypress-io/cypress/issues/255" target="_blank" rel="noopener noreferrer">#255</a>.</li> </ul> <h1 id="0-17-6" class="article-heading">
0.17.6
</h1>
<p><em>Released 10/04/2016</em></p> <p><strong>Features:</strong></p> <ul> <li>Snapshots will now be <em>pinned</em> when clicking on a command in the Command Log. This enables you to inspect the state of the DOM when the snapshot was taken. We’ve given you a new series of controls for turning off the element highlighting and hitboxes. Additionally we’ve given you the ability to manually click through each named snapshot when there are multiple states (like before and after). Fixes <a href="https://github.com/cypress-io/cypress/issues/247" target="_blank" rel="noopener noreferrer">#247</a>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Fixed a regression where tests that failed outside of a hook would incorrectly indicate themselves as a <code>before each</code> hook. In addition, in the default <code>spec</code>, reporter will now display the test name when a hook was the source of failure. Fixes <a href="https://github.com/cypress-io/cypress/issues/253" target="_blank" rel="noopener noreferrer">#253</a>.</li> <li>Fixed a deployment bug in the <code>core-desktop-gui</code>.</li> <li>We now prevent <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> from accidentally snapshotting twice.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>
<a href="../../../api/commands/request/"><code>cy.request()</code></a> and <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> now correctly send <code>User-Agent</code> headers based on the current open browsing session. Fixes <a href="https://github.com/cypress-io/cypress/issues/230" target="_blank" rel="noopener noreferrer">#230</a>.</li> </ul> <h1 id="0-17-5" class="article-heading">
0.17.5
</h1>
<p><em>Released 10/02/2016</em></p> <p><strong>Features:</strong></p> <ul> <li>We’ve added <code>JUnit</code> as a valid <a href="../../tooling/reporters/">built-in reporters</a>. Fixes <a href="https://github.com/cypress-io/cypress/issues/178" target="_blank" rel="noopener noreferrer">#178</a>.</li> <li>You can now <a href="../../tooling/reporters/">add or write your own custom reporters</a>. This means you can <code>npm install xyz-mocha-reporter</code> and we’ll automatically correctly <code>require</code> that package. Alternatively you can write your own <code>xyz-custom_reporter.js</code> file. Fixes <a href="https://github.com/cypress-io/cypress/issues/231" target="_blank" rel="noopener noreferrer">#231</a>.</li> <li>The <code>reporter</code> can now be resized. We persist this state locally so it should “stick” between browser launches / app restarts. Fixes <a href="https://github.com/cypress-io/cypress/issues/204" target="_blank" rel="noopener noreferrer">#204</a>.</li> <li>Cypress now “remembers” the last browser you had open and will suggest opening that whenever a project is opened. Addresses <a href="https://github.com/cypress-io/cypress/issues/193" target="_blank" rel="noopener noreferrer">#193</a>.</li> <li>Instead of seeing <code>Script error.</code> - cross origins script errors are now handled specially and we throw a very long and exciting error explaining what just happened. Fixes <a href="https://github.com/cypress-io/cypress/issues/241" target="_blank" rel="noopener noreferrer">#241</a>.</li> <li>When uncaught errors are thrown in hooks we now indicate Mocha’s behavior as part of the error - that it is skipping the remaining tests in the current suite. Fixes <a href="https://github.com/cypress-io/cypress/issues/240" target="_blank" rel="noopener noreferrer">#240</a>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>The reporter now more intelligently scrolls to prevent commands from being cut off. Useful in screenshots / video recording. Fixes <a href="https://github.com/cypress-io/cypress/issues/228" target="_blank" rel="noopener noreferrer">#228</a>.</li> <li>We’ve improved the logic of how snapshots are restored so that it does not break the CSS when there were full page navigations in the test and the CSS changed. Fixes <a href="https://github.com/cypress-io/cypress/issues/223" target="_blank" rel="noopener noreferrer">#223</a>.</li> <li>Iframes are now correctly handled when we restore snapshots. Previously, we removed iframes which would change the page layout and the hitboxes’ coordinates we drew were wrong. Now we insert iframe placeholders that prevent the page layout from changing. Fixes <a href="https://github.com/cypress-io/cypress/issues/234" target="_blank" rel="noopener noreferrer">#234</a>.</li> <li>Snapshot hitboxes no longer incorrectly draw for elements that are hidden. Fixes <a href="https://github.com/cypress-io/cypress/issues/251" target="_blank" rel="noopener noreferrer">#251</a>.</li> <li>Fixed a bug that caused commands to time out on subsequent tests whenever there was an uncaught error + an assertion conflict. Fixes <a href="https://github.com/cypress-io/cypress/issues/238" target="_blank" rel="noopener noreferrer">#238</a>.</li> <li>Fixed an edge case where assertions would incorrectly associate to a previously run assertion. Fixes <a href="https://github.com/cypress-io/cypress/issues/252" target="_blank" rel="noopener noreferrer">#252</a>.</li> <li>Cypress commands now correctly execute in <code>after</code> and <code>afterEach</code> hooks on a failed test. Previously they would only run on passing tests. Fixes <a href="https://github.com/cypress-io/cypress/issues/203" target="_blank" rel="noopener noreferrer">#203</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>We’ve bypassed Mocha’s default uncaught error handling and replaced it with something much better - actually using the thrown error instances instead of creating a new arbitrary one. This means you’ll see better stack traces on uncaught errors. Fixes <a href="https://github.com/cypress-io/cypress/issues/193" target="_blank" rel="noopener noreferrer">#193</a>.</li> <li>We’ve bypassed Mocha’s default uncaught error handling in a <code>hook</code>. Normally this immediately ends the run. Instead we are skipping the remaining tests in the current suite. This prevents skipping potentially dozens or hundreds of tests downstream that are typically unrelated to the hook failure.</li> <li>We’ve updated <code>cypress-cli</code> package to <code>0.12.0</code>. You will need to download this new CLI version if you want to pass <code>--reporter-options</code>.</li> <li>Bumped the internal version of <code>mocha</code> from <code>2.2.1</code> to <code>2.4.5</code>.</li> </ul> <h1 id="0-17-4" class="article-heading">
0.17.4
</h1>
<p><em>Released 09/12/2016</em></p> <p><strong>Breaking Changes:</strong></p> <ul> <li>Using subsequent <a href="../../../api/commands/visit/"><code>cy.visit()</code></a>‘s <em>in the same test</em> will not necessarily force a full page refresh. If all that changed was the hash of a url, then the hash changes will take affect <strong>without</strong> a full page refresh. This matches the behavior of a real browser. Previously <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> always forced a full page refresh and this was not correct.</li> </ul> <p><strong>Features:</strong></p> <ul> <li>Using <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> now acts <em>exactly</em> how modifying the URL in a real browser works. This means that if you visit a url with a hash in it, instead of forcing a full page refresh, it will now modify the hash route as if you had manually changed it. This more accurately reflects real user behavior. Previously this was impossible to do with Cypress other than manually altering <code>window.location.hash</code>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Fixed a regression in <code>0.17.2</code> which caused <strong>separate</strong> tests that were visiting the same URL not to actually visit the new URL and eventually time out. We’ve updated some of our internal QA processes around this because we rarely have regressions and they are a pretty big deal. Fixes <a href="https://github.com/cypress-io/cypress/issues/225" target="_blank" rel="noopener noreferrer">#225</a>.</li> <li>Fixed displaying <code>(null)</code> contentType when a <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> returned a <code>404</code> status code. We now only display <code>contentType</code> when one exists.</li> </ul> <h1 id="0-17-3" class="article-heading">
0.17.3
</h1>
<p><em>Released 09/11/2016</em></p> <p><strong>Features:</strong></p> <ul> <li>When <code>visible</code> assertions such as <code>should('be.visible')</code> fail we now print the reason Cypress thought the element was invisible. Matches what Cypress prints out when attempting to interact with invisible elements. Fixes <a href="https://github.com/cypress-io/cypress/issues/221" target="_blank" rel="noopener noreferrer">#221</a>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Prevent <code>Host</code> header from having its port appended when request was for port <code>80</code> or <code>443</code> which lead to 3rd party reverse proxy problems such as with <code>zeit.co</code> hosting. Fixes <a href="https://github.com/cypress-io/cypress/issues/222" target="_blank" rel="noopener noreferrer">#222</a>.</li> <li>Send valid http response errors, and display new lines correctly. Fixes <a href="https://github.com/cypress-io/cypress/issues/218" target="_blank" rel="noopener noreferrer">#218</a>.</li> <li>Correctly inject on <code>5xx</code> http response codes. Fixes <a href="https://github.com/cypress-io/cypress/issues/217" target="_blank" rel="noopener noreferrer">#217</a>.</li> <li>Correctly inject on <code>4xx</code> and other bad http response codes when using Cypress as the file server. Fixes <a href="https://github.com/cypress-io/cypress/issues/219" target="_blank" rel="noopener noreferrer">#219</a>.</li> <li>Correctly inject on <code>gzip</code> errors from 3rd party servers doing unintended things. Fixes <a href="https://github.com/cypress-io/cypress/issues/220" target="_blank" rel="noopener noreferrer">#220</a>.</li> </ul> <h1 id="0-17-2" class="article-heading">
0.17.2
</h1>
<p><em>Released 09/06/2016</em></p> <p><strong>Notes:</strong></p> <ul> <li>After this update if you are seeing <code>&lt;iframe&gt;</code> origin errors <em>please let us know</em> by <a href="https://github.com/cypress-io/cypress/issues/new" target="_blank" rel="noopener">opening an issue</a>. We will screen-share with you to diagnose the issue. We’re no longer aware of any situation where this should happen, so if you’re experiencing these bugs, please help us track them down.</li> </ul> <p><strong>Features:</strong></p> <ul> <li>Attempting to <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> a non <code>text/html</code> resource will now throw a specific error message instead of bombing on page injection with an <code>&lt;iframe</code>&gt; origin error. You have to visit actual <code>html</code>, you cannot visit something like a <code>.json</code> or <code>.png</code>. If you’re wanting to visit an API route on your back end that does something like set cookies (thus avoiding loading your UI) you can just use <a href="../../../api/commands/request/"><code>cy.request()</code></a> for this since it will now automatically get and set cookies under the hood. Fixes <a href="https://github.com/cypress-io/cypress/issues/211" target="_blank" rel="noopener noreferrer">#211</a>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Fixed a regression in <code>0.17.1</code> that was incorrectly setting <code>Cache</code> headers. This <em>could</em> cause a situation where you received an <code>&lt;iframe&gt;</code> origin error. Additionally we now set <code>No-Cache</code> headers whenever we inject content, but otherwise respect the headers coming from web servers. When using Cypress as the file server, we set <code>etags</code> but prevent caching.</li> <li>Most likely fixed a bug that was crashing Cypress due to <code>Cannot set headers after they've been sent</code>. We were unable to write a test for this since we could not recreate the error, but analyzed how it <em>may</em> happen and fixed the code there. <a href="https://github.com/cypress-io/cypress/issues/new" target="_blank" rel="noopener noreferrer">Open an issue</a> if you see this error, it will be obvious since Cypress will literally crash.</li> <li>We stopped minifying <code>vendor.js</code> (for real this time). More optimizations to come around this.</li> <li>Prevented accidentally setting <code>domain</code> cookies when they were really <code>hostOnly</code> cookies, thus duplicating the number of cookies sent on requests. Kudos to <a href="https://github.com/bahmutov" target="_blank" rel="noopener">@bahmutov</a> for finding this one. Fixes <a href="https://github.com/cypress-io/cypress/issues/207" target="_blank" rel="noopener noreferrer">#207</a>.</li> <li>Fixed some edge cases in <code>cypress-core-extension</code> where it threw errors when attempting to <code>executeScript</code> on a tab with <code>about:blank</code> or <code>chrome://</code> urls.</li> <li>We’ve fixed some underlying issues with <a href="../../../api/commands/go/"><code>cy.go()</code></a> during <code>cypress run</code>. It always worked fine in real Chrome. Previously there were some situations where it would not navigate forward / back correctly.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>No longer force <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> to navigate to <code>about:blank</code> prior to navigating to the real url. Fixes <a href="https://github.com/cypress-io/cypress/issues/208" target="_blank" rel="noopener noreferrer">#208</a>.</li> <li>
<a href="../../../api/commands/writefile/"><code>cy.writeFile()</code></a> can now accept an empty string. Fixes <a href="https://github.com/cypress-io/cypress/issues/206" target="_blank" rel="noopener noreferrer">#206</a>.</li> <li>Improved error messages for <a href="../../../api/commands/readfile/"><code>cy.readFile()</code></a> and <a href="../../../api/commands/writefile/"><code>cy.writeFile()</code></a>.</li> <li>The full file path is now included in console output for <a href="../../../api/commands/readfile/"><code>cy.readFile()</code></a> and <a href="../../../api/commands/writefile/"><code>cy.writeFile()</code></a>.</li> <li>The <a href="https://github.com/cypress-io/cypress-example-kitchensink" target="_blank" rel="noopener">Kitchen Sink</a> and <code>example_spec.js</code> have been updated to reflect the newest changes and features of <code>0.17.1</code>.</li> </ul> <h1 id="0-17-1" class="article-heading">
0.17.1
</h1>
<p><em>Released 08/31/2016</em></p> <p><strong>Features:</strong></p> <ul> <li>You can now pass keyboard modifiers such as <code>ctrl</code>, <code>cmd</code>, <code>shift</code>, and <code>alt</code> to <a href="../../../api/commands/type/"><code>.type()</code></a>. In addition we’ve added support for not “releasing” these keys so they can affect other actions such as <a href="../../../api/commands/click/"><code>.click()</code></a>. Addresses <a href="https://github.com/cypress-io/cypress/issues/196" target="_blank" rel="noopener noreferrer">#196</a>.</li> <li>You can now type into the <code>&lt;body&gt;</code> or <code>document</code> as opposed to previously <em>having</em> to target a valid focusable element. This is useful in situations where you’re testing keyboard shortcuts and do not want to target a specific element. Addresses <a href="https://github.com/cypress-io/cypress/issues/150" target="_blank" rel="noopener noreferrer">#150</a>.</li> <li>There is a new command <a href="../../../api/commands/readfile/"><code>cy.readFile()</code></a> that reads files on your file system and changes the subject to the contents. Addresses <a href="https://github.com/cypress-io/cypress/issues/179" target="_blank" rel="noopener noreferrer">#179</a>.</li> <li>There is a new command <a href="../../../api/commands/writefile/"><code>cy.writeFile()</code></a> that creates and/or writes contents to files on your file system. Addresses <a href="https://github.com/cypress-io/cypress/issues/179" target="_blank" rel="noopener noreferrer">#179</a>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>
<a href="../configuration/#Timeouts"><code>defaultCommandTimeout</code></a> now works correctly. The driver was still referencing the old <code>commandTimeout</code> value.</li> <li>The <code>__cypress.initial</code> cookie should now be removed during any <a href="../../../api/commands/visit/"><code>cy.visit()</code></a>, which should fix some edge cases with the proxy accidentally injecting content when it shouldn’t. We also added a ton more e2e tests covering these edge cases and other behavior.</li> <li>The proxy now restricts its injection to only <code>Content-Type: text/html</code> headers so it will not accidentally inject into the wrong responses.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>All <a href="../../../api/commands/fixture/"><code>cy.fixture()</code></a> extensions are now supported and Cypress will no longer throw on extensions it doesn’t recognize. For known fixture extensions we’ll continue to apply a default <code>encoding</code> and for everything else it will default to <code>utf8</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/200" target="_blank" rel="noopener noreferrer">#200</a>.</li> <li>
<a href="../../../api/commands/fixture/"><code>cy.fixture()</code></a> now accepts <code>encoding</code> as a 2nd optional argument.</li> <li>We now display a keyboard ‘modifiers’ column when clicking on a <a href="../../../api/commands/type/"><code>.type()</code></a> in the Command Log.</li> </ul> <h1 id="0-17-0" class="article-heading">
0.17.0
</h1>
<p><em>Released 08/30/2016</em></p> <p><strong>Overview:</strong></p> <ul> <li>The desktop application has been completely redesigned. We have moved from a tray application to a standard dock application. The list of projects is now in the same window as the list of tests in a project. As each test runs, the application highlights the currently running spec and displays the browser version running. The configuration of a project is now displayed in its own tab. There is now a Desktop Menu where you can logout, check for updates, or view help links.</li> <li>The test <a href="https://github.com/cypress-io/cypress/tree/develop/packages/runner" target="_blank" rel="noopener">runner</a> has been rebuilt from the ground up in <a href="https://reactjs.org/" target="_blank" rel="noopener">React.js</a>. The left side of the runner called the <a href="https://github.com/cypress-io/cypress/tree/develop/packages/reporter" target="_blank" rel="noopener">reporter</a> is now a separate application. This, as well as other changes, markedly improved the performance of running tests. <em>Your tests will now run faster.</em> This will also enable you to test your application in full screen. Additionally this paves the way for being able to spawn multiple browsers at once and synchronize testing across them. This also means we’ll be able to support mobile browsers. The UI for doing this hasn’t been implemented but the vast majority of the work to accomplish this is done now.</li> <li>We have rewritten the entire proxy layer of the Cypress server to finally fix all the problems with CORS.</li> </ul> <p><strong>Breaking Changes:</strong></p> <ul> <li>You cannot <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> two different super domains within a single test. Example: <code>cy.visit('https://google.com').visit('https://apple.com')</code>. There shouldn’t be any reason you ever need to do this in a single test, if you do, you should make these two separate tests.</li> </ul> <p><strong>Features:</strong></p> <ul> <li>
<em>All CORS related issues should finally be fixed now.</em> Cypress now internally switches to the domain that you used in your <a href="../../../api/commands/visit/"><code>cy.visit()</code></a>. This means that the correct domain will display in the URL based on the application currently under test. Your application’s code will run under the current domain at all times. Previously we implemented an endless amount of hacks and internal translations to figure out the domain you were <em>supposed</em> to be on without actually being on the domain. This caused code to behave different and caused subtle issues. Those issues should now be resolved. The entire proxy layer has been rewritten to handle all HTTPS certificates flawlessly, continue to inject (even on HTTPS pages), and still know when to automatically bypass injection so you can open other tabs while testing in Cypress. These new proxy changes also unlock the ability to do things like whitelisting or blacklisting specific 3rd party domains, or even be able to stub not just XHR’s but any kind of HTTP request.</li> <li>
<code>window.fetch</code> now works correctly. Stubbing these does not yet work but it is now possible for us to implement stubbing in a future version. Addresses <a href="https://github.com/cypress-io/cypress/issues/95" target="_blank" rel="noopener noreferrer">#95</a>.</li> <li>The list of tests now automatically refresh when test files are renamed, deleted, or added. In addition, because the list of tests is now displayed in the desktop application, we now synchronize the state of the current running spec.</li> <li>
<a href="../../../api/commands/visit/"><code>cy.visit()</code></a> has better error messages. Cypress now programmatically determines why a <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> failed and gives you a ridiculously accurate error message. Addresses <a href="https://github.com/cypress-io/cypress/issues/138" target="_blank" rel="noopener noreferrer">#138</a>.</li> <li>
<a href="../../../api/commands/visit/"><code>cy.visit()</code></a> now displays redirects and any cookies set.</li> <li>The currently running test is now scrolled into view. This behavior can be turned off by scrolling in the Command Log or selecting to disable auto-scroll at the top of the Command Log. Addresses <a href="https://github.com/cypress-io/cypress/issues/194" target="_blank" rel="noopener noreferrer">#194</a>
</li> <li>Tests in the Command Log now automatically expand when specific commands take longer than <code>1000ms</code> to run. Previously when running more than 1 test we did not expand commands until a test failed. Now they will be expanded and automatically collapsed whenever a single command is taking a long time to finish.</li> <li>We now have full blown subdomain support. This means you can now navigate to a subdomain either directly via a <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> or by navigating in your application naturally (such as clicking an <code>&lt;a&gt;</code>).</li> <li>
<a href="../../../api/commands/request/"><code>cy.request()</code></a> now attaches and sets cookies transparently on the browser. Even though the browser will not physically make the request, we automatically apply outgoing cookies <em>as if</em> the browser had made the request. Additionally we will automatically <em>set</em> cookies on the browser based on the response. This means you can use <a href="../../../api/commands/request/"><code>cy.request()</code></a> to bypass not just CORS but handle things like automatically logging in without having to manually perform these actions in the UI.</li> <li>We now handle HTTP request errors much better. Previously if your web server sent us back a <code>4xx</code> or <code>5xx</code> response we would automatically send back a <code>500</code>. Now we transparently pass these through.</li> <li>Improved dozens of error messages.</li> <li>
<a href="../../../api/commands/debug/"><code>.debug()</code></a> output has been improved, and you can now easily inspect the current command’s subject.</li> <li>Clicking the URL in the header of the runner now opens that URL in a new tab.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Fixed URL proxy issue with subdomains. Fixes <a href="https://github.com/cypress-io/cypress/issues/183" target="_blank" rel="noopener noreferrer">#183</a>.</li> <li>Viewport size maximum has been decreased from <code>3001px</code> to <code>3000px</code> and minimum has been increased from <code>199px</code> to <code>200px</code> to match error messages. Fixes <a href="https://github.com/cypress-io/cypress/issues/189" target="_blank" rel="noopener noreferrer">#189</a>
</li> <li>WebSockets are now correctly proxied through HTTPS and through subdomains different than the current domain under test.</li> <li>Stopped <a href="../../../api/commands/debug/"><code>.debug()</code></a> from accidentally mutating subjects.</li> <li>Cypress now correctly injects and handles pages which are missing a <code>&lt;head&gt;</code>, a <code>&lt;body</code>&gt;, or even an <code>&lt;html&gt;</code> tag. Previously it would bomb on pages missing these tags.</li> <li>All commands with a long message (such as assertions) are automatically scaled down in font size and truncated properly. In addition, assertions will correctly bold the <code>expected</code> and <code>actual</code> values.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>
<a href="../../guides/command-line/#cypress-run"><code>cypress run</code></a> no longer requires being logged in.</li> <li>Renamed configuration option <code>commandTimeout</code> to <a href="../configuration/"><code>defaultCommandTimeout</code></a>. Cypress will transparently rewrite this if you have it in your <code>cypress.json</code>, so you don’t have to do anything.</li> <li>Renamed <code>onConsole</code> and <code>onRender</code> Command Log options to <code>consoleProps</code> and <code>renderProps</code>. We still support the older property names for backwards compatibility.</li> <li>Added support for a command’s <code>message</code> or <code>renderProps.message</code> to use markdown.</li> <li>The default value of <code>port</code> within a project’s global <a href="../configuration/">configuration</a> has changed from <code>2020</code> to now being a random open port. You can still configure a specific <code>port</code> if needed within the <a href="../configuration/">configuration</a>.</li> <li>We have upgraded the <code>Chromium</code> that runs headlessly on <a href="../../guides/command-line/#cypress-run"><code>cypress run</code></a> to version <code>51</code>.</li> <li>The internal version of <code>node</code> which is built into Cypress is now <code>6.1.0</code>.</li> <li>Cypress <code>.js</code> files are no longer minified to make them easier to debug.</li> <li>We are cleaning up internal <code>__cypress</code> cookies more so they won’t get in the way of testing your application.</li> <li>We now opt into <code>gzip</code> handling instead of forcing requests to omit it.</li> <li>The runner is now responsive. It will correctly scale down URLs on smaller screen sizes instead of looking completely broken in CSS. We also designed a much better loading indicator.</li> <li>Added button to the reporter that focuses the Test Runner and shows the list of tests.</li> <li>The reporter now updates the duration every <code>100ms</code> instead of only when a test changes.</li> <li>In the reporter, suites that are pending or contain only pending tests have the blue “pending” indicator on the left instead of the white “processing” indicator.</li> </ul> <h1 id="0-16-5" class="article-heading">
0.16.5
</h1>
<p><em>Released 07/31/2016</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Force exit codes that are <code>null</code> to <code>0</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/184" target="_blank" rel="noopener noreferrer">#184</a>.</li> </ul> <h1 id="0-16-4" class="article-heading">
0.16.4
</h1>
<p><em>Released 06/17/2016</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Fixed regression caused by <code>0.16.2</code> where a failed <a href="../../../api/commands/contains/"><code>cy.contains()</code></a> would not be canceled and would continue to run and display failed assertions in between test runs (without a full page refresh). Fixes <a href="https://github.com/cypress-io/cypress/issues/174" target="_blank" rel="noopener noreferrer">#174</a>.</li> </ul> <h1 id="0-16-3" class="article-heading">
0.16.3
</h1>
<p><em>Released 06/17/2016</em></p> <p><strong>Features:</strong></p> <ul> <li>
<a href="../../../api/commands/route/"><code>cy.route()</code></a> now accepts string glob patterns using <a href="https://github.com/isaacs/minimatch" target="_blank" rel="noopener">minimatch</a> under the hood. This means you can more easily route dynamic urls without using <code>regex</code>. Example: <code>cy.route('POST', '/users/*/comments', {})</code>.</li> <li>
<a href="../../../api/utilities/minimatch/"><code>Cypress.minimatch</code></a> is now exposed so you can easily test globbing patterns.</li> <li>
<a href="../../../api/commands/type/"><code>.type()</code></a> can now be used on non-input elements that have a <code>tabindex</code> attribute. Key events will fire but no text content will change and no input based events fire. Fixes <a href="https://github.com/cypress-io/cypress/issues/172" target="_blank" rel="noopener noreferrer">#172</a>.</li> <li>There is now an <a href="../configuration/"><code>ignoreTestFiles</code></a> configuration option that accepts an array of <code>glob</code> patterns. This enables you to ignore extraneous spec files that may be created during a build process. The default pattern is <code>*.hot-update.js</code> which will ignore dynamically generated webpack hot module swapping files. Fixes <a href="https://github.com/cypress-io/cypress/issues/159" target="_blank" rel="noopener noreferrer">#159</a>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Fixed a bug where Cypress could get into a weird state and continuously error due to the <code>before:log</code> event not being properly disposed. Fixes <a href="https://github.com/cypress-io/cypress/issues/173" target="_blank" rel="noopener noreferrer">#173</a>.</li> <li>Fixed a bug where invalid UTF-8 characters were being set in XHR headers which caused XHR’s to fail. We now properly encode and decode all values. Fixes <a href="https://github.com/cypress-io/cypress/issues/168" target="_blank" rel="noopener noreferrer">#168</a>.</li> <li>Nested directories under <code>cypress/support</code> no longer cause a <code>500</code> when tests run. This was due to Cypress not ignoring directories and trying to serve them as regular files. Fixes <a href="https://github.com/cypress-io/cypress/issues/163" target="_blank" rel="noopener noreferrer">#163</a>.</li> <li>Fixed situations where 3rd party libraries (such as <a href="https://newrelic.com/" target="_blank" rel="noopener">New Relic</a> were instrumenting XHR’s identical to Cypress’ implementation. This caused an infinite loop which would crash the browser. We’ve updated how we instrument XHR’s to take this into account and deployed multiple fallbacks and strategies to prevent this kind of thing from happening in the future. Fixes <a href="https://github.com/cypress-io/cypress/issues/166" target="_blank" rel="noopener noreferrer">#166</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>
<a href="../../../api/cypress-api/cypress-server/"><code>Cypress.Server.defaults()</code></a> now accepts a <code>urlMatchingOptions</code> option for passing options to <a href="https://github.com/isaacs/minimatch" target="_blank" rel="noopener">minimatch</a>.</li> <li>
<a href="../../guides/command-line/#cypress-run"><code>cypress run</code></a> now exits with the number of test failures instead of always exiting with 0. This matches the same way <code>cypress ci</code> works. Fixes <a href="https://github.com/cypress-io/cypress/issues/167" target="_blank" rel="noopener noreferrer">#167</a>.</li> <li>In the <a href="../../guides/command-line/">Cypress CLI tool</a> package version <code>0.11.1</code>, you can now pass the <code>--spec</code> option to <code>cypress ci</code>. This enables you to run a specific spec file as opposed to all tests. Fixes <a href="https://github.com/cypress-io/cypress/issues/161" target="_blank" rel="noopener noreferrer">#161</a>.</li> </ul> <h1 id="0-16-2" class="article-heading">
0.16.2
</h1>
<p><em>Released 06/11/2016</em></p> <p><strong>Features:</strong></p> <ul> <li>Added new <a href="../../../api/commands/screenshot/"><code>cy.screenshot()</code></a> command which can take screenshots on demand.</li> <li>When running <code>cypress run</code> or in CI, Cypress will now automatically take a screenshot when a test fails. You can optionally turn this off by setting <a href="../configuration/#Screenshots"><code>screenshotOnHeadlessFailure</code></a> to <code>false</code> in your configuration.</li> <li>Added new <a href="../configuration/#Screenshots"><code>screenshotsFolder</code></a> configuration option with default of <code>cypress/screenshots</code>.</li> <li>When running in <a href="https://circleci.com/" target="_blank" rel="noopener">Circle CI</a>, we automatically export screenshots as artifacts which makes them available directly in their web UI. If you’re using Circle CI, you’ll be able to see screenshots without doing anything. If you’re using <a href="https://travis-ci.org/" target="_blank" rel="noopener">Travis CI</a>, you’ll need to upload artifacts to an <code>s3 bucket</code>. This is a small slice of what is coming to help diagnose and understand errors in CI. Also in <code>0.17.0</code> we will automatically scroll the tests and more intelligently and open / close test commands so you can visually see what happened. Currently you may not see the test command’s failure in the Command Log due to the view not scrolling.</li> <li>Added new <a href="../../../api/commands/each/"><code>.each()</code></a> command which iterates serially on a collection yielding the iteratee, the index, and the collection. Addresses <a href="https://github.com/cypress-io/cypress/issues/156" target="_blank" rel="noopener noreferrer">#156</a>.</li> <li>
<a href="../../../api/commands/route/"><code>cy.route()</code></a> can now accept a single function and/or you can pass a function to the <code>response</code> property. This allows you to lazily evaluate routing responses. Great for referencing fixtures. Addresses <a href="https://github.com/cypress-io/cypress/issues/152" target="_blank" rel="noopener noreferrer">#152</a>.</li> <li>
<a href="../../../api/commands/contains/"><code>cy.contains()</code></a> now accepts a regular expression. Addresses <a href="https://github.com/cypress-io/cypress/issues/158" target="_blank" rel="noopener noreferrer">#158</a>.</li> <li>
<a href="../../../api/commands/type/"><code>.type()</code></a> now accepts <code>{downarrow}</code> and <code>{uparrow}</code>. We do not move the caret but do fire all the proper events. Addresses <a href="https://github.com/cypress-io/cypress/issues/157" target="_blank" rel="noopener noreferrer">#157</a>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>
<a href="../../../api/commands/exec/"><code>cy.exec()</code></a> now outputs additional <code>stderr</code> and <code>stdout</code> information. It additionally will automatically <code>source</code> your <code>$SHELL</code> which makes GUI apps behave as if they’ve been launched from your terminal. Fixes <a href="https://github.com/cypress-io/cypress/issues/153" target="_blank" rel="noopener noreferrer">#153</a> and <a href="https://github.com/cypress-io/cypress/issues/154" target="_blank" rel="noopener noreferrer">#154</a>.</li> <li>
<a href="../../../api/commands/then/"><code>.then()</code></a> yielding nested subjects.</li> <li>
<a href="../../../api/commands/contains/"><code>cy.contains()</code></a> no longer returns the last element found when siblings both contain the same content. Fixes <a href="https://github.com/cypress-io/cypress/issues/158" target="_blank" rel="noopener noreferrer">#158</a>.</li> <li>Cypress no longer errors when you return a raw DOM element. It now correctly wraps this as the new subject.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>
<a href="../../../api/commands/contains/"><code>cy.contains()</code></a> now provides an even more specific error message when it was scoped to a particular DOM element and contained a selector. Fixes <a href="https://github.com/cypress-io/cypress/issues/160" target="_blank" rel="noopener noreferrer">#160</a>.</li> <li>You will now see a very specific error message when we detect that you’ve mixed up <code>async</code> and <code>sync</code> code in a <a href="../../../api/commands/then/"><code>.then()</code></a> callback function. An example would be queuing up a new cypress command but then synchronously returning a different value.</li> </ul> <h1 id="0-16-1" class="article-heading">
0.16.1
</h1>
<p><em>Released 05/22/2016</em></p> <p><strong>Features:</strong></p> <ul> <li>
<a href="../../../api/cypress-api/cookies/#Debug"><code>Cypress.Cookies.debug()</code></a> now works again. Additionally it provides much more feedback than it used to.</li> <li>
<a href="../../../api/cypress-api/cookies/#Debug"><code>Cypress.Cookies.debug(true, {verbose: false})</code></a> option has been added to remove verbose cookie object logging.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Copy / Paste now works when logging in on OSX. Fixes <a href="https://github.com/cypress-io/cypress/issues/145" target="_blank" rel="noopener noreferrer">#145</a>.</li> <li>Grammar: ‘Login -&gt; Log in’. Fixes <a href="https://github.com/cypress-io/cypress/issues/146" target="_blank" rel="noopener noreferrer">#146</a>.</li> <li>Cypress now uses the body instead of headers to send external requests. Fixes <a href="https://github.com/cypress-io/cypress/issues/148" target="_blank" rel="noopener noreferrer">#148</a>.</li> <li>When <a href="../../../api/commands/then/"><code>.then()</code></a> throws this no longer prevents the next test from issuing any commands. Fixes <a href="https://github.com/cypress-io/cypress/issues/149" target="_blank" rel="noopener noreferrer">#149</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Passing multiple arguments to <a href="../../../api/commands/its/"><code>.its()</code></a> now throws and suggests you use <a href="../../../api/commands/invoke/"><code>.invoke()</code></a>. Fixes <a href="https://github.com/cypress-io/cypress/issues/147" target="_blank" rel="noopener noreferrer">#147</a>.</li> </ul> <h1 id="0-16-0" class="article-heading">
0.16.0
</h1>
<p><em>Released 05/17/2016</em></p> <p><strong>Notes:</strong></p> <ul> <li>Updating through the Desktop App in <strong>Linux</strong> does not work. To update please run <a href="../../guides/command-line/"><code>cypress install</code></a> from the command line.</li> <li>We are still updating the docs to reflect all of these changes.</li> <li>All users must <em>LOG IN AGAIN</em> and re-add their projects. Sorry, we’ve changed the way we store local data.</li> </ul> <p><strong>Overview:</strong></p> <ul> <li>
<code>0.16.0</code> marks a significant change for Cypress. Before this we only issued commands using regular JavaScript and coordinated these with the back end server which is running. As of <code>0.16.0</code> we are now tapping into the underlying browser automation libraries which enable us to exceed the limitations of the JavaScript sandbox. This means we have total control over the browser for more powerful automation tooling. The downside is that we have only implemented these APIs for Chrome, and therefore running on multiple browsers will no longer work. This is a temporary setback as we’ll be adding driver support for all of the other browsers over a period of time. You can read more about our browser management <a href="../../guides/launching-browsers/">here</a>.</li> </ul> <p><strong>Breaking Changes:</strong></p> <ul> <li>Running tests in Cypress now requires either Chrome, Chromium, or Canary to be installed on your OS environment. We intend to expand support for more browsers in the future, but for now, only these 3 are supported.</li> <li>Removed support for <code>Cypress.Cookies.get</code>, <code>Cypress.Cookies.set</code> and <code>Cypress.Cookies.remove</code>.</li> <li>Changed return of <a href="../../../api/commands/getcookies/"><code>cy.getCookies()</code></a> to return an array of cookies, each with properties include name, value, etc.</li> <li>Changed return of <a href="../../../api/commands/clearcookies/"><code>cy.clearCookies()</code></a> to return null (previously was returning Cookie that was cleared).</li> <li>
<a href="../../../api/cypress-api/cookies/#Debug"><code>Cypress.Cookies.debug()</code></a> has been temporarily disabled and will be re-enabled later.</li> <li>Browsers are spawned in a Cypress specific profile so that we can maintain a clean state apart of your regular browsing usage. You will notice that your extensions are no longer installed. This is on purpose. 3rd party extensions can often get in the way of Cypress and cause failures. However, developer specific extensions for Angular, Ember, and React do not cause any issues but you’ll want to reinstall them. You only have to install them once and they will persist.</li> <li>The <code>whitelist</code> callback function of <a href="../../../api/cypress-api/cookies/#Defaults"><code>Cypress.Cookies.defaults()</code></a> now receives a <code>cookie object</code> instead of just the <code>cookies name</code> as a string.</li> </ul> <p><strong>Features:</strong></p> <ul> <li>When a project is initially run from the desktop app, you can now choose to run Cypress in a select number of browsers including: Chrome, Chromium, or Canary (depending on what’s installed on your OS).</li> <li>Browser sessions are spawned independently of your existing profiles and we’ve disabled things like password saving / prompting, JavaScript popup blocking, and other features which get in the way of testing. Read more <a href="../../guides/launching-browsers/">here</a>
</li> <li>We automatically spawn Chrome in a <strong>custom theme</strong> so you can visually distinguish the difference between browser sessions spawned with Cypress vs your normal sessions. We know this may feel a little jarring because you’re used to running Cypress alongside your other tabs. You will now see 2 chrome icons in your dock and you’ll need to switch between them. We know this is problematic and confusing and we’re looking into <strong>changing the icon</strong> of the Chrome running Cypress so it’s easier to tell the Chrome sessions apart.</li> <li>Added new commands to handle getting, setting, and clearing cookies: <a href="../../../api/commands/clearcookie/"><code>cy.clearCookie()</code></a>, <a href="../../../api/commands/getcookie/"><code>cy.getCookie()</code></a>, and <a href="../../../api/commands/setcookie/"><code>cy.setCookie()</code></a>.</li> <li>All the <code>cy.cookie</code> commands have been upgraded to take new options and can do much more powerful things outside of the JavaScript sandbox.</li> <li>Upgraded the Chromium version running headlessly and in CI from <code>47</code> to <code>49</code>.</li> <li>There is a new <a href="../../../api/commands/exec/"><code>cy.exec()</code></a> command that can execute any arbitrary system command. Additionally there is a new <a href="../configuration/#Timeouts"><code>execTimeout</code></a> configuration option which is set to <code>60s</code> by default. Fixes <a href="https://github.com/cypress-io/cypress/issues/126" target="_blank" rel="noopener noreferrer">#126</a>.</li> <li>There is a new <a href="../configuration/#Global"><code>numTestsKeptInMemory</code></a> configuration option that controls how many test’s snapshots and command data is kept in memory while tests are running. Reducing this number will reduce the memory used in the browser while tests are running. Whatever this number is - is how many tests you can walk back in time when inspecting their snapshots and return values. Addresses <a href="https://github.com/cypress-io/cypress/issues/142" target="_blank" rel="noopener noreferrer">#142</a>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Cypress taskbar icon now displays correctly in OS X dark theme. Fixes <a href="https://github.com/cypress-io/cypress/issues/132" target="_blank" rel="noopener noreferrer">#132</a>.</li> <li>Fixed issue where server error’s stack traces were being truncated in the Desktop app rendering them impossible to debug. Fixes <a href="https://github.com/cypress-io/cypress/issues/133" target="_blank" rel="noopener noreferrer">#133</a>.</li> <li>woff Fonts are now properly served from a local file system when using Cypress’ web server. Fixes <a href="https://github.com/cypress-io/cypress/issues/135" target="_blank" rel="noopener noreferrer">#135</a>.</li> <li>When an element’s center is not visible the error message now includes the stringified element in question, and not <code>undefined</code>.</li> <li>Typing into an <code>input[type=tel]</code> now works. Fixes <a href="https://github.com/cypress-io/cypress/issues/141" target="_blank" rel="noopener noreferrer">#141</a>.</li> <li>XHR’s which have their <code>onload</code> handler replaced after <code>XHR#send</code> is called is now properly accounted for. Fixes <a href="https://github.com/cypress-io/cypress/issues/143" target="_blank" rel="noopener noreferrer">#143</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>XHR requests for <code>.svg</code> files are no longer shown in the Command Log by default. Addresses <a href="https://github.com/cypress-io/cypress/issues/131" target="_blank" rel="noopener noreferrer">#131</a>.</li> <li>Improved error when <a href="../../../api/commands/request/"><code>cy.request()</code></a> fails. The request parameters are now included in the error. Addresses <a href="https://github.com/cypress-io/cypress/issues/134" target="_blank" rel="noopener noreferrer">#134</a>.</li> <li>When running a project in the new Cypress browser environment, if a new tab is opened, a message now displays discouraging the use of multiple tabs while testing. Addresses <a href="https://github.com/cypress-io/cypress/issues/9" target="_blank" rel="noopener noreferrer">#9</a>.</li> <li>When navigating directly to <code>localhost:2020</code> outside of the new Cypress browser environment, a message now displays discouraging running tests outside of the new Cypress browser environment.</li> <li>If, for whatever reason, Cypress cannot communicate with the automation servers, your testing session will immediately end and you’ll have the ability to re-spawn the browser.</li> <li>
<a href="../../../api/commands/fixture/"><code>cy.fixture()</code></a> now has a default timeout of <code>responseTimeout</code> which is <code>20s</code>.</li> <li>
<a href="../../../api/commands/fixture/"><code>cy.fixture()</code></a> can now properly time out and accepts an <code>options</code> argument that can override its default timeout.</li> <li>Improved initial Desktop Application startup performance by about <code>1.5s</code>.</li> <li>We now correctly store local data in each operating system’s correct <code>Application Data</code> area. This will be more resilient to upgrades in the future.</li> <li>Running Cypress in a linux VM on VirtualBox no longer displays “black screens”.</li> <li>Our internal proxy no longer strips <code>HttpOnly</code> cookie flags.</li> <li>Improved command errors and normalized many of them. Fixes <a href="https://github.com/cypress-io/cypress/issues/137" target="_blank" rel="noopener noreferrer">#137</a>.</li> <li>JavaScript popup blocking is now disabled and will not interfere with running tests. Fixes <a href="https://github.com/cypress-io/cypress/issues/125" target="_blank" rel="noopener noreferrer">#125</a>.</li> <li>We now capture synchronous errors from XHR <code>onreadystatechange</code> handlers.</li> </ul> <h1 id="0-15-4" class="article-heading">
0.15.4
</h1>
<p><em>Released 04/22/2016</em></p> <p><strong>Notes:</strong></p> <ul> <li>The docs have not yet been updated to reflect the changes to <a href="../../../api/commands/its/"><code>.its()</code></a> and <a href="../../../api/commands/invoke/"><code>.invoke()</code></a>.</li> </ul> <p><strong>Breaking Changes:</strong></p> <ul> <li>You can no longer improperly use <a href="../../../api/commands/its/"><code>.its()</code></a> and <a href="../../../api/commands/invoke/"><code>.invoke()</code></a>. Using <a href="../../../api/commands/invoke/"><code>.invoke()</code></a> on a non function property will result in an error that tells you how to write it properly using <a href="../../../api/commands/its/"><code>.its()</code></a>.</li> </ul> <p><strong>Features:</strong></p> <ul> <li>Our <a href="https://gitter.im/cypress-io/cypress" target="_blank" rel="noopener">chat</a> has now been directly integrated into Cypress’s nav. Clicking on the <code>chat</code> icon will immediately display the current gitter chat log.</li> <li>Added a new link to Options dropdown in Desktop app for “Chat” that goes to our <a href="https://gitter.im/cypress-io/cypress" target="_blank" rel="noopener">chat</a>.</li> <li>
<a href="../../../api/commands/its/"><code>.its()</code></a> and <a href="../../../api/commands/invoke/"><code>.invoke()</code></a> now support <strong>dot separated</strong> nested properties.</li> <li>Using <a href="../../../api/commands/its/"><code>.its()</code></a> on a function will now allow you to access its properties instead of automatically calling a function. Fixes <a href="https://github.com/cypress-io/cypress/issues/122" target="_blank" rel="noopener noreferrer">#122</a>.</li> <li>Error messages and command messages for <a href="../../../api/commands/its/"><code>.its()</code></a> and <a href="../../../api/commands/invoke/"><code>.invoke()</code></a> have been improved.</li> <li>Adding an attribute called <code>data-cypress-ignore</code> to an element will prevent the internal Cypress proxy from rewriting any of its content or attributes.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>During <code>cypress run</code>, windows created with <code>window.open</code> will no longer physically display. They are now correctly headless. Fixes <a href="https://github.com/cypress-io/cypress/issues/123" target="_blank" rel="noopener noreferrer">#123</a>.</li> <li>The auto generated <code>example_spec.js</code> no longer errors on <code>cy.visit('app/index.html')</code> since that file would likely not locally exist.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Better error handling of unauthorized users attempting to login to Cypress with improved <a href="../../getting-started/installing-cypress/">Login documentation</a>.</li> </ul> <h1 id="0-15-3" class="article-heading">
0.15.3
</h1>
<p><em>Released 04/10/2016</em></p> <p><strong>Features:</strong></p> <ul> <li>Cypress will now <a href="../configuration/#Resolved-Configuration">display the <strong>resolved</strong> configuration values when you open a project</a>. This tells you the source of all config values.</li> <li>The latest version of the <a href="../../guides/command-line/">Cypress CLI</a> now accepts passing arguments to <a href="../../guides/command-line/#cypress-open"><code>cypress open</code></a>. Example: <code>cypress open --config waitForAnimations=false --env foo=bar,baz=quux</code>. This enables you to set and override local <code>cypress.json</code> configuration and additionally set environment variables.</li> <li>
<a href="../../guides/environment-variables/">Environment Variables</a> that match any configuration keys (such as <code>pageLoadTimeout</code> or <code>watchForFileChanges</code>) now override their values. So, if you <code>export CYPRESS_WATCH_FOR_FILE_CHANGES=false</code> it will turn off this configuration option. Also note that we’ll automatically normalize environment keys so: <code>CYPRESS_pageLoadTimeout=100000</code> and <code>CYPRESS_PAGE_LOAD_TIMEOUT=100000</code> will both be correctly handled. We’ll also coerce values into <code>Boolean</code> or <code>Number</code> correctly.</li> <li>Cypress now correctly proxies WebSockets that are pointed at the local Cypress server (typically <code>localhost:2020</code>). Because most users use <a href="http://socket.io/" target="_blank" rel="noopener">Socket.io</a>, when Socket.io could not correctly connect over WebSockets it would fall back to XHR polling. You may notice many less XHR requests in your command log (which is the intended behavior).</li> <li>The tray icon in OSX will now change colors. It will turn blue when you’re running a Cypress project and red on any kind of failures such as syntax errors in <code>cypress.json</code>. It will turn back black when nothing is actively running.</li> <li>The title of your project is now the title of the browser tab (so you can easily tell Cypress tabs from one another).</li> <li>There is now a link to our <a href="https://gitter.im/cypress-io/cypress" target="_blank" rel="noopener">chat</a> in the navigation of the web app.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>The <code>-s</code> or <code>--spec</code> option now works correctly. You now must pass a relative or absolute path to your spec file. This is much less confusing, allows you to easily autocomplete entries from bash, and will support <code>unitFolder</code> later when it’s added. Assuming you want to run a spec file that is located in <code>cypress/integration/foo_spec.js</code> you would pass: <code>cypress run --spec 'cypress/integration/foo_spec.js'</code>. Previously you could just pass <code>--spec foo_spec.js</code> which now no longer works (and was broken anyway). Fixes <a href="https://github.com/cypress-io/cypress/issues/120" target="_blank" rel="noopener noreferrer">#120</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Open sourced another core repo: <a href="https://github.com/cypress-io/cypress/tree/develop/packages/desktop-gui" target="_blank" rel="noopener">Cypress Core Test Runner</a> which makes up the Cypress Desktop Application.</li> <li>Improved the <a href="https://github.com/cypress-io/cypress/issues/74#issuecomment-208422453" target="_blank" rel="noopener noreferrer">error message</a> displayed to users on Windows attempting to download the Cypress Desktop app.</li> </ul> <h1 id="0-15-2" class="article-heading">
0.15.2
</h1>
<p><em>Released 04/03/2016</em></p> <p><strong>Features:</strong></p> <ul> <li>The <a href="../error-messages/">error message when Cypress detects that a test has ended early</a> (there are still commands left in the queue) now displays a list of these commands with a much improved explanation.</li> <li>There is now a new <a href="../configuration/">configuration option</a>: <code>watchForFileChanges</code> that, when set to <code>false</code> in the <code>cypress.json</code>, will prevent Cypress from attempting to watch for file changes and restart your tests.</li> <li>You can now set the default <a href="../configuration/"><code>reporter</code></a> in <code>cypress.json</code> for use during <code>cypress run</code> or in CI.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>The <a href="../../guides/command-line/#cypress-run"><code>–reporter</code></a> CLI option is now working again.</li> <li>the <code>teamcity</code> reporter is now also working again.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Updated favicon + logo mark</li> </ul> <h1 id="0-15-1" class="article-heading">
0.15.1
</h1>
<p><em>Released 04/01/2016</em></p> <p><strong>Features:</strong></p> <ul> <li>
<a href="../../../api/commands/go/"><code>cy.go()</code></a> and <a href="../../../api/commands/reload/"><code>cy.reload()</code></a> now accept a timeout option. Also, these commands would previously time out after the default <code>commandTimeout</code> of <code>4000ms</code>, but now they will timeout after <code>pageLoadTimeout</code> of <code>30000ms</code>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>When an integration test file is unable to run and the <code>integrationFolder</code> is not the default path, the UI error now properly prints the integration test file’s path by stripping off <code>integration</code> in the path. Fixes <a href="https://github.com/cypress-io/cypress/issues/117" target="_blank" rel="noopener noreferrer">#117</a>.</li> <li>
<code>Cypress.Dom.isHidden()</code> will now throw error when it isn’t passed a DOM element.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Renamed <a href="../configuration/">configuration</a> option <code>visitTimeout</code> to <code>pageLoadTimeout</code>. You don’t need to change anything. If you were specifically setting <code>visitTimeout</code> in your <code>cypress.json</code> file it will be transparently rewritten <code>pageLoadTimeout</code> on the next server boot. This option was renamed because now multiple commands <code>cy.visit()</code>, <code>cy.go()</code>, and <code>cy.reload()</code> all depend on this timeout option.</li> <li>The Cypress tray icon has been updated. It’s much better now.</li> </ul> <h1 id="0-15-0" class="article-heading">
0.15.0
</h1>
<p><em>Released 03/28/2016</em></p> <p><strong>Overview:</strong></p> <ul> <li>As we get closer to a public release we’ve decided to focus on onboarding new users and new projects. We’ve made several breaking changes to help with this process.</li> </ul> <p><strong>Features:</strong></p> <ul> <li>There is now an <code>example_spec.js</code> file that is scaffolded on new projects. This allows new users to instantly see Cypress successfully running on an example project and will answer many questions on writing your first tests. This <code>example_spec.js</code> file contains every single Cypress command and has approximately 70 tests.</li> <li>Added a welcome dialog for new projects that explains how Cypress scaffolds out its folder structure. This dialog will only display if Cypress detects that you haven’t written any tests or changed the initial <code>example_spec.js</code> file. The welcome dialog will no longer display after you’ve changed or added any tests.</li> <li>Added the ability to click on file/folder links from within the Cypress webapp that will spawn your OS file/folder finder and show you where the files are located in your project.</li> <li>There is now a default <code>cypress</code> folder that contains your test files, a <code>fixtures</code> folder with an example fixture, and a <code>support</code> folder with example support files. Inside <code>cypress</code> there is an <code>integration</code> folder that will contain your integration tests.</li> <li>You can now turn off <code>supportFolder</code> and <code>fixturesFolder</code> by passing <code>false</code> in <code>cypress.json</code>. This will automatically remove the folders the next time you open your project in Cypress. Fixes <a href="https://github.com/cypress-io/cypress/issues/102" target="_blank" rel="noopener noreferrer">#102</a>.</li> <li>Restyled the tests list.</li> </ul> <p><strong>Breaking Changes:</strong></p> <ul> <li>Cypress no longer looks at your <code>tests</code> directory for test files. Now, by default, it looks in the <code>cypress/integration</code> directory.</li> <li>We’ve removed the configuration option <code>testFolder</code> and renamed it to <a href="../configuration/#Folders-Files"><code>integrationFolder</code></a> inside of the <code>cypress.json</code>.</li> <li>We’ve renamed the <code>cypress</code> npm package to be <code>cypress-cli</code>. You’ll see a giant deprecation warning until your scripts have been updated to reference <code>cypress-cli</code>.. You can also uninstall the <code>cypress</code> npm package.</li> <li>Added new <a href="../configuration/#Folders-Files"><code>fileServerFolder</code></a> configuration option that can mount a directory other than your project root when using Cypress as a web server.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Using <a href="../../../api/commands/hover/"><code>.hover()</code></a> will provide a detailed error message with a link for working around hover constraints. Addresses <a href="https://github.com/cypress-io/cypress/issues/10" target="_blank" rel="noopener noreferrer">#10</a>
</li> <li>Internal routing errors in Cypress are now gracefully handled with <code>x-cypress-error</code> and <code>x-cypress-stack</code> set on response headers.</li> <li>Updated all of the repo names to be modular.</li> </ul> <p><strong>What you need to do</strong>:</p> <ul> <li>We did not write an automatic migration from <code>tests</code> -&gt; <code>cypress</code>
</li> <li>You need to manually move your existing test files from <code>tests</code> into <code>cypress/integration</code>.</li> <li>
<a href="https://gitter.im/cypress-io/cypress" target="_blank" rel="noopener">Come into the chat</a> if you have any problems or need help.</li> </ul> <p>More Info:</p> <ul> <li>Why did you change the default test folder to be <code>cypress/integration</code>.</li> <li>We are adding support for unit testing in the near future and decided that there needs to be a separation between <code>unit</code> and <code>integration</code> tests. The actual runner will handle these two sets of specs very differently. It’s important to make the change now so when we do add support for unit tests, you only have to create a <code>unit</code> folder inside of your <code>cypress</code> folder.</li> </ul> <h1 id="0-14-3" class="article-heading">
0.14.3
</h1>
<p><em>Released 03/20/2016</em></p> <p><strong>Features:</strong></p> <ul> <li>Added <a href="../../../api/commands/getcookies/"><code>cy.getCookies()</code></a> command for easy chain-ability. Fixes <a href="https://github.com/cypress-io/cypress/issues/103" target="_blank" rel="noopener noreferrer">#103</a>.</li> <li>Cypress now outputs its version when passed the <code>--version</code> argument</li> <li>If you are not logged in on OSX, Cypress now issues a native system notification indicating to you that Cypress is running in your tray (many users often complained they could not tell Cypress was actually running)</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Handle clearing cookies better when they are created on a path other than <code>/</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/104" target="_blank" rel="noopener noreferrer">#104</a>.</li> <li>Issuing Cypress Commands inside of a Promise now works. Fixes <a href="https://github.com/cypress-io/cypress/issues/111" target="_blank" rel="noopener noreferrer">#111</a>.</li> <li>‘Add Project’ dialog is no longer lost on blur. Fixes <a href="https://github.com/cypress-io/cypress/issues/115" target="_blank" rel="noopener noreferrer">#115</a>.</li> <li>Desktop windows that are transparent no longer lose their box shadow.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>
<code>cy.visit()</code> callback functions: <code>onBeforeLoad</code> and <code>onLoad</code> are now invoked with the current runnables context instead of with <code>cy</code>. This makes accessing properties in your tests much easier.</li> </ul> <h1 id="0-14-2" class="article-heading">
0.14.2
</h1>
<p><em>Released 03/14/2016</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Chaining more cy commands after using <a href="../../../api/commands/wrap/"><code>cy.wrap()</code></a> now works. Fixes <a href="https://github.com/cypress-io/cypress/issues/114" target="_blank" rel="noopener noreferrer">#114</a>.</li> <li>Cypress now handles events property when a DOM element is removed during a <code>.click()</code> event. As per the spec, if <code>mousedown</code> causes element removal then <code>mouseup</code> and <code>click</code> and <code>focus</code> events will not be fired. Additionally if removal happens during <code>mouseup</code> then <code>click</code> event will not be fired. Also updated the <code>onConsole</code> groups to only display and indicate the events which actually fired. Fixes <a href="https://github.com/cypress-io/cypress/issues/109" target="_blank" rel="noopener noreferrer">#109</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Removed <code>fa-refresh</code> icons next to suites and tests until this behavior has been reimplemented due to ID removal.</li> <li>Removed resetting the runnable timeout when a <code>page load</code> event resolves. This prevents an edge case where the next test may show as timed out during <code>cypress run</code>.</li> </ul> <h1 id="0-14-1" class="article-heading">
0.14.1
</h1>
<p><em>Released 03/13/2016</em></p> <p><strong>Features:</strong></p> <ul> <li>Project ID’s and <code>cypress.json</code> are now only generated once you start your Cypress server. Previously they were created initially when you choose the project folder. This now means you won’t have to cleanup excess files if you accidentally select the wrong folder. Additionally you can now use Cypress 100% offline. Previously the GUI would block until the project had an ID but this restriction has been lifted.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>The proxy server can now correctly proxy content on a <code>ipv6</code> host only. We had to patch node core to get this in, as by default node prefers <code>ipv4</code>. We now concurrently test all hosts via <code>dns.lookup</code> to find the first one that responds. This updated behavior now matches how other clients, like <code>curl</code>, and browsers resolve hosts. Fixes <a href="https://github.com/cypress-io/cypress/issues/112" target="_blank" rel="noopener noreferrer">#112</a>.</li> <li>Simplified how Cypress stores projects and fixed some edge cases where Cypress would send an outdated Project ID.</li> <li>Prevent server from opening and immediately closing + re-opening when project is missing a Project ID and one is generated.</li> <li>Using Cypress as a file server and serving a file that’s part of a folder that has a name containing a space now works. Fixes <a href="https://github.com/cypress-io/cypress/issues/113" target="_blank" rel="noopener noreferrer">#113</a>.</li> <li>The existing <code>.cy</code> cache and settings are now correctly copied again after an app update.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Projects without an ID now error correctly when running in CI.</li> <li>When Cypress cannot proxy http content due to a software error it will attach a <code>x-cypress-error</code> and <code>x-cypress-stack</code> to the HTTP request for easy inspection and debugging.</li> <li>Cypress will now output its internal logger directly to the console when <code>CYPRESS_DEBUG</code> env var is set.</li> <li>Replaced Ruby / Compass with <code>node saas</code>.</li> </ul> <h1 id="0-14-0" class="article-heading">
0.14.0
</h1>
<p><em>Released 03/08/2016</em></p> <p><strong>Summary:</strong></p> <ul> <li>This update represents mostly a lot of internal structure changes. We swapped out the underlying Desktop architecture and refactored all of the back end code to prepare for an open source release.</li> <li>If you choose to install Cypress from the <a href="../../guides/command-line/">CLI Tool</a> you must update to the latest version <code>0.9.1</code>. Just run <code>npm install -g cypress</code> and then you can run <a href="../../guides/command-line/"><code>cypress install</code></a>. You don’t need to do anything if you update from within the Test Runner itself.</li> </ul> <p><strong>Features:</strong></p> <ul> <li>The Desktop App has been re-skinned with misc GUI enhancements such as help text, popovers, clearer errors, better loading indicators, etc.</li> <li>The Desktop App’s file size is now much smaller and unzips much faster. In the next release there will be a special <code>CI</code> build which removes the need to run Xvfb.</li> <li>Test IDs have been removed. You will no longer see Cypress insert IDs into your test files. This was a feature we implemented on day 1 - the idea being we could track test performance and do regression analysis. Unfortunately, it will be a long time before we actually implement the data science to make this happen. For the time being, IDs presented unnecessary technical complexity and challenges with no real upside. We recommend you remove all of your existing IDs. We’ve added a new command to the CLI tool that can do this in one shot. <code>cypress remove:ids</code> You may see IDs be reintroduced at a later time when we provide analytics.</li> <li>
<a href="../../../api/commands/then/"><code>.then()</code></a> now supports a <code>timeout</code> option. Fixes <a href="https://github.com/cypress-io/cypress/issues/110" target="_blank" rel="noopener noreferrer">#110</a>.</li> <li>All error messages from using the CLI have been rewritten and improved.</li> <li>Cypress will now automatically prompt you to add a project when using <a href="../../guides/command-line/#cypress-run"><code>cypress run</code></a> on a project that has not yet been added.</li> <li>Domain cookies are now proxied better. There’s still more work to do before they are 100% fixed but now most typical domain cookie scenarios should ‘just work’.</li> <li>We’ve put together a new example repo called <a href="https://github.com/cypress-io/examples-kitchen-sink" target="_blank" rel="noopener">The Kitchen Sink</a>. It demonstrates usage of every single Cypress command.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Using <a href="../../guides/command-line/#cypress-run"><code>cypress run</code></a> in OSX now works again.</li> <li>Added fs polling support to fix issues where Cypress would not detect file changes.</li> <li>Tests should reload inside of Cypress faster when they are changed.</li> <li>Better error messages when a command times out waiting for a promise to resolve. Fixes <a href="https://github.com/cypress-io/cypress/issues/108" target="_blank" rel="noopener noreferrer">#108</a>.</li> <li>
<a href="../../../api/commands/viewport/"><code>cy.viewport(ipad-2)</code></a> now displays by default in portrait. Landscape orientation is now properly landscape. Fixes <a href="https://github.com/cypress-io/cypress/issues/100" target="_blank" rel="noopener noreferrer">#100</a>.</li> <li>
<a href="../../../api/commands/click/"><code>.click()</code></a> will now properly click within an element’s bounding box when a <code>position</code> option is passed and the calculated coordinates are a fraction. This previously forced the click to happen outside of the element. Fixes <a href="https://github.com/cypress-io/cypress/issues/99" target="_blank" rel="noopener noreferrer">#99</a>.</li> <li>
<code>clientX</code> and <code>clientY</code> event properties are now correctly calculated for elements when the page is scrolled. Fixes <a href="https://github.com/cypress-io/cypress/issues/98" target="_blank" rel="noopener noreferrer">#98</a>.</li> <li>
<a href="../../../api/commands/check/"><code>.check()</code></a> and <a href="../../../api/commands/uncheck/"><code>.uncheck()</code></a> now correctly filter down the subject when a value is passed as an option. Fixes <a href="https://github.com/cypress-io/cypress/issues/94" target="_blank" rel="noopener noreferrer">#94</a>.</li> <li>The Test Runner will now display your email address when you have not set a name in GitHub.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Improved element display in Command Log when multiple elements are part of an assertion. Fixes <a href="https://github.com/cypress-io/cypress/issues/96" target="_blank" rel="noopener noreferrer">#96</a>.</li> <li>
<a href="../../../api/commands/reload/"><code>cy.reload()</code></a> now returns the window object of the newly reloaded page. Fixes <a href="https://github.com/cypress-io/cypress/issues/105" target="_blank" rel="noopener noreferrer">#105</a>.</li> </ul> <p>Known Issues:</p> <ul> <li>Clicking the ‘reload’ icon next to a test that does not have an ID will not work anymore. We’re reworking this feature to work without the presence of IDs.</li> </ul> <h1 id="0-13-9" class="article-heading">
0.13.9
</h1>
<p><em>Released 01/28/2016</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Prevent regression with not automatically scaling the viewport to fit into the window size</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Update links to match new <a href="https://docs.cypress.io/" target="_blank">documentation</a>
</li> <li>
<a href="../../../api/commands/debug/"><code>.debug()</code></a> has been zipped up - it no longer logs confusing debugging information and now logs information about the previously run command.</li> <li>
<a href="../../../api/utilities/_/"><code>Cypress._</code></a>, <a href="../../../api/utilities/%24/"><code>Cypress.$</code></a>, <a href="../../../api/utilities/promise/"><code>Cypress.Promise</code></a>, <a href="../../../api/utilities/blob/"><code>Cypress.Blob</code></a>, <a href="../../../api/utilities/moment/"><code>Cypress.moment</code></a> utilities have been moved off of <code>cy</code> and are now attached to <code>Cypress</code>. This is much more consistent with how the <code>cy</code> and <code>Cypress</code> APIs work. You can continue to use these objects off of <code>cy</code> but this has been deprecated and you will see a warning message.</li> </ul> <h1 id="0-13-8" class="article-heading">
0.13.8
</h1>
<p><em>Released 01/24/2016</em></p> <p><strong>Features:</strong></p> <ul> <li>Added <a href="../../../api/commands/reload/"><code>cy.reload()</code></a> command which does a full page refresh. This is the same as the user hitting the ‘Reload’ button. Additionally it matches the same argument signature as <code>window.location.reload</code>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Fixed situation where <a href="../../../api/commands/viewport/"><code>cy.viewport()</code></a> would not restore correctly between tests. Previously this would cause subsequent tests to be issued at the modified <code>cy.viewport()</code>. Now viewport is automatically restored to the settings in your <code>cypress.json</code> file.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Using <a href="../../../api/commands/its/"><code>.its()</code></a> on a function or <a href="../../../api/commands/invoke/"><code>.invoke()</code></a> on a property now logs a deprecation warning. In the next major release this will become a full error. It is valuable to make a distinction whether you’re operating on a property vs a function, and this change improves overall readability with less confusion.</li> <li>Cypress deprecations and warnings are now prefixed with: <code>Cypress Warning:</code> to indicate this message is coming from Cypress</li> </ul> <h1 id="0-13-7" class="article-heading">
0.13.7
</h1>
<p><em>Released 01/17/2016</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Prevent error during element stringification on <code>&lt;svg&gt;</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/93" target="_blank" rel="noopener noreferrer">#93</a>.</li> <li>Clarified on errors related to not being able to run in CI. Previously there was a “catch all” error indicating your Cypress API Key was invalid. This was oftentimes incorrect. More specific errors have been added.</li> <li>
<a href="../../../api/commands/type/"><code>.type()</code></a> has been upgraded to handle current selection ranges. Previously if an <code>&lt;input&gt;</code> had a selection range as Cypress began to type, this would be ignored. Cypress now takes this into account and will type over any selected text (as native typing would do).</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>All Cypress related services have been updated to use HTTPS. We are forcing HTTPS redirects for everything except for <code>api.cypress.io</code>, which would be a breaking change. By the next minor release we will force that as well. Once we make this change we will remove all versions below <code>0.13.7</code>. So make sure you <strong>are not</strong> locking the Cypress version when running in CI. We periodically remove old Cypress versions which have security flaws and this is an example of one.</li> </ul> <h1 id="0-13-6" class="article-heading">
0.13.6
</h1>
<p><em>Released 01/09/2016</em></p> <p><strong>Features:</strong></p> <ul> <li>All commands now retry if the associated element is disabled until the element is no longer disabled. If the command times out a specific error message is now thrown.</li> <li>
<a href="../../../api/commands/server/"><code>cy.server()</code></a> and <a href="../../../api/commands/route/"><code>cy.route()</code></a> now take an optional <code>onAbort</code> callback which fires anytime an XHR is aborted.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Fixed edge case where XHR’s which were already aborted were aborted a 2nd time when tests end. Cypress now only aborts currently running XHR’s which have not already been aborted.</li> <li>When passing an array of aliases to <a href="../../../api/commands/wait/"><code>cy.wait()</code></a> there was an edge case where an incorrect error message was being thrown. The incorrect values were a combination of the wrong alias, the wrong timeout value, or the wrong request or response. Now Cypress correctly provides all 3 of these values.</li> </ul> <h1 id="0-13-5" class="article-heading">
0.13.5
</h1>
<p><em>Released 01/03/2016</em></p> <p><strong>Features:</strong></p> <ul> <li>Added new command: <a href="../../../api/commands/go/"><code>cy.go()</code></a> which accepts <code>back</code>, <code>forward</code>, or an arbitrary Number.</li> <li>
<a href="../../../api/commands/go/"><code>cy.go()</code></a> enables you to navigate back or forward in your history. Cypress intelligently handles situations where moving forward or back causing a full page refresh, and will wait for the new page to load before resolving and moving onto new commands. It additionally handles situations where a page load was not caused (such as hash routing) and will resolve immediately.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Using <code>{force404: false}</code> will now output a warning explaining this is now the default option and can be removed safely.</li> </ul> <h1 id="0-13-4" class="article-heading">
0.13.4
</h1>
<p><em>Released 12/31/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>Added <code>waitForAnimations</code> and <code>animationDistanceThreshold</code> <a href="../configuration/#Animations">configuration options</a>.</li> <li>Cypress now automatically detects and waits for an element which is animating to stop animating. The threshold that Cypress considers <em>animating</em> is set to a distance of <code>5px</code> per <code>60fps</code>. In other words, if your element is moving too fast for a user to interact with, then Cypress considers the element animating and will wait until it finishes before attempting to interact with it. When we say ‘interact’ we mean apply command actions like <a href="../../../api/commands/click/"><code>.click()</code></a>, <a href="../../../api/commands/select/"><code>.select()</code></a>, <a href="../../../api/commands/type/"><code>.type()</code></a>, <a href="../../../api/commands/check/"><code>.check()</code></a>, etc. Waiting for animations prevents a series of edge cases and weird bugs where Cypress was interacting with elements <strong>too</strong> quickly which might cause undesired side effects in your application which are hard to track down. The downside to this implementation is that for every action Cypress must wait at least 2 run loops before applying actions. This slows down every action command by about <code>32ms</code>. If your app does not use animations you may wish to turn off this behavior in your <code>cypress.json</code> file.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Prevent <code>undefined</code> error when attempting to <a href="../../../api/commands/click/"><code>.click()</code></a> an element which is fixed position when it is covered by another element. Cypress now correctly provides why it cannot click the element in question. Fixes <a href="https://github.com/cypress-io/cypress/issues/90" target="_blank" rel="noopener noreferrer">#90</a>.</li> <li>Prevent infinite loop in edge cases when checking whether an element was hidden.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>The default behavior of <a href="../../../api/commands/server/"><code>cy.server()</code></a> has changed from <code>force404: true</code> to become <code>force404: false</code>. In other words, Cypress will no longer forcibly send XHR’s to 404 status when these XHR’s do not match any existing <a href="../../../api/commands/route/"><code>cy.route()</code></a>. This change better aligns with predictable usage for most Cypress users.</li> </ul> <h1 id="0-13-3" class="article-heading">
0.13.3
</h1>
<p><em>Released 12/25/2015</em></p> <p><strong>Notes:</strong></p> <ul> <li>Merry Christmas everyone ;-)</li> </ul> <p><strong>Features:</strong></p> <ul> <li>Overhauled the entire subsystem dealing with an element’s visibility state. Previously we were using jQuery’s <code>.is(":visible")</code> selector which was ineffective at truly determining when an element is “visible”. Our changes now differ significantly from jQuery, but they match what a real user would consider visible, and the rules are fairly easy to explain. In other words these rules should just “make sense”.</li> <li>An element is considered visible if it can be “interactive” with a user. In other words, if the user is able to click, type, drag, or otherwise physically interact with the element it is considered visible.</li> <li>Because of the additional complexities of how Cypress considers an element <code>visible</code>, we now have added the <strong>exact</strong> reason why an element is not visible when throwing an error. This means you’ll see errors detailing whether an element or its parents have <code>display: none</code>, <code>visibility: hidden</code>, or whether an element is considered hidden because its effective <code>width</code> or <code>height</code> is zero. Whatever the reason, Cypress will indicate why your element is considered hidden.</li> <li>Exposed <code>Cypress.Dom.isHidden</code> which holds the logic for determining an element’s visibility. Modify this to change the rules.</li> <li>Upgraded <a href="../../../api/commands/select/"><code>.select()</code></a> to automatically retry when the <code>&lt;select&gt;</code> is disabled, its matching <code>&lt;option&gt;</code> is disabled, or when Cypress cannot find a matching <code>&lt;option&gt;</code>. This more correctly aligns with the behavior of other actions like <a href="../../../api/commands/click/"><code>.click()</code></a>, which automatically retry until the element is ready to receive the action.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Throw on <a href="../../../api/commands/select/"><code>.select()</code></a> when it cannot find a matching <code>&lt;option&gt;</code>. Also throw when <code>&lt;select&gt;</code> or a matching <code>&lt;option&gt;</code> is disabled. Fixes <a href="https://github.com/cypress-io/cypress/issues/91" target="_blank" rel="noopener noreferrer">#91</a>.</li> <li>“Hidden” elements which actually displace height or width are now highlighted when restoring the DOM when a command is hovered.</li> <li>Margin on zero client width / client height is now displayed correctly on command hover and more accurately mimics the way Chrome Dev Tools highlights elements.</li> <li>Using <code>history.back</code>, <code>history.forward</code>, or <code>history.go</code> in CI or in headless mode now works again.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>The updated hidden rules apply to all assertions like <code>should("be.hidden")</code>, and how Cypress indicates an element is hidden displays in the Command Log.</li> <li>Updated many error messages to be more explanatory and precise.</li> <li>Elements which are stringified during errors now indicate their text content (truncated to 10 characters) <code>&lt;button&gt;Save&lt;/button&gt;</code> or whether they contain children elements by indicating an ellipsis <code>&lt;div&gt;...&lt;/div&gt;</code>.</li> <li>The <a href="../../../api/commands/route/">Routes instrument panel</a> now displays the column: <code>Stubbed</code> instead of <code>Status</code>, which indicates whether a route is stubbing matching XHR’s.</li> </ul> <h1 id="0-13-2" class="article-heading">
0.13.2
</h1>
<p><em>Released 12/20/2015</em></p> <p><strong>Notes:</strong></p> <ul> <li>Docs have been updated for <a href="../../../api/commands/wait/"><code>cy.wait()</code></a>, <a href="../../../api/commands/route/"><code>cy.route()</code></a> and <a href="../../../api/commands/server/"><code>cy.server()</code></a> to reflect these changes.</li> </ul> <p><strong>Features:</strong></p> <ul> <li>Added <code>responseTimeout</code> <a href="../configuration/">configuration</a> value.</li> <li>
<a href="../../../api/commands/wait/"><code>cy.wait()</code></a> has been upgraded to now use two separate <code>timeout</code> values. In previous versions <a href="../../../api/commands/wait/"><code>cy.wait()</code></a> used the <code>commandTimeout</code> and would automatically time out if the XHR did not achieve a response in that time frame. Now <a href="../../../api/commands/wait/"><code>cy.wait()</code></a> will go through two independent timeout phases. At first <a href="../../../api/commands/wait/"><code>cy.wait()</code></a> will wait for an XHR to be requested which matches its route. It will wait up to the value configured with <code>requestTimeout</code> (default 5000ms). After it sees a matching request it will then go into <code>response</code> waiting mode. It will wait up to the value configured with <code>responseTimeout</code> (default 20000ms). When <a href="../../../api/commands/wait/"><code>cy.wait()</code></a> fails you now receive a much better error message indicating exactly which phase failed. Whether a request was never sent out, or whether it timed out waiting for a response. This gives you the best of both worlds and prevents situations where Cypress was timing out on slow servers. By creating new configuration values: <code>requestTimeout</code> and <code>responseTimeout</code> you can now directly control this behavior without affecting other regular commands.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Prevent removing trailing new lines on fixtures after formatting.</li> <li>Added cache buster to test files which forces them to be reloaded in the <code>Sources</code> panel after making modifications. In previous versions when test files were live reloaded Chrome would not display their new contents due to a bug in Dev Tools. We’ve now worked around this issue.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Removed <code>{stub: false}</code> option from <a href="../../../api/commands/server/"><code>cy.server()</code></a> and <a href="../../../api/commands/route/"><code>cy.route()</code></a>. Cypress will now log a deprecation warning when you use the this option. Removing this option helps simplify the API because now Cypress can figure out whether you really want to stub the route based on whether you’ve provided a response or not. If you have not provided a response, the default behavior will be to not stub. If you do provide a response, Cypress will stub the route.</li> <li>Repurposed <code>requestTimeout</code> to now mean the time we wait for an XHR to be requested. Changed <a href="../../../api/commands/request/"><code>cy.request()</code></a> to now use <code>responseTimeout</code> configuration value.</li> <li>Updated many error messages to be more consistent.</li> <li>Added special error messages when elements cannot have actions applied to them with a suggestion to use <code>{force: true}</code>.</li> </ul> <h1 id="0-13-1" class="article-heading">
0.13.1
</h1>
<p><em>Released 12/11/2015</em></p> <p><strong>Notes:</strong></p> <ul> <li>We are aware of issues running in CI with Linux builds, and are working through those issues.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Prevent headless / CI from throwing errors on <code>history.pushState</code> and <code>history.replaceState</code>.</li> <li>Prevent edge case where <code>aliasing</code> in the Command Log was aliasing the wrong command</li> <li>Prevent XHR’s from throwing errors on <code>arraybuffer</code> content. Properly set <code>xhr.responseBody</code> for <code>XML</code>, <code>blob</code>, and <code>arraybuffer</code>.</li> <li>Headless running is now fixed in OSX. This was due to a bug with app signing + unzipping via the CLI.</li> </ul> <h1 id="0-13-0" class="article-heading">
0.13.0
</h1>
<p><em>Released 12/9/2015</em></p> <p><strong>Summary:</strong></p> <ul> <li>Though it may not look like much, this upgrade was a long time in the making. There were limitations in the way we were currently handling headless / CI builds which restricted our ability to make updates or fix bugs. Additionally CI runs would randomly crash for no good reason. We decided to split out the headless / CI process into its own independent Chromium application which is now independently controlled, and is much more reliable. This upgrade enables us to handle CI features coming down the pipe and was necessary for moving forward.</li> </ul> <p><strong>Features:</strong></p> <ul> <li>Upgraded <code>Chromium</code> for headless and CI runs from <code>41</code> to <code>45</code>.</li> <li>You will now see better stack traces and errors during <code>cypress run</code> / in CI. No more <code>undefined is not a function</code> errors.</li> <li>Ported all links to use the new Cypress CDN.</li> <li>
<a href="../../guides/command-line/">Documentation to CLI</a>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>New chromium upgrade prevents synchronous XHR freezes.</li> <li>New chromium upgrade fixes situation where extremely long CI runs would sometimes randomly crash.</li> <li>Fixed problem with rewriting content on elements which contained <code>&lt;svg&gt;</code> elements.</li> </ul> <p><strong>Breaking Changes:</strong></p> <ul> <li>Temporarily ignoring the <code>--reporter</code> option for headless / CI runs. Currently it is locked to the <code>spec</code> reporter, which is the default. This will be fixed in the next few patch releases.</li> <li>
<del>Accessing <code>window.history.go()</code>, <code>window.history.back()</code>, <code>window.history.forward()</code> will throw an error during <code>cypress run</code> / CI. This is a regression that will be fixed - hopefully very soon.</del> This is fixed in <a href="#0-13-3"><code>0.13.3</code></a>
</li> <li>While this new Chromium application passes our internal tests, it may crop up other regressions we aren’t aware of. If you’re experiencing different behavior in CI vs running locally in Chrome, this may be an indication of these.</li> </ul> <h1 id="0-12-8" class="article-heading">
0.12.8
</h1>
<p><em>Released 12/2/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>There is now a new <a href="../error-messages/">Error Messages Page</a> which will provide additional explanation when you are getting errors from Cypress. These errors will be directly linked to (like how Angular provides errors).</li> <li>Instead of hard coding external documentation, we now link everything through a redirection portal. This will prevent any links / documentation from ever breaking due to reorganization or renaming.</li> <li>Cypress now throws a specific error message (with a link to further explanation) if you attempt to run commands outside of a test. Usually this happens accidentally when you write <code>cy.commands</code> inside of a <code>describe</code> or <code>context</code> block instead of the <code>it</code>. I’ve wasted too much time and almost bombed entire presentations / demos so I’ve finally stopped this from ever happening again. If you ever see this error message, trust me, you will forever thank me.</li> <li>The error message: <code>Cannot call cy.method() because the current subject has been removed or detached from the DOM.</code> has been rewritten to provide much clearer information on why this is happening, including a string representation of your DOM element. Additionally it will have its own error page dedicated to explaining how this happens and what you can do to prevent it.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Rewrote error message which is displayed when Cypress cannot parse your test / spec file. Now a list of suggestions are given and an external link is provided which further explains how this may happen.</li> <li>Clarified the “Default Message” page when you have not <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> your application yet.</li> <li>Whitelisted <code>.coffee</code>, <code>.scss</code>, <code>.less</code> XHR’s from displaying in the Command Log.</li> </ul> <h1 id="0-12-7" class="article-heading">
0.12.7
</h1>
<p><em>Released 11/30/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Prevent passing <code>{multiple: true}</code> incorrectly showing up in Command Log. Fixes <a href="https://github.com/cypress-io/cypress/issues/88" target="_blank" rel="noopener noreferrer">#88</a>.</li> <li>Properly whitelist resource like XHR’s which have query params such as jquery’s <code>{cache: false}</code> option.</li> <li>Correctly take into account <code>&lt;base&gt;</code> tag on XHR’s. Fixes <a href="https://github.com/cypress-io/cypress/issues/89" target="_blank" rel="noopener noreferrer">#89</a>.</li> </ul> <h1 id="0-12-6" class="article-heading">
0.12.6
</h1>
<p><em>Released 11/29/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>There are now <a href="../../getting-started/installing-cypress/">Getting Started</a> docs including <a href="../configuration/">configuration</a> for <code>cypress.json</code>
</li> <li>Cypress now silently restarts the server whenever it detects a change to <code>cypress.json</code> - meaning you no longer have to manually reboot the server for changes to be picked up.</li> <li>There is a new <a href="../../../api/cypress-api/config/"><code>Cypress.config</code></a> interface - akin to <a href="../../../api/cypress-api/env/"><code>Cypress.env</code></a> which provides access to configuration values.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Setup/Teardown code was not properly running on nested Mocha <code>before</code>hooks which caused the error: <code>The XHR server is unavailable or missing...</code>. Fixes <a href="https://github.com/cypress-io/cypress/issues/80" target="_blank" rel="noopener noreferrer">#80</a> and <a href="https://github.com/cypress-io/cypress/issues/86" target="_blank" rel="noopener noreferrer">#86</a>.</li> <li>Prevent accidental mutation of <a href="../../../api/commands/server/"><code>cy.server()</code></a> options when <a href="../../../api/commands/route/"><code>cy.route()</code></a> was provided options. Fixes <a href="https://github.com/cypress-io/cypress/issues/84" target="_blank" rel="noopener noreferrer">#84</a> and <a href="https://github.com/cypress-io/cypress/issues/85" target="_blank" rel="noopener noreferrer">#85</a>.</li> <li>Using <a href="../../../api/commands/title/"><code>cy.title()</code></a> would incorrectly search the <code>&lt;body&gt;</code> for title elements, and is now restricted to only searching in the <code>&lt;head&gt;</code>
</li> <li>Cross-Origin requests are now proxied by Cypress. In other words their URL’s are transparently rewritten which bypasses CORS problems. This is a quick fix which should satisfy most of the problems users were having with CORS requests. However there is a much bigger change coming in <code>0.14.0</code> where the entire proxy layer will be rewritten to accommodate CORS, <code>window.fetch</code> and <code>domain cookies</code> flawlessly. As it stands Cypress is prone to errors in complex setups.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Exposed <code>visitTimeout</code> and <code>requestTimeout</code> <a href="../configuration/">configuration</a>.</li> <li>Increased <code>visitTimeout</code> from <code>20s</code> to <code>30s</code>.</li> <li>
<a href="../../../api/commands/click/"><code>.click()</code></a> will now throw if you are attempting to click more than 1 element. Pass <code>{multiple: true}</code> to enable this behavior again. Each element will be clicked serially and inserted into the Command Log.</li> </ul> <h1 id="0-12-5" class="article-heading">
0.12.5
</h1>
<p><em>Released 11/22/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>Errors reading / writing <code>cypress.json</code> on project add are now displayed inline.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Prevent app crashing when <code>cypress.json</code> could not be read or written to when adding a project.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>App crashes now send a full stack trace (instead of 10 line truncation).</li> <li>Better error handling + error messages when trying to read / write from <code>cypress.json</code>.</li> </ul> <h1 id="0-12-4" class="article-heading">
0.12.4
</h1>
<p><em>Released 11/19/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>There is a new <a href="../../../api/cypress-api/cookies/"><code>Cypress.Cookies</code></a> interface which enables you to <code>get</code>, <code>set</code>, and even <code>preserve</code> cookies throughout your test. Useful to preserve cookie-based sessions between your tests. <a href="../../../api/cypress-api/cookies/">Documentation is written here</a>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Removed problematic <code>content-security-policy</code> headers</li> <li>Fixed situation where Cypress was not injected correctly when <code>&lt;head&gt;</code> tag had attributes</li> <li>Prevent fixtures from being accidentally overwritten and having their content blanked out. There was a very subtle chance due to node’s async file writing that as a file was being written with a formatted fixture, that another call to the same fixture would read in at that exact moment. If this happened the 2nd read would resolve with zero bytes, which would then end up rewriting the file back with zero bytes.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>
<code>alerts</code> are automatically accepted now and a message logs to the console.</li> <li>Added retina favicon. Fixes <a href="https://github.com/cypress-io/cypress/issues/83" target="_blank" rel="noopener noreferrer">#83</a>.</li> <li>Removed nested <code>cypress</code> object in the <code>cypress.json</code>. Existing <code>cypress.json</code> files are transparently rewritten on the next server boot, so you can check in the modified <code>cypress.json</code> and all will be well. Fixes <a href="https://github.com/cypress-io/cypress/issues/82" target="_blank" rel="noopener noreferrer">#82</a>.</li> <li>Improved performance of formatting fixtures.</li> </ul> <h1 id="0-12-3" class="article-heading">
0.12.3
</h1>
<p><em>Released 11/04/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Prevent <a href="../../../api/commands/pause/"><code>.pause()</code></a> from actually pausing during <code>cypress run</code>.</li> <li>Fix for <a href="../../../api/commands/request/"><code>cy.request()</code></a> SSL issues when host certificates were self signed.</li> </ul> <h1 id="0-12-2" class="article-heading">
0.12.2
</h1>
<p><em>Released 11/01/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>There is now a <code>cy.cmd</code> and <code>cy.command</code> method which enables you to invoke commands by their string name. This is most useful when using <em>namespaced</em> custom commands. So <code>Cypress.addParentCommand("dashboard.setSlider", ...)</code> can be accessed by <code>cy.cmd("dashboard.setSlider", arg1, arg2)</code>. (Docs have not been written yet).</li> <li>
<code>Environment Variable</code> support has been added and can be accessed in your tests with <a href="../../../api/cypress-api/env/"><code>Cypress.env</code></a>. The docs have been written <a href="../../guides/environment-variables/">Environment Variable</a> and <a href="../../../api/cypress-api/env/">here</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>The URL property on all XHR’s is now completely decoded, even on URLs which were originally encoded. The reason is for easier assertions and debugging. This URL property is specific to Cypress and does not actually affect the underlying XHR.</li> </ul> <h1 id="0-12-1" class="article-heading">
0.12.1
</h1>
<p><em>Released 10/28/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>
<a href="../../../api/commands/route/"><code>cy.route()</code></a> will no longer throw that a response is needed when using <a href="../../../api/commands/server/"><code>cy.server({stub: false})</code></a>.</li> <li>Applying server defaults to <code>Cypress.Server.defaults({})</code> now <a href="../../../api/cypress-api/cypress-server/">works as documented</a>.</li> <li>
<code>onRequest</code> and <code>onResponse</code> can now be correctly set as permanent server defaults.</li> <li>XHR URL is now decoded to make assertions easier. Fixes <a href="https://github.com/cypress-io/cypress/issues/75" target="_blank" rel="noopener noreferrer">#75</a>.</li> </ul> <h1 id="0-12-0" class="article-heading">
0.12.0
</h1>
<p><em>Released 10/23/2015</em></p> <p><strong>Summary:</strong></p> <ul> <li>XHR handling has been rewritten to be much more flexible, extensible, and future-proof.</li> </ul> <p><strong>Breaking Changes:</strong></p> <ul> <li>The object you receive after waiting on an XHR alias is now different. Previously this was a <code>FakeXMLHttpRequest</code> object which came from Sinon.js. Now it is a special <code>XMLHttpRequest</code> object which comes from Cypress. You may need to rewrite some of your assertions but we’ve tried to keep the signatures as close as possible.</li> <li>The XHR’s URL property will now always return you a <code>Fully Qualified Domain Name</code> including the origin, port, host, etc. Previously the URL property represented whatever the XHR was opened with. We’ve worked around this difference by when checking whether an XHR should be stubbed, the origin is tested both as present and omitted.</li> </ul> <p><strong>Deprecations:</strong></p> <ul> <li>Accessing <code>requestJSON</code> or <code>responseJSON</code> on XHR objects is deprecated, and will be removed in the next version. Accessing those properties will throw a warning which explains how to rewrite these.</li> <li>
<code>cy.respond</code> is <em>temporarily</em> deprecated because the semantics of how this works is completely different and will require more work (mentioned later on) before this can be re-enabled again.</li> </ul> <p><strong>Features:</strong></p> <ul> <li>All XHR’s (regardless of whether they are stubbed or not) are now logged in the Command Log. Stubbed XHR’s display as “XHR Stub” vs vanilla “XHR”.</li> <li>Stubbed XHR’s will now show up in the <code>Network Tab</code> in Dev Tools. In other words they will <em>really</em> go out and you’ll be able to inspect them just like regular XHRs.</li> <li>Regular XHR’s can now be aliased and waited on without actually being stubbed by passing <code>{stub: false}</code> to the <a href="../../../api/commands/route/"><code>cy.route()</code></a>.</li> <li>XHR’s will continue to work correctly even <em>after</em> a test ends. In previous versions, due to replacing the entire XHR object, your application would not work correctly after a test ended. This prevented you from “navigating around” and working with your app after the tests end.</li> <li>Servers can now be disabled in the middle of a test. Previously once a server was started all XHR’s would be stubbed.</li> <li>You can now disable the force sending of <code>404</code> to all XHR’s which are not stubbed. This allows you to mix and match, enabling some requests to be stubbed and others to hit your server and respond normally.</li> <li>The default XHR configuration can now be overwritten in a single area.</li> <li>Many new configuration options are available for controlling how XHR’s are stubbed.</li> <li>XHR’s now include an <code>Initiator</code> stack regardless of whether they’re stubbed. The <code>Initiator</code> stack includes the stack which caused the XHR to be created and sent.</li> <li>The <code>onConsole</code> information related to an XHR has been updated to make it easier to understand why a route was or was not stubbed, and its associated request and response headers.</li> <li>Response headers on XHR stubs will now automatically set their <code>Content-Type</code> based on the stub response. Previously this would always set to the <code>Content-Type</code> to <code>application/json</code>. Now if you force a response to be text or html, the <code>Content-Type</code> response header will be set appropriately.</li> <li>You can now force other additional response headers to be sent on stubbed XHRs.</li> <li>XHR’s now snapshot twice - when the request is made and when the response is returned.</li> <li>Removed sending <code>sinon</code> on every <a href="../../../api/commands/visit/"><code>cy.visit()</code></a>.</li> <li>The XHR object which is returned to you to via <a href="../../../api/commands/wait/"><code>cy.wait()</code></a> is now more consistent with other return values such as <a href="../../../api/commands/request/"><code>cy.request()</code></a>. It should be much easier to work with <code>request body</code>, <code>request headers</code>, <code>response body</code> and <code>response headers</code>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Routes no longer display as duplicated in between test runs when <a href="../../../api/commands/server/"><code>cy.server()</code></a> is started prior to a <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> and you cause a full page refresh, which caused all routes to be re-bound.</li> <li>Any issues related to <code>requestJSON</code> or <code>responseJSON</code> being duplicated are now fixed. Fixes <a href="https://github.com/cypress-io/cypress/issues/65" target="_blank" rel="noopener noreferrer">#65</a>.</li> <li>Fully Qualified XHR’s which should be proxied are now correctly transparently rewritten to prevent CORS problems.</li> <li>
<a href="../../../api/commands/route/"><code>cy.route()</code></a> - <code>onRequest</code> and <code>onResponse</code> callbacks are now called with <code>cy</code> as the context.</li> <li>Whitelisting assets which should never be stubbed has been improved. Now <code>.jsx</code> templates pass-through correctly.</li> <li>CORS Network Errors are now correctly caught.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>All <code>ng</code> based commands now display in the Command Log.</li> <li>The built in XHR response delay has been removed since now all requests really go over the HTTP stack, which inherently has its own delay. You can still optionally force responses to be delayed by a set amount.</li> </ul> <p><strong>Almost there:</strong></p> <ul> <li>Support for the native <code>fetch</code> object.</li> <li>Configuration to automatically force Cypress to wait for outstanding XHR’s (like it does for other Page Events). This would mean when testing more traditional apps without XHR stubbing, commands would automatically wait until all outstanding XHR’s complete. The internal retry loop needs to be rewritten to make this possible, but the XHR architecture is now there.</li> </ul> <h1 id="0-11-13" class="article-heading">
0.11.13
</h1>
<p><em>Released 10/08/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Prevent rejected promise from causing error about invalid API key during a CI run.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Better error handling of rejected promises.</li> </ul> <h1 id="0-11-12" class="article-heading">
0.11.12
</h1>
<p><em>Released 10/07/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>Snapshots can now be named and a command can have multiple snapshots.</li> <li>Multiple snapshots are now cycled automatically on hover, and the name of the snapshot is displayed.</li> <li>Most of the action commands now take multiple snapshots (giving you a precise look at an action prior to it happening, and then afterwards).</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Fixed situation where an <code>Uncaught Error</code> was not being properly handled. Cypress would incorrectly continue to retry commands instead of canceling them, which lead to incorrect errors downstream in other tests.</li> <li>Fixed situation where an error being thrown from an XHR was being improperly handled (in a slightly different way than the problem above).</li> <li>Stopped sending CI data when <a href="../../guides/command-line/#cypress-run"><code>cypress run</code></a> was issued.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>CSS Improvements</li> </ul> <h1 id="0-11-11" class="article-heading">
0.11.11
</h1>
<p><em>Released 10/04/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Snapshots of <a href="../../../api/commands/type/"><code>.type()</code></a> and <a href="../../../api/commands/select/"><code>.select()</code></a> are no longer incorrect due to taking snapshots too early. Fixes <a href="https://github.com/cypress-io/cypress/issues/22" target="_blank" rel="noopener noreferrer">#22</a>.</li> <li>Passing <code>{force: true}</code> to <a href="../../../api/commands/blur/"><code>.blur()</code></a> now logs correctly in the Command Log.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Added delays on some tooltips.</li> <li>The URL will now highlight in a yellow background during a revert DOM snapshot.</li> <li>Moved snapshot message to be affixed to the bottom of the remote app in preparation for cycling through multiple snapshots.</li> <li>Cleaned up the URL by removing some unused content.</li> </ul> <h1 id="0-11-10" class="article-heading">
0.11.10
</h1>
<p><em>Released 10/04/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>
<a href="../../../api/commands/blur/"><code>.blur()</code></a> now accepts <code>{force: true}</code> which removes error checking such as validating the element is urrently in focus.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>
<a href="../../../api/commands/pause/"><code>.pause()</code></a> is now noop during <a href="../../guides/command-line/#cypress-run"><code>cypress run</code></a> or <code>cypress ci</code>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Removed <code>cy.inspect</code> command.</li> <li>Added Cypress logo to nav.</li> <li>CSS changes.</li> </ul> <h1 id="0-11-9" class="article-heading">
0.11.9
</h1>
<p><em>Released 10/03/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>Added <code>.zip</code> as acceptable fixture extension. Content is sent back as <code>base64</code>.</li> <li>Added docs to nav, consolidated <code>organize</code> into <code>tests</code>.</li> <li>Added favicon.</li> <li>Added tooltips everywhere.</li> <li>Created new debugging command: <a href="../../../api/commands/pause/"><code>.pause()</code></a> which will pause executing commands and allow you to resume or step into the next command one at a time.</li> <li>You can now stop and restart tests from the UI.</li> <li>Added <code>cy.Blob</code> utilities for <code>blob</code> / <code>string</code> / <code>base64</code> conversion. Useful for manually handling uploads.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>“Cannot revert DOM while tests are running” now removes itself correctly.</li> <li>Aliased DOM objects are now correctly stored on the test’s <code>ctx</code> as instances of <strong>your</strong> jQuery (if one exists).</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Updated UI styles / tests list / run all.</li> <li>Fixed alt tray icon so it shows up correctly on click.</li> </ul> <h1 id="0-11-8" class="article-heading">
0.11.8
</h1>
<p><em>Released 09/25/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>Added <a href="../../../api/commands/request/"><code>cy.request()</code></a> command which can issue XHR requests. The request is generated outside of the browser, and bypasses all CORS restrictions. Great for talking to an API for seeding, querying, building, etc.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Prevented edge case with <a href="../../../api/commands/fixture/"><code>cy.fixture()</code></a> where it would not be able to be canceled without throwing an unhandled rejection error.</li> </ul> <h1 id="0-11-7" class="article-heading">
0.11.7
</h1>
<p><em>Released 09/25/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>The debug window now works again.</li> <li>Changed <code>Linux</code> build strategy which fixes not saving the internal <code>.cy cache</code>. Also fixes not being able to update from the GUI. Fixes <a href="https://github.com/cypress-io/cypress/issues/66" target="_blank" rel="noopener noreferrer">#66</a>.</li> </ul> <h1 id="0-11-6" class="article-heading">
0.11.6
</h1>
<p><em>Released 09/25/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Viewport is now properly restored to the default width / height on subsequent runs. Previously it would retain the last viewport size used until there was a new viewport command.</li> <li>
<a href="../../../api/commands/should/"><code>cy.should('contain', '…')</code></a> now correctly escapes quotes and single quotes.</li> <li>Assertion messages are no longer truncated, and instead will scale down by reducing the <code>font-size</code> and <code>line-height</code> after they exceed 110 characters. So you’ll now always see the full assertion message.</li> <li>Fixed some scenarios where assertions would not be logged as a child command.</li> <li>Assertions based around the <code>window</code> or <code>document</code> object no longer cause Chai to bomb on formatting their object structures (due to cylic references) and instead now will show up as <code>&lt;window&gt;</code> and <code>&lt;document&gt;</code>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>
<a href="../../../api/commands/window/"><code>cy.window()</code></a> now logs out to the <code>Command Log</code> and additionally verifies upcoming assertions.</li> <li>
<a href="../../../api/commands/document/"><code>cy.document()</code></a> now logs out to the <code>Command Log</code> and additionally verifies upcoming assertions.</li> <li>Removed <code>numElements</code> label on assertions which indicated the number of elements found if &gt; 1. This was annoying and redundant since the inked command already had this number.</li> </ul> <h1 id="0-11-5" class="article-heading">
0.11.5
</h1>
<p><em>Released 09/20/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>The <code>Linux</code> version of Cypress now works correctly for GUI Desktop versions (tested on Ubuntu Desktop). Previously it would only worked during <code>cypress run</code> in server versions. The <code>tray</code> used in OSX does not work with the <code>Linux</code>, so in <code>Linux</code> we just use a standard window + menu.</li> <li>Added Desktop Icon.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Cypress now forces the initial <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> not to be cached by the browser. This was incorrectly being cached which meant when you changed the <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> it would not actually go out and fetch the new contents. Previously you had to check <code>Disable Cache</code> in the <code>Network Tab</code> inside of Chrome to prevent this bug. Unfortunately this has a significant performance drawback. If you use a <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> before each test you will notice a degrade in performance because this request is no longer cached. This is a temporary problem until Cypress implements a more sophisticated caching strategy which optimizes these concerns. There is a lot to improve in this arena but it will take more time before it’s implemented.</li> <li>
<a href="../../../api/commands/should/"><code>.should()</code></a> will no longer throw an error when it is used as a <code>parent command</code> and has a callback function signature, and that callback function throws outside of an assertion. Instead now it logs correctly, handles the error, and displays this error for you.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Many additional tests added to the multi-os deployment process.</li> <li>When Cypress opens other windows they are now auto-focused.</li> </ul> <h1 id="0-11-4" class="article-heading">
0.11.4
</h1>
<p><em>Released 09/17/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>
<a href="../../../api/commands/should/"><code>.should()</code></a> now accepts a callback function which will be retried until it does not throw. The callback function will be retried in the exact same way as passing regular string-based chainers to <a href="../../../api/commands/should/"><code>.should()</code></a>. Having a callback function gives you an opportunity to <em>massage</em> the expected subject such as comparing multiple elements, creating an array of text or classes, etc.</li> </ul> <p><strong>Deprecations:</strong></p> <ul> <li>
<code>cy.wait(function)</code> has been deprecated and you can safely rename this command to <a href="../../../api/commands/should/"><code>.should()</code></a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>All of the docs surrounding <a href="../../core-concepts/introduction-to-cypress/#Assertions">assertions</a>, <a href="../../../api/commands/should/"><code>.should()</code></a>, and <a href="../../../api/commands/and/"><code>.and()</code></a> have been updated to reflect the new API.</li> </ul> <h1 id="0-11-3" class="article-heading">
0.11.3
</h1>
<p><em>Released 09/16/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>When XHR’s are aborted Cypress will display the stack trace indicating where in your app the XHR was aborted. Additionally it will display as <code>(aborted)</code> in the Command Log.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>XHR’s will no longer be ended early and display no status as if there was no response. Fixes <a href="https://github.com/cypress-io/cypress/issues/63" target="_blank" rel="noopener noreferrer">#63</a>.</li> <li>XHR’s which are aborted no longer cause an <code>INVALID_STATE_ERR</code> to be thrown. Fixes <a href="https://github.com/cypress-io/cypress/issues/62" target="_blank" rel="noopener noreferrer">#62</a> and <a href="https://github.com/cypress-io/cypress/issues/34" target="_blank" rel="noopener noreferrer">#34</a>.</li> <li>Cypress will no longer incorrectly revert to a previous test run’s snapshot when tests are re-run.</li> </ul> <h1 id="0-11-2" class="article-heading">
0.11.2
</h1>
<p><em>Released 09/14/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Prevented bug where the assertion message: <code>expected &lt;x&gt; element to exist</code> would log over and over again when Cypress retried querying for a DOM element.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>
<a href="../../../api/commands/root/"><code>.root()</code></a> now outputs its subject when clicking on its command log. Fixes <a href="https://github.com/cypress-io/cypress/issues/55" target="_blank" rel="noopener noreferrer">#55</a>.</li> </ul> <h1 id="0-11-1" class="article-heading">
0.11.1
</h1>
<p><em>Released 09/14/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Utilizing <a href="../../../api/commands/server/"><code>cy.server()</code></a> across multiple tests before a <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> now works correctly. As a side effect now Cypress will rebind both the <code>server</code> and all <code>routes</code> <strong>whenever</strong> the remote window is reloaded (for whatever reason) - even during a test itself. This means you can navigate between pages without ever having to restart the server or routes (they will automatically rebind) when the window loads. Fixes <a href="https://github.com/cypress-io/cypress/issues/59" target="_blank" rel="noopener noreferrer">#59</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Providing a “number-string” as in: <code>should("have.length", "1")</code> will no longer throw an error.</li> <li>Internal API changes for <code>$Commands</code>.</li> </ul> <h1 id="0-11-0" class="article-heading">
0.11.0
</h1>
<p><em>Released 09/13/2015</em></p> <p><strong>Summary:</strong></p> <ul> <li>This release marks a major change in the underlying algorithms used to prevent testing flake. It is a major goal of Cypress to combat and prevent <strong>all</strong> test flake. These algorithm changes go a long way towards making this a reality, and have been months in the making.</li> <li>Cypress can now predict upcoming assertions and modifies its behavior until the intended state has been reached.</li> <li>Command options <code>exist</code> / <code>visible</code> / <code>length</code> have been deprecated, these were confusing and limiting, and the same result can now be achieved using normal assertions. The end result is much more robust and much easier to understand.</li> </ul> <p><strong>Features:</strong></p> <ul> <li>Commands which precede assertions will now look downstream at those assertions and not resolve until their subject’s state passes all assertions. Previously this was <strong>sort of</strong> implemented using <em>Command Options</em> and the <code>eventually</code> flag, but now this is the default behavior. <em>Command Options</em> only worked on DOM-based subjects, and now the new assertion verification works on everything else (including RL-based commands, etc). What this means is that Cypress can predict what you are requesting and automatically modifies its behavior until this state is reached. This prevents test brittleness / random test flake. Additionally this removes ever having to use <a href="../../../api/commands/wait/"><code>cy.wait(Number)</code></a> or <code>cy.wait(Function)</code> (though this is still a valid command). As a side effect, you will now see commands + their assertions in the spinning pending blue state. When assertions fail their associated command also fails at the same time. This visually represents the coupling between these two concepts. Another side effect is that <code>timeout</code> options do not need to be provided on the succeeding assertions, and can instead just be provided on the proceeding command. All of the coupled assertions will automatically be retried to the maximum <code>timeout</code> setting. Fixes <a href="https://github.com/cypress-io/cypress/issues/43" target="_blank" rel="noopener noreferrer">#43</a>.</li> <li>Action commands will now insert an artificial delay after resolving to enable modern JavaScript frameworks time to <em>flush</em> their run loops. snapshots are delayed until after the action, resulting in more accurate snapshots because JavaScript frameworks would not process these DOM events until <code>N</code> milliseconds after they occurred. This has the unfortunate side effect of <em>decreasing</em> performance by about <em>5-10%</em> but the end result is that it is much easier to debug and Cypress is less prone to flake caused by modern JavaScript frameworks. This change comes after collecting many data points and this was one of the easiest changes that help reduce flake. For users that don’t use the latest and greatest JavaScript frameworks, this action delay can be reduced through <code>cypress.json</code> which may speed up large test suites.</li> <li>Aliasing custom commands now intelligently figures out where to apply the alias without being specified inside of the actual custom command.</li> <li>The algorithm for replaying aliased commands is now much more accurate, handles stale element references better, and will not replay commands which have a side effect (like action commands). The end result is Cypress will now almost always find the desired element by determining the minimum number of re-queries and is not susceptible to stale element references. Additionally using assertions on aliased elements now works (where previously using a <em>Command Option</em> on an alias would just be ignored. This was very difficult to implement but should be 100% solid. Fixes <a href="https://github.com/cypress-io/cypress/issues/36" target="_blank" rel="noopener noreferrer">#36</a>.</li> <li>Assertions which actually produced 2 assertions (under the hood) such as <code>should('have.attr', 'href', '/users/1')</code> will now only log the 2nd assertion, unless the first fails.</li> <li>Previously using <code>eventually.have.length</code> was impossible (and this would throw an error), but now this works as you’d expect with the default <code>should('have.length')</code>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Aliased commands now correctly output a command log again when they are replayed.</li> <li>Assertions that involved an <code>{exp}</code> property are no longer incorrectly substituted with the <code>#{this}</code> subject.</li> <li>Removed special logic for <em>Angular</em> which tapped into its digest cycle for queueing commands. This had unpredictable results when there was n <code>interval</code> set, and is now superseded by the new queueing system anyway (which is more performant).</li> <li>
<code>Sinon's</code> formatting of failed <code>spy</code> or <code>stub</code> calls is horrendously non-performant and would sometimes choke the CPU for several seconds. This formatting has been completely removed and will be replaced by something less outrageous later on. At the moment you can still use the built in Cypress debugging (clicking on a command log, etc) to see what the actual values were. Fixes <a href="https://github.com/cypress-io/cypress/issues/18" target="_blank" rel="noopener noreferrer">#18</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>The internal retry loop of Cypress now runs at <code>60fps</code>, instead of <code>20fps</code>.</li> <li>Cypress overrides chai’s default inspection function for DOM elements meaning instead of seeing <code>{ Object (0, length, ...) }</code> you will now ee the nicely formatted Cypress DOM element like: <code>&lt;button#primary.btn-large&gt;</code>.</li> <li>Cypress now overrides chai’s <code>match</code> chainer and provides a specific error message when a non <code>regex</code> value is provided. Fixes <a href="https://github.com/cypress-io/cypress/issues/58" target="_blank" rel="noopener noreferrer">#58</a>.</li> <li>Cypress now handles <code>length</code> and <code>exist</code> assertion chainers in a very specific way, providing a detailed message on failure, and utomatically slices out any stale element references.</li> <li>The <code>contain</code> assertion chainer from <code>chai-jquery</code> has been extended to match the same selector logic as <a href="../../../api/commands/contains/"><code>cy.contains()</code></a> - meaning it now checks the <code>value</code> of <code>input[type=submit]</code>.</li> <li>Tweaked the label for displaying the number of elements a command resolved with (now displays 0 differently than &gt; 1).</li> <li>Removed the <code>eventually</code> flag in assertions as now this is the default behavior on normal assertions.</li> <li>Deprecated all <em>Command Options</em>. You will see a very nice and simple error message explaining how to convert these to assertions.</li> <li>
<a href="../../../api/commands/within/"><code>.within()</code></a> can now be silenced with <code>{log: false}</code>.</li> <li>Many error messages have been rewritten to be much more fluent and easier to understand.</li> </ul> <p><strong>Other News:</strong></p> <ul> <li>Cypress is currently seeking to raise a Series A. This will enable us to grow the team and speed up development but seeking it has come at a ost for current development speed. If you have any VC connections <a href="https://docs.cypress.io/cdn-cgi/l/email-protection#40333530302f323400233930322533336e292f" target="_blank" rel="noopener">please send them our way</a>.</li> </ul> <h1 id="0-10-8" class="article-heading">
0.10.8
</h1>
<p><em>Released 08/21/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>Reporters in CI can now be specified.</li> <li>Added <code>teamcity</code> reporter.</li> </ul> <h1 id="0-10-7" class="article-heading">
0.10.7
</h1>
<p><em>Released 08/16/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>
<code>port</code> can now be specified as a CLI argument and will override any values stored in <code>cypress.json</code>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>When running through the CLI, Cypress will now display an error if the server’s port is currently in use. Previously this would not output an error and the process would just hang.</li> </ul> <h1 id="0-10-6" class="article-heading">
0.10.6
</h1>
<p><em>Released 08/15/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Fixed edge case where Cypress would not correctly handle <code>POST</code> or <code>PUT</code> requests with a JSON body. These requests would just hang and eventually time out.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Project ID’s can be programmatically set now.</li> </ul> <h1 id="0-10-5" class="article-heading">
0.10.5
</h1>
<p><em>Released 08/13/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Running a specific test won’t open/close immediately when starting up (fixes weird flickering effect).</li> <li>
<a href="../../../api/commands/check/"><code>.check()</code></a> and <a href="../../../api/commands/uncheck/"><code>.uncheck()</code></a> commands will now correctly “end” even if they were <code>noop</code> due to the element already being in a checked or unchecked state.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Currently running tests now displays a spinner to indicate they are currently running.</li> <li>Optimized performance of command lists.</li> <li>Commands which were silenced with <code>{log: false}</code> will now always display in the Command Log if they were part of a replayed chain of commands due to an alias reference becoming stale. Previously they would not display which was very confusing.</li> <li>Sinon.JS is no longer minified.</li> </ul> <h1 id="0-10-4" class="article-heading">
0.10.4
</h1>
<p><em>Released 08/11/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>The OSX Cypress App was not being properly signed (since 0.10.0) due to an oversight in our deployment process. This has been fixed now and additional checks have been added to ensure the deployed version is properly signed. Updating within the app was unaffected. This bug only effected fresh downloads from the internet.</li> <li>Errors / crashes encountered when updating to newer versions through the app should be fixed now.</li> </ul> <h1 id="0-10-3" class="article-heading">
0.10.3
</h1>
<p><em>Released 08/10/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Cypress Errors in <code>hooks</code> (<code>beforeEach</code>, etc) will no longer cause Mocha to fire its <code>end</code> event thus ending the entire run. In CI, this would cause the test suite to end early. Uncaught Mocha errors will however continue this behavior. Cypress does not yet have a “skipped” visual state for tests which were skipped, so at the moment it may look a little strange and unpredictable.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Tweaked clicking algorithm to re-verify an elements visibility anytime the click retries its <code>retry</code> logic. Previously this check only happened once at the beginning of the click.</li> <li>In CI, the window size (not the viewport) has been changed from <code>1024x768</code> to <code>1280x720</code>. This will only affect <code>screenshot</code> artifacts which are taken automatically with <a href="../../../api/commands/screenshot/"><code>cy.screenshot()</code></a> (coming soon) or whenever a test fails (also coming soon).</li> </ul> <h1 id="0-10-2" class="article-heading">
0.10.2
</h1>
<p><em>Released 08/10/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Memory optimizations in CI.</li> <li>Reduce noise in logs.</li> <li>Prevented external <code>NODE_ENV</code> mutations causing problems in CI.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Better error tracing.</li> </ul> <h1 id="0-10-1" class="article-heading">
0.10.1
</h1>
<p><em>Released 08/07/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Fixed missing dependency for CI.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Cypress now logs out your project’s API key on a failed CI run.</li> </ul> <h1 id="0-10-0" class="article-heading">
0.10.0
</h1>
<p><em>Released 08/06/2015</em></p> <p><strong>Summary:</strong></p> <ul> <li>Cypress is now able to run all the tests, run in the terminal, and includes support for Linux and CI. Additionally, most of the functionality of he GUI Desktop App can now be accessed through command line arguments.</li> <li>Because each operating system requires a specific build of Cypress - a new CLI tool has been created which abstracts away these differences and orchestrates the Desktop App regardless of which OS you are running.</li> <li>This <a href="https://www.npmjs.com/package/cypress" target="_blank" rel="noopener">CLI tool is now published on NPM</a>, though the documentation still needs to be written.</li> <li>There is now a download service to access the latest version of Cypress and previous versions.</li> <li>Cypress aims not only to make it easier to write tests, but after you build a test harness, it will make it easier to dive into failed tests (hat run in CI). This release paves the way for providing after-run results and allowing you to dive into those failures.</li> </ul> <p><strong>Breaking Changes:</strong></p> <ul> <li>Due to security upgrades, adding projects in previous versions will no longer work. Upgrade and everything should be okay.</li> </ul> <p><strong>Features:</strong></p> <ul> <li>The latest version of Cypress can be downloaded here: <a href="http://download.cypress.io/latest" target="_blank" rel="noopener">http://download.cypress.io/latest</a>.</li> <li>Cypress can alternatively be downloaded / installed / managed through the CLI utility.</li> <li>Cypress can now be run through the terminal.</li> <li>You can now run all of your tests inside of the GUI App.</li> <li>You can use the CLI tool to run Cypress in CI. The documentation for this needs to be written, but it will be very simple to do. You will robably only have to write 2 lines in your CI scripts to run Cypress.</li> <li>You can configure CI to use any reporter built into Mocha, and additionally we are adding JUnit XML output (for Jenkins) as a built in default.</li> <li>You can write your own custom reporter which Cypress can use in CI.</li> <li>Console output from your apps is suppressed while running in the terminal.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Several security problems with projects have been closed in preparation for running in CI.</li> <li>Extensive memory profiling has been done and Cypress has implemented several strategies for aggressively causing garbage collection. The ebugging tools (which allow you to walk back in time through DOM snapshots, or access objects from previous tests) could exhaust all available emory in previous versions. This likely never affected most users, but if a user ran 1000’s of tests (which have been written in Cypress) it ould bomb. Now Cypress only stores data for up to 50 tests, and will begin purging data past that. When run in the terminal, Cypress doesn’t apply any of its debugging tools, so CI will be unaffected.</li> <li>Several instances of memory leaks were plugged up.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Everything except for the <code>cypress driver</code> is now minified.</li> <li>Some users have reported problems upgrading previous versions. This is because we changed the name from “cypress” to “Cypress” including some inaries. If your upgrade does not finish you can redownload the latest version of Cypress or use the CLI tool to reinstall it.</li> <li>Our build and testing processes have been upgraded to accommodate Linux builds.</li> <li>Sinon.JS object formatting during errors has been suppressed (when using spies/stubs) due to its horrendous performance when comparing deeply nested objects. This means you won’t see the (mostly) useless error output from Sinon, but given Cypress debugging tools you can still inspect objects and figure out what went wrong.</li> </ul> <h1 id="0-9-6" class="article-heading">
0.9.6
</h1>
<p><em>Released 07/27/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Fixed server crash on improperly handled proxy error.</li> <li>Upgraded logic to redirect back to the Cypress client app on manual URL changes.</li> </ul> <h1 id="0-9-5" class="article-heading">
0.9.5
</h1>
<p><em>Released 07/14/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>
<a href="../../../api/commands/click/"><code>.click()</code></a>, <a href="../../../api/commands/type/"><code>.type()</code></a>, <a href="../../../api/commands/clear/"><code>.clear()</code></a>, <a href="../../../api/commands/select/"><code>.select()</code></a>, <a href="../../../api/commands/check/"><code>.check()</code></a>, <a href="../../../api/commands/uncheck/"><code>.uncheck()</code></a> now will wait for the subject to automatically become visible instead of throwing immediately if the element is not in a visible state.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Swapped out ugly nonsense <code>refresh</code> icon to <code>square-o</code> to represent a test which has not run yet.</li> </ul> <h1 id="0-9-4" class="article-heading">
0.9.4
</h1>
<p><em>Released 07/06/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>
<a href="../../../api/commands/contains/"><code>cy.contains()</code></a>, <a href="../../../api/commands/get/"><code>cy.get()</code></a>, and <code>traversal commands</code> will now all log out heir last known <code>$el</code> on failure. This means the <code>$el</code> will be highlight during Command Log hovering, and will display in the console on click. his should make debugging failed DOM based commands much easier. Fixes <a href="https://github.com/cypress-io/cypress/issues/52" target="_blank" rel="noopener noreferrer">#52</a>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Fixed edge case with <a href="../../../api/commands/contains/"><code>cy.contains()</code></a> and command options <code>visible</code> and <code>exist</code> where it would always fail ven though the matched element was in the correct state.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>
<a href="../../../api/commands/contains/"><code>cy.contains()</code></a> now throws when provided the command option: <code>length</code> because it will only ever return 1 element.</li> </ul> <h1 id="0-9-3" class="article-heading">
0.9.3
</h1>
<p><em>Released 07/06/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>Proxied jQuery: <code>$</code> onto <code>cy</code> as <code>cy.$</code> and specific class methods: <code>Event</code>, <code>Deferred</code>, <code>ajax</code>, <code>get</code>, <code>getJSON</code>, <code>getScript</code>, <code>post</code>.</li> <li>Proxied <code>moment</code> onto <code>cy</code> as <code>cy.moment</code>.</li> <li>The URL will now automatically be restored when hovering over the Command Log to indicate the state of the URL at the time the command ran.</li> <li>
<a href="../../../api/commands/click/"><code>.click()</code></a> now accepts an optional: <code>position</code> argument (<code>center</code>, <code>topLeft</code>, <code>topRight</code>, <code>bottomLeft</code>, <code>bottomRight</code>). Center is still the default.</li> <li>
<a href="../../../api/commands/click/"><code>.click()</code></a> now accepts an optional <code>x</code> and <code>y</code> coordinate argument, which is relative to the top left corner of the element. Fixes <a href="https://github.com/cypress-io/cypress/issues/50" target="_blank" rel="noopener noreferrer">#50</a>.</li> <li>
<a href="../../../api/commands/click/">Click docs have been updated</a> to reflect these changes.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>
<code>onBeforeLoad</code> and <code>onLoad</code> callbacks to <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> are now invoked with <code>cy</code> as the context.</li> <li>Cypress logo now displays in <code>About Page</code>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Internal refactoring to <code>Cypress.Mouse</code>.</li> </ul> <h1 id="0-9-2" class="article-heading">
0.9.2
</h1>
<p><em>Released 07/04/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>Added <code>About</code> page in desktop application annotating the current version.</li> <li>
<a href="../../../api/commands/fixture/"><code>cy.fixture()</code></a> now supports these additional extensions: <code>.html</code>, <code>.txt</code>, <code>.png</code>, <code>.jpg</code>, <code>.jpeg</code>, <code>.gif</code>, <code>.tif</code>, <code>.tiff</code>.</li> <li>Image fixtures will be sent back as a <code>base64</code> string.</li> <li>HTML fixtures will be prettified and saved back over the original.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Added more tests around various areas of the desktop application and ID generator.</li> </ul> <h1 id="0-9-1" class="article-heading">
0.9.1
</h1>
<p><em>Released 07/03/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>
<a href="../../../api/commands/viewport/"><code>cy.viewport()</code></a> can now accept an <code>orientation</code> when providing a <code>preset</code>. Valid orientations are <code>landscape</code> and <code>portrait</code>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>The scaffolded <code>spec_helper.js</code> now correctly returns its object literal in the <code>onConsole</code> callback.</li> <li>
<a href="../../../api/commands/type/"><code>.type()</code></a> now correctly logs its message to the Command Log when provided options.</li> <li>
<a href="../../../api/commands/type/"><code>.type()</code></a> has been upgraded to handle situations where as it’s typing, 3rd party code mutates the value either synchronously or asynchronously. The caret is automatically moved to the end position matching browser behavior.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Deprecated <code>Cypress.command</code>, instead use <code>Cypress.Log.command</code> to output a Command Log. Updated scaffolding on new projects to reflect this change.</li> <li>
<a href="../../../api/commands/contains/"><code>cy.contains()</code></a> now outputs much more explicit error messages when given command options. Fixes <a href="https://github.com/cypress-io/cypress/issues/49" target="_blank" rel="noopener noreferrer">#49</a>.</li> <li>
<a href="../../../api/commands/route/"><code>cy.route()</code></a> no longer validates <code>response</code> value when <code>{respond: false}</code> is passed in as options. Fixes <a href="https://github.com/cypress-io/cypress/issues/48" target="_blank" rel="noopener noreferrer">#48</a>.</li> <li>
<a href="../../../api/commands/invoke/"><code>.invoke()</code></a> and <a href="../../../api/commands/its/"><code>.its()</code></a> will now log out the $el if it’s a DOM object, which will now correctly highlight the $el during a command revert. Additionally if these commands have been called on a DOM object, their <code>onConsole</code> message will include the DOM objects.</li> </ul> <h1 id="0-9-0" class="article-heading">
0.9.0
</h1>
<p><em>Released 07/02/2015</em></p> <p><strong>Summary:</strong></p> <ul> <li>
<a href="../../../api/commands/viewport/"><code>cy.viewport()</code></a> is a new command which will resize the viewport to a specified width and height. There is ow a default <code>viewport</code> size of <code>1000x660</code>.</li> </ul> <p><strong>Features:</strong></p> <ul> <li>Your application’s viewport dimensions will now automatically scale to fit regardless of your screen’s size. This enables you to test resolutions larger than what your screen is capable of displaying. Additionally this fixes edge cases caused when there was a difference in viewports between users.</li> <li>The viewport’s dimensions will now dynamically display accurately as they are changed in the header area.</li> <li>The viewport’s scale will now dynamically display accurately as it is changed.</li> <li>Each command will automatically restore the viewport to the dimensions at the time the command was issued. In other words, scrolling over each command will restore exactly what Cypress “saw” when it issued the command.</li> <li>Several common viewport presets have been added for convenience</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Cypress now requires a viewport to be issued at all times. By default it is <code>1000x660</code> but can be changed in your <code>cypress.json</code> file with he keys: <code>viewportWidth</code> and <code>viewportHeight</code>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Scrollbar styling is no longer hijacked by Cypress.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Updated remote application iframe styles.</li> </ul> <h1 id="0-8-1" class="article-heading">
0.8.1
</h1>
<p><em>Released 06/30/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>
<a href="../../../api/commands/select/"><code>.select()</code></a> will now fire a <code>focus</code> event on the <code>&lt;select&gt;</code> even if the window isn’t in focus.</li> <li>
<a href="../../../api/commands/click/"><code>.click()</code></a> has been upgraded to be more intelligent about firing <code>focus</code> events, and now takes into account the previously focused element.</li> <li>
<a href="../../../api/commands/type/"><code>.type()</code></a> and <a href="../../../api/commands/clear/"><code>.clear()</code></a> will not issue <code>change</code> events or <code>focus</code> events unnecessary when chaining together multiple actions which do not change the element or cause it to lose focus. Fixes <a href="https://github.com/cypress-io/cypress/issues/47" target="_blank" rel="noopener noreferrer">#47</a>.</li> </ul> <h1 id="0-8-0" class="article-heading">
0.8.0
</h1>
<p><em>Released 06/26/2015</em></p> <p><strong>Summary:</strong></p> <ul> <li>
<a href="../../../api/commands/type/"><code>.type()</code></a> now implements all DOM events to simulate every aspect of typing on a real keyboard.</li> <li>All of the <a href="../../../api/commands/type/">type docs have been updated</a> to reflect these changes.</li> </ul> <p><strong>Features:</strong></p> <ul> <li>
<a href="../../../api/commands/type/"><code>.type()</code></a> now outputs “Key Events Table” which is a <code>console.table</code> of every key typed, the <code>charCode</code>, all vents that fired, and whether any were <code>preventedDefault</code>.</li> <li>
<a href="../../../api/commands/type/"><code>.type()</code></a> now accepts the following special character sequences: <code>{selectall}</code>, <code>{del}</code>, <code>{backspace}</code>, <code>{esc}</code>, <code>{{}</code>, <code>{enter}</code>, <code>{leftarrow}</code>, <code>{rightarrow}</code>.</li> <li>
<a href="../../../api/commands/type/"><code>.type()</code></a> implements <code>cursor</code> and <code>selection</code> and <code>range</code> accurately like a real keyboard.</li> <li>
<a href="../../../api/commands/type/"><code>.type()</code></a> now fires change events exactly like real browsers when <code>{enter}</code> is used.</li> <li>
<a href="../../../api/commands/type/"><code>.type()</code></a> will fire <code>textInput</code> and <code>input</code> events exactly like a real browser. Fixes <a href="https://github.com/cypress-io/cypress/issues/7" target="_blank" rel="noopener noreferrer">#7</a>.</li> <li>
<a href="../../../api/commands/type/"><code>.type()</code></a> now follows all of the spec in regards to <code>preventingDefault</code> on any event that would insert a character such as <code>keydown</code>, <code>keypress</code>, <code>textInput</code>.</li> <li>
<a href="../../../api/commands/type/"><code>.type()</code></a> events should be <code>100%</code> identical to real browser <code>KeyboardEvents</code> including <code>charCode</code>, <code>which</code>, <code>keyCode</code>, <code>data</code>, etc.</li> <li>
<a href="../../../api/commands/type/"><code>.type()</code></a> now inserts a small delay <code>10ms</code> between each keystroke to simulate a real user typing.</li> <li>
<code>input</code> events are now correctly fired when <a href="../../../api/commands/select/"><code>.select()</code></a> chooses an <code>&lt;option&gt;</code>.</li> <li>
<code>change</code> events are now fired exactly how a browser does (when an input loses focus and its value has changed since its last focus event). You’ll see these fire after you use <a href="../../../api/commands/blur/"><code>.blur()</code></a> directly, or use another <code>action command</code> on another element.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Using <a href="../../../api/commands/type/"><code>.type()</code></a> in an <code>input[type=number]</code> will no longer prepend the value. Fixes <a href="https://github.com/cypress-io/cypress/issues/26" target="_blank" rel="noopener noreferrer">#26</a>.</li> <li>
<code>[contenteditable]</code> elements can now be focused and blurred.</li> <li>
<code>aborting</code> during <a href="../../../api/commands/click/"><code>.click()</code></a> / <a href="../../../api/commands/dblclick/"><code>.dblclick()</code></a> now correctly cancels remaining queued click/dblclick events.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>
<code>console.groups</code> are now collapsed by default.</li> <li>
<a href="../../../api/commands/type/"><code>.type()</code></a> now validates the chars and will throw on anything other than a string or finite number.</li> <li>
<a href="../../../api/commands/type/"><code>.type()</code></a> now throws on empty strings.</li> <li>Removed several libs that used to handle typing simulation and rewrote typing from scratch.</li> </ul> <h1 id="0-7-6" class="article-heading">
0.7.6
</h1>
<p><em>Released 06/23/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Prevent infinite loop due to a trifecta of rare circumstances with <a href="../../../api/commands/click/"><code>.click()</code></a>. Clicking will now retry sync after it attempts to scroll past the element covering up the desired clickable element. Fixes <a href="https://github.com/cypress-io/cypress/issues/46" target="_blank" rel="noopener noreferrer">#46</a>.</li> </ul> <h1 id="0-7-5" class="article-heading">
0.7.5
</h1>
<p><em>Released 06/19/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>
<a href="../../../api/commands/click/"><code>.click()</code></a> now takes into account being covered by a fixed positioned element and will increase the window’s scroll offset to account for this. There are still more improvements to be made before this is bulletproof though.</li> <li>
<a href="../../../api/commands/contains/"><code>cy.contains()</code></a> could potentially resolve to a null subject if the matching content was split across multiple nested children elements. This has been fixed and contains will now return the first, deepest element which contains text potentially spread over multiple text nodes and/or children elements.</li> </ul> <h1 id="0-7-4" class="article-heading">
0.7.4
</h1>
<p><em>Released 06/18/2015</em></p> <p><strong>Misc:</strong></p> <ul> <li>Attempting to <a href="../../../api/commands/click/"><code>.click()</code></a> a select element will now throw an error. The error guides you to using the <a href="../../../api/commands/select/"><code>.select()</code></a> command, as that is the command you should use to change a <code>&lt;select&gt;</code> value.</li> <li>
<a href="../../../api/commands/route/"><code>cy.route()</code></a> responses are now validated. If responses are <code>null</code> or <code>undefined</code> Cypress will throw a very specific error message.</li> <li>Cypress will now display <code>cypress.json</code> parse errors when attempting to boot a project when there is a syntax error in <code>cypress.json</code>.</li> </ul> <h1 id="0-7-3" class="article-heading">
0.7.3
</h1>
<p><em>Released 06/17/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>
<a href="../../../api/commands/select/"><code>.select()</code></a> will now output a command log.</li> <li>
<a href="../../../api/commands/select/"><code>.select()</code></a> will now have <code>click</code> / <code>focus</code> events fired on itself and the selected options (as per the pec).</li> <li>
<a href="../../../api/commands/select/"><code>.select()</code></a> is now inline with the other <code>Action</code> commands and will retry until the element naturally becomes selectable.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>
<code>Action</code> command options are now properly formatted, instead of saying <code>Object{4}</code> they will display the overridden default options - ie: <code>force</code>, <code>timeout</code>, <code>interval</code>.</li> <li>Sending <code>{force: true}</code> to <code>Action</code> commands will no longer error out if the element is not visible. Forcing the action to take place now correctly removes all error checking prior to issuing the action and events.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Removed stack traces on <code>AssertionErrors</code> in the console since those come from <code>chai</code> and are basically useless.</li> </ul> <h1 id="0-7-2" class="article-heading">
0.7.2
</h1>
<p><em>Released 06/17/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Removed factoring in the total time a test has been running when determining when its command timeout. This fixes a bug where commands down he chain would timeout earlier than their specified <code>{timeout: num}</code> option.</li> </ul> <h1 id="0-7-1" class="article-heading">
0.7.1
</h1>
<p><em>Released 06/16/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>DOM commands which can retry now correctly support <code>{timeout: num}</code> options which will raise the timeout beyond the standard <code>commandTimeout</code> rom <code>cypress.json</code>.</li> <li>
<code>&lt;script&gt;</code>, <code>&lt;img&gt;</code>, <code>&lt;video&gt;</code> commands or any other element which supports <code>crossorigin</code> attribute now are proxied correctly. The <code>crossorigin</code> attribute removes sending cookies with the HTTP request and now there is a fallback to figure out the <code>remoteHost</code> even in this situation.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Support for redirects with status code <code>303</code>.</li> </ul> <h1 id="0-7-0" class="article-heading">
0.7.0
</h1>
<p><em>Released 06/15/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>Cypress now has first class support for <code>fixtures</code> (official docs coming soon).</li> <li>Introduced new <a href="../../../api/commands/fixture/"><code>cy.fixture()</code></a> command.</li> <li>Fixtures support <code>json</code>, <code>js</code>, and <code>coffee</code> files with image support coming soon.</li> <li>Fixtures are automatically validated, with error messages propagating up to the client.</li> <li>Fixtures are automatically formatted / indented for easy debugging.</li> <li>Example fixture is automatically created with every project.</li> <li>Example support files are now automatically created with every project.</li> <li>
<a href="../../../api/commands/route/"><code>cy.route()</code></a> now accepts an <strong>alias</strong> as its response.</li> <li>
<a href="../../../api/commands/route/"><code>cy.route()</code></a> additionally accepts a special <code>fixture:</code> or <code>fx:</code> keyword which automatically loads the fixture as the response.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Clicking giant yellow CypressError now displays associated XHR error in the console.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>RegExp arguments are now properly formatted in the Command Log.</li> <li>Update <code>bluebird</code> to <code>2.9.27</code>.</li> <li>Update <code>glob</code> to <code>5.0.10</code>.</li> </ul> <h1 id="0-6-14" class="article-heading">
0.6.14
</h1>
<p><em>Released 06/11/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>Command logging has been upgraded to support “page events”, which are different than commands. Now events which happen (XHR/page load/url change/spies/stubs/mocks) log out visually differently and do not use a command number. This should be easier to parse what was a real command and what was a page event.</li> <li>When the url changes this is now logged as a page event, and its <code>onConsole</code> logs what caused it to change.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Internal refactor / improvements to support long lived runnable objects to work with page events.</li> <li>Request Commands (now page events) have now been renamed to ‘XHR’.</li> <li>
<a href="../../../api/commands/document/"><code>cy.document()</code></a> now returns the raw document object instead of a jQuery wrapped document object.</li> <li>When <a href="../../../api/commands/its/"><code>.its()</code></a> or <a href="../../../api/commands/invoke/"><code>.invoke()</code></a> fails it will include the current subject n the <code>onConsole</code> log.</li> <li>
<a href="../../../api/commands/wait/"><code>cy.wait()</code></a> now logs out when its referenced aliases, and its <code>onConsole</code> output displays the XHR return values.</li> <li>
<a href="../../../api/commands/hash/"><code>cy.hash()</code></a> and <a href="../../../api/commands/url/"><code>cy.url()</code></a> no longer pass the return value as the command log’s <code>message</code>, which made no sense and was unlike every other command.</li> </ul> <h1 id="0-6-13" class="article-heading">
0.6.13
</h1>
<p><em>Released 06/09/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Traversal methods now correctly return their <code>$el</code> even when <code>{log: false}</code> option is passed.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>
<a href="../../../api/commands/type/"><code>.type()</code></a> now works with <code>contenteditable</code> attributes.</li> </ul> <h1 id="0-6-12" class="article-heading">
0.6.12
</h1>
<p><em>Released 06/09/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>When Cypress detects a <code>page loading</code> event it will now clear out the subject so the next commands cannot reference previous page DOM elements.</li> <li>
<a href="../../../api/commands/check/"><code>.check()</code></a> and <a href="../../../api/commands/uncheck/"><code>.uncheck()</code></a> will no longer output additional error’d commands when their associated <code>click</code> fails.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>
<a href="../../../api/commands/type/"><code>.type()</code></a>, <a href="../../../api/commands/clear/"><code>.clear()</code></a>, <a href="../../../api/commands/check/"><code>.check()</code></a>, <a href="../../../api/commands/uncheck/"><code>.uncheck()</code></a> now all take <code>{force: true}</code> options to force the click to happen and skip additional clickable checks.</li> <li>Now when you click the giant yellow failure messages if the error is a <code>CypressError</code> instead of logging nothing it will now find the command associated to that error and display the same message as if you clicked the failed command.</li> </ul> <h1 id="0-6-11" class="article-heading">
0.6.11
</h1>
<p><em>Released 06/08/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>
<a href="../../../api/commands/clear/"><code>.clear()</code></a> and <a href="../../../api/commands/type/"><code>.type()</code></a> no longer output additional error’d commands hen their associated <code>click</code> fails.</li> <li>Changed scrolling elements into view to use top strategy instead of bottom which fixes times where the middle of an element was not yet in he viewport. Fixes <a href="https://github.com/cypress-io/cypress/issues/42" target="_blank" rel="noopener noreferrer">#42</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>
<a href="../../../api/commands/submit/"><code>.submit()</code></a> now errors if it’s been called on &gt;1 form element. Fixes <a href="https://github.com/cypress-io/cypress/issues/41" target="_blank" rel="noopener noreferrer">#41</a>.</li> <li>Coordinates and hitboxes are now logged and displayed on <a href="../../../api/commands/clear/"><code>.clear()</code></a> and <a href="../../../api/commands/type/"><code>.type()</code></a>.</li> </ul> <h1 id="0-6-10" class="article-heading">
0.6.10
</h1>
<p><em>Released 06/06/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Improved clicking algorithm to reduce edge cases where element could not be clicked but should have been able to be clicked.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>
<a href="../../../api/commands/click/"><code>.click()</code></a> accepts <code>{force: true}</code> which will force it to issue the click event and bypass checking to ensure element is physically clickable.</li> <li>Elements which are children of a container with <code>overflow</code> are automatically scrolled prior to a click (which is an abstraction around real user behavior).</li> <li>Elements that are covering up an element you targeted for <a href="../../../api/commands/click/"><code>.click()</code></a> are now logged out in the command console.</li> <li>All elements are now logged out as real DOM elements instead of jQuery wrapped elements. This has several upsides. Chrome will allow you to immediately interact with these elements, drilling into their contents, displaying the element box model on hover, etc. This prevents you from having to expand the jQuery elements and click “Reveal in Elements Panel”.</li> </ul> <h1 id="0-6-9" class="article-heading">
0.6.9
</h1>
<p><em>Released 06/06/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Custom commands no longer error out if they are the very first <code>cy</code> command.</li> </ul> <h1 id="0-6-8" class="article-heading">
0.6.8
</h1>
<p><em>Released 06/05/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>
<a href="../../../api/commands/clearcookie/"><code>cy.clearCookie()</code></a> and <a href="../../../api/commands/clearcookies/"><code>cy.clearCookies()</code></a> have been added as new commands.</li> <li>Cypress will automatically clear all cookies <strong>before</strong> each test run.</li> <li>Named the spec + app iframe so that inside of Chrome Dev Tools the iframe selector will clearly distinguish which iframe is your application versus Cypress.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Hitbox is no longer covered up by element layers on DOM revert.</li> <li>Finally tracked down and fixed edge case causing empty view to display when tests were not empty. Fixes <a href="https://github.com/cypress-io/cypress/issues/13" target="_blank" rel="noopener noreferrer">#13</a>
</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>
<a href="../../../api/commands/visit/"><code>cy.visit()</code></a> now accepts <code>{log: false}</code> to prevent logging out (useful in custom commands).</li> <li>
<a href="../../../api/commands/contains/"><code>cy.contains()</code></a> is now scoped by default to the <code>&lt;body&gt;</code> instead of <code>document</code> which prevents it from returning elements in the <code>head</code> like <code>title</code>.</li> </ul> <h1 id="0-6-7" class="article-heading">
0.6.7
</h1>
<p><em>Released 06/04/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>When reverting the DOM, associated command elements are now automatically scrolled into view.</li> <li>Hitboxes are now displayed on the screen based on the actual coordinates where an <code>action command</code> event took place.</li> <li>Click events now display event information about the <code>mousedown</code> / <code>mouseup</code> / <code>click</code> default action + propagation in the command console.</li> <li>Preventing default action on <code>mousedown</code> will no longer give focus as per the spec.</li> <li>Click events are now issued in the exact center of an element (taking into account 2d transforms) and provide the coordinates in the command console and in the actual event</li> <li>Click events now take into account whether the associated element is being covered up by another element, and will retry or fail with an exact error message if the click was unable to be issued due to this reason.</li> <li>Click events will now intelligently provide <code>focus</code> to the first focusable element on the stack at the click coordinates, or will give <code>focus</code> to the window.</li> <li>Click events will issue the click to the topmost element based on the click coordinates and not necessarily to the element you requested to e clicked (which simulates exactly how a real click works). If this happens it is noted in the command console and provides the <code>Actual Element Clicked</code>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>When hover over commands element layers (2d transforms like rotation) are now taken into account and displayed correctly.</li> <li>There was a bug when checking / unchecking <code>:checkbox</code> where it did not properly receive focus.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Click events are now replicated <em>almost</em> identically to the W3C click spec. They should behave for all intents and purposes, identically to real clicks in the browser.</li> </ul> <h1 id="0-6-6" class="article-heading">
0.6.6
</h1>
<p><em>Released 05/31/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Fixed regression related to <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> not re-visiting when current match matches remote url.</li> </ul> <h1 id="0-6-5" class="article-heading">
0.6.5
</h1>
<p><em>Released 05/23/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>When Cypress detects a regular HTTP page loading event (where we’re leaving the current page and requesting a new one) it will now insert a <code>loading</code> command which indicates to the user Cypress has stopped running commands until the new page loads.</li> <li>If for some reason this new page errors Cypress will display the initial 500 error messages just like <a href="../../../api/commands/visit/"><code>cy.visit()</code></a>.</li> <li>Cypress now waits <code>20s</code> (which matches <a href="../../../api/commands/visit/"><code>cy.visit()</code></a>) for the new page to load instead of <code>4s</code> previously.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>
<a href="../../../api/commands/submit/"><code>.submit()</code></a> will actually submit the form for real now, instead of just firing the submit event. Now it’s been upgraded to be able to be canceled or have its returnValue set to false and will not submit the form. Don’t ask how I missed this one. I as once a young naive programmer who trusted the DOM not to be the abomination it actually is.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>No longer send back a 500 message when initial response status code is 4xx.</li> </ul> <h1 id="0-6-4" class="article-heading">
0.6.4
</h1>
<p><em>Released 05/21/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Host header HTTPS protocol handling fixed.</li> <li>Incorrectly handling query params on redirects fixed.</li> <li>Other header edge cases fixed.</li> </ul> <h1 id="0-6-3" class="article-heading">
0.6.3
</h1>
<p><em>Released 05/20/2015</em></p> <p><strong>Misc:</strong></p> <ul> <li>Cypress should work with self signed SSL certificates now.</li> </ul> <h1 id="0-6-2" class="article-heading">
0.6.2
</h1>
<p><em>Released 05/20/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Using the <code>length</code> option in <code>querying</code> or <code>traversal</code> commands now logs out in the Command Log. Fixes <a href="https://github.com/cypress-io/cypress/issues/40" target="_blank" rel="noopener noreferrer">#40</a>.</li> <li>Other scenarios are fixed where command options would show incorrect number of object keys due to a bug in underscore’s <code>reduce</code> with an object that has a <code>length</code> key. Fixes <a href="https://github.com/cypress-io/cypress/issues/35" target="_blank" rel="noopener noreferrer">#35</a>.</li> </ul> <h1 id="0-6-1" class="article-heading">
0.6.1
</h1>
<p><em>Released 05/15/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Using the <code>length</code> option in traversal commands works properly now. Fixes <a href="https://github.com/cypress-io/cypress/issues/38" target="_blank" rel="noopener noreferrer">#38</a>.</li> <li>Command logging now works even if no <code>cy</code> commands have been issued. Fixes <a href="https://github.com/cypress-io/cypress/issues/37" target="_blank" rel="noopener noreferrer">#37</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Removed cy proxy commands: <code>each</code>, <code>map</code>. These didn’t really “fit” into the concept of a command, and with <a href="../../../api/commands/invoke/"><code>.invoke()</code></a> or <a href="../../../api/commands/its/"><code>.its()</code></a> they’re accessible anyway, so nothing is really lost.</li> </ul> <h1 id="0-6-0" class="article-heading">
0.6.0
</h1>
<p><em>Released 05/14/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>Pushstate application routing now works 100% reliably with NO hacky overrides in all browsers.</li> <li>All incompatible <code>a</code> / <code>link</code> / <code>form</code> elements are transparently rewritten to be compatible including FQDN and protocol-less <code>href</code> / <code>src</code>.</li> <li>Cookies are automatically cleared between page refreshes, during app startup, and leaving the test page.</li> <li>3rd Party cookies are now additionally cleared. All cookies are now accessible to the client in preparation for <a href="../../../api/commands/clearcookies/"><code>cy.clearCookies()</code></a>.</li> <li>Manual navigation after tests run now works reliably.</li> <li>Navigating between full page refreshes during tests now works reliably.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Server-side redirects are now completely transparently handled and supported.</li> <li>URLs are no longer altered in any weird way.</li> <li>Problematic <code>headers</code> are now automatically stripped from remote responses.</li> <li>3rd party <code>headers</code> are now properly proxied onto all responses.</li> <li>Custom headers and other headers “of interest” are rewritten for transparent compatibility.</li> <li>
<code>gzip</code> compression now handled and proxied correctly.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Completely overhauled the URL and proxy system used to serve remote applications.</li> <li>Drastically simplified the architecture required for proxying.</li> <li>Improved reliability for displaying the remote url.</li> <li>Namespaced all cypress internal routes.</li> <li>Many internal development / debugging processes improved.</li> <li>Added 100+ new tests surrounding serving remote content and processing requests.</li> <li>Renamed all remaining old references to <code>eclectus</code>.</li> <li>All responses are now streamed using <code>content-encoding: chunked</code>.</li> </ul> <h1 id="0-5-15" class="article-heading">
0.5.15
</h1>
<p><em>Released 05/07/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Reverted <code>window.location</code> overrides. This broke things in unexpected ways and after further testing would not have worked on <code>Firefox</code> and <code>IE</code>. It’s back to the drawing board (but I have some ideas). Apps using <code>pushState</code> routing are broken again.</li> </ul> <h1 id="0-5-14" class="article-heading">
0.5.14
</h1>
<p><em>Released 05/06/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>Cypress now works with JS applications that use <code>pushState</code> and <code>replaceState</code> routing (commonly known as <code>HTML5 History</code>) without having to change any application code.</li> <li>Cypress now always updates the remote URL whenever your application changes its URL through the vast variety of ways it can do this.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Removed <code>iframe</code> and <code>link[rel=stylesheet]</code> elements during DOM revert.</li> <li>Server instrument now correctly displays the number of responses their corresponding routes have had.</li> <li>Spies/Stubs/Mocks instrument now correctly displays the number of calls their corresponding methods have had.</li> <li>When users navigate between pages with commands, like <a href="../../../api/commands/click/"><code>.click()</code></a>, Cypress now correctly waits until the age has finished loading before running more commands. Previously this waited for the <code>unload</code> event, which did not fire synchronously, and ow we bind to <code>beforeunload</code> which does. Additionally Cypress checks to ensure <code>beforeunload</code> did not return a non-undefined value.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>More changes to prepare for server adapters,</li> </ul> <h1 id="0-5-13" class="article-heading">
0.5.13
</h1>
<p><em>Released 05/04/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>New <code>cy.message</code> and <code>cy.msg</code> commands in preparation for <code>cypress-ruby</code>, <code>cypress-node</code>, <code>cypress-*</code> packages/gem to talk directly to your back end.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Using <code>querying</code> or <code>traversal</code> commands will no longer throw a 2nd command error when using improper sizzle selectors.</li> <li>Argument formatting display for command messages is fixed. There were instances of leading commas, or no commas on some commands.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Changed default port from <code>3000</code> to <code>2020</code> to avoid standard port conflicts with commonly used back ends. Afterall, using Cypress is testing with 2020 vision. ;-)</li> <li>Updated <code>bluebird</code> to <code>2.9.25</code>.</li> <li>Began implementation in preparation for <strong>cross browser testing</strong> coming sometime relatively soon.</li> </ul> <h1 id="0-5-12" class="article-heading">
0.5.12
</h1>
<p><em>Released 04/30/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>Introduced new <strong>command option</strong> <code>length</code> which cues Cypress into not resolving matched elements until their length matches the option provided.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>
<code>cy.respond</code> will not resolve until all of the queue’d XHR’s have resolved.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Cypress now throws on <a href="../../../api/commands/should/"><code>.should()</code></a> if any DOM member isn’t in the DOM, except for <code>exist</code> assertions.</li> <li>Cypress now throws on <code>eventually.have.length</code> assertions. Use implicit <code>{length: n}</code> command options instead.</li> <li>Cypress overrides chai <code>exist</code> assertion to really mean: “does this subject exist in the document?”</li> </ul> <h1 id="0-5-11" class="article-heading">
0.5.11
</h1>
<p><em>Released 04/29/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Fixed missing <code>aliasType</code> from primitives and some DOM aliases, which prevent the background color from displaying in the UI.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Optimized performance for hovering / exiting commands. Heavily reduced the CPU on revert / restore the DOM.</li> </ul> <h1 id="0-5-10" class="article-heading">
0.5.10
</h1>
<p><em>Released 04/28/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>
<a href="../../../api/commands/server/"><code>cy.server()</code></a> now accepts a <code>delay</code> option which will delay all responses to requests (including 404) based on the value in ms</li> <li>
<a href="../../../api/commands/server/"><code>cy.server()</code></a> now accepts a <code>respond</code> option which can turn off automatic responding to requests.</li> <li>
<a href="../../../api/commands/route/"><code>cy.route()</code></a> now accepts a <code>delay</code> option which overrides the delay option set in <a href="../../../api/commands/server/"><code>cy.server()</code></a> to just matched requests.</li> <li>
<a href="../../../api/commands/route/"><code>cy.route()</code></a> now accepts a <code>respond</code> option which will turn off automatic responding to just matched requests.</li> <li>Fixes <a href="https://github.com/cypress-io/cypress/issues/14" target="_blank" rel="noopener noreferrer">#14</a>.</li> <li>
<a href="../../../api/commands/wait/"><code>cy.wait()</code></a> now accepts an alias property called <code>request</code>. Example: <code>cy.wait('@getUsers.request')</code> which ill resolve once the XHR is initially requested, before it is responded to. This allows you to test things when a request is in flight.</li> <li>Added <code>cy.respond</code> command which will respond to all pending requests when <code>{respond: false}</code> is set in the <code>server</code> or <code>route</code>.</li> <li>
<a href="../../../api/commands/debug/"><code>.debug()</code></a> now displays pending requests and completed requests.</li> <li>The command UI now displays pending requests as a <code>pending command</code>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Updated <code>sinon</code> to <code>1.14.1</code>.</li> </ul> <h1 id="0-5-9" class="article-heading">
0.5.9
</h1>
<p><em>Released 04/26/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>Added <a href="../../../api/commands/spread/"><code>.spread()</code></a> method which spreads an array as individual arguments to a callback function,like <a href="../../../api/commands/then/"><code>.then()</code></a>.</li> <li>During an update Cypress will now display the updating message in the same coordinates as when the app was open by clicking the tray icon.</li> <li>After an update Cypress will now open back up and show itself in these same coordinates.</li> <li>
<a href="../../../api/commands/wait/"><code>cy.wait()</code></a> can now accept an array of route aliases which will wait until all have completed. This array of resolved XHRs will become the next subject.</li> <li>Each time an alias in used with a <a href="../../../api/commands/wait/"><code>cy.wait()</code></a>, Cypress will not resolve until the Nth request matching the outing alias responds. Fixes <a href="https://github.com/cypress-io/cypress/issues/4" target="_blank" rel="noopener noreferrer">#4</a>.</li> <li>
<a href="../../../api/commands/get/"><code>cy.get()</code></a> has been upgraded to accept a routing alias. By default it will yield the last matched request, but also supports special alias properties which return a different request or potentially an array of requests.</li> </ul> <h1 id="0-5-8" class="article-heading">
0.5.8
</h1>
<p><em>Released 04/24/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>
<a href="../../../api/commands/as/"><code>.as()</code></a> can now alias primitives and objects other than routes or DOM.</li> <li>
<a href="../../../api/commands/as/"><code>.as()</code></a> automatically assigns this alias to <code>runnable.ctx</code> which makes it available synchronously.</li> <li>
<a href="../../../api/commands/as/"><code>.as()</code></a> blacklists several reserved words and will throw if you attempt to alias as one of them.</li> <li>
<a href="../../../api/commands/get/"><code>cy.get()</code></a> can now accept all alias types and will display the labels in the UI differently based on the alias type.</li> <li>Cypress now displays a message when the Desktop App update is actually being applied instead of doing nothing and looking like it’s crashed.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>
<a href="../../../api/commands/as/"><code>.as()</code></a> now throws on empty strings or non string arguments.</li> <li>Desktop App debug logs no longer sort in the wrong direction.</li> <li>Permissions are now restored during a cypress update for the <code>logs</code> and <code>cache</code>.</li> <li>Prevent 3rd party windows from gaining focus over main window.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Removed <code>cy.assign</code>, this has been folded into <a href="../../../api/commands/as/"><code>.as()</code></a>.</li> <li>Updated <code>chokidar</code> to <code>1.0.1</code>.</li> </ul> <h1 id="0-5-7" class="article-heading">
0.5.7
</h1>
<p><em>Released 04/23/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>The insanity that is URL parsing to figure out absolute, relative, absolute-path-relative, http, sub domains, and local files should work in most cases. In other words, Cypress has implemented the vast majority of url parsing based on the <a href="https://url.spec.whatwg.org/" target="_blank" rel="noopener">w3c URL spec</a>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Prevent reverting the DOM while tests are running. Fixes <a href="https://github.com/cypress-io/cypress/issues/28" target="_blank" rel="noopener noreferrer">#28</a>.</li> <li>Fix edge case with forced focusing / blurring an element when document is not in focus and the element is no longer in the DOM.</li> <li>Visiting relative paths which are served from your file system works again.</li> <li>Visiting absolute paths in the iframe now displays the correct URL in the address bar again.</li> </ul> <h1 id="0-5-6" class="article-heading">
0.5.6
</h1>
<p><em>Released 04/22/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>Cypress now detects the difference between a forced async <code>done</code> test timeout vs a regular command timeout, and will throw the appropriate message indicating whether the user forgot to invoke <code>done</code> or whether the timeout happened due to a command.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>
<a href="../../../api/commands/visit/"><code>cy.visit()</code></a> now properly times out when the <code>load</code> event does not occur within the time out window.</li> <li>If a page loads after a <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> times out it will no longer cause an exception in the <code>onBeforeLoad</code> handler.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Increased <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> timeout from <strong>15s</strong> to <strong>20s</strong>.</li> <li>
<a href="../../../api/commands/visit/"><code>cy.visit()</code></a> now throws a custom error message when it times out (instead of an incorrect / confusing default Mocha timeout message).</li> <li>Using a <code>debugger</code> while running a test will no longer always cause the test to time out (yay!).</li> <li>Override default Mocha timeout handling, replaced with custom logic. Removes many bizarre edge cases.</li> </ul> <h1 id="0-5-5" class="article-heading">
0.5.5
</h1>
<p><em>Released 04/20/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>When main app window comes into focus, it will automatically focus other peripheral windows.</li> <li>Added explicit error message when using child commands on a subject which has been detached or removed from the DOM.</li> <li>Cypress now detects when an async test is passed and not all commands have finished running. It will throw an explicit error message in this situation.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Error messages no longer break within words.</li> </ul> <h1 id="0-5-4" class="article-heading">
0.5.4
</h1>
<p><em>Released 04/20/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>Enhanced <a href="../../../api/commands/should/"><code>.should()</code></a> to accept <code>eventually</code> flag to automatically retry assertions until timeout is reached.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Repurposed <a href="../../../api/commands/and/"><code>.and()</code></a> to be an alias of <a href="../../../api/commands/should/"><code>.should()</code></a> for chainability.</li> <li>Removed <code>cy.to</code>.</li> </ul> <h1 id="0-5-3" class="article-heading">
0.5.3
</h1>
<p><em>Released 04/19/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Handle relative path segments which walk up past the remote host <code>../../assets/app.css</code>.</li> <li>Throw explicit error for <code>null</code>, <code>undefined</code>, and <code>""</code> arguments to <a href="../../../api/commands/contains/"><code>cy.contains()</code></a>. Fixes <a href="https://github.com/cypress-io/cypress/issues/24" target="_blank" rel="noopener noreferrer">#24</a>.</li> </ul> <p>Misc</p> <ul> <li>Improved <code>onConsole</code> message for <a href="../../../api/commands/focused/"><code>cy.focused()</code></a> when no element was returned. Fixes <a href="https://github.com/cypress-io/cypress/issues/23" target="_blank" rel="noopener noreferrer">#23</a>.</li> </ul> <h1 id="0-5-2" class="article-heading">
0.5.2
</h1>
<p><em>Released 04/17/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Fixed missing files from deployment. Added tests around this.</li> </ul> <h1 id="0-5-1" class="article-heading">
0.5.1
</h1>
<p><em>Released 04/16/2015</em></p> <p><strong>Misc:</strong></p> <ul> <li>Updated dependencies: <code>bluebird</code>, <code>fs-extra</code>, <code>sinon-as-promised</code>.</li> <li>Updated <code>nw</code> to <code>0.12.1</code>.</li> </ul> <h1 id="0-5-0" class="article-heading">
0.5.0
</h1>
<p><em>Released 04/15/2015</em></p> <p><strong>Misc:</strong></p> <ul> <li>Snapshot source code.</li> </ul> <h1 id="0-4-7" class="article-heading">
0.4.7
</h1>
<p><em>Released 04/15/2015</em></p> <p><strong>Misc:</strong></p> <ul> <li>Added automated functional NW tests during deployment in preparation for <code>0.5.0</code> release.</li> </ul> <h1 id="0-4-6" class="article-heading">
0.4.6
</h1>
<p><em>Released 04/11/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>Added “invisible” icon to a command when its matched element(s) are invisible.</li> <li>Running a single test will now automatically expand to display its commands.</li> <li>Any failing test will now automatically expand to display its commands.</li> <li>Failing tests which become passing will automatically collapse again.</li> </ul> <h1 id="0-4-5" class="article-heading">
0.4.5
</h1>
<p><em>Released 04/10/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>Added <a href="../../../api/commands/wrap/"><code>cy.wrap()</code></a> command.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Improved options logging and argument logging for all commands. Fixes <a href="https://github.com/cypress-io/cypress/issues/8" target="_blank" rel="noopener noreferrer">#8</a>.</li> </ul> <h1 id="0-4-4" class="article-heading">
0.4.4
</h1>
<p><em>Released 04/09/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>Added <a href="../../../api/commands/not/"><code>.not()</code></a> traversal filtering method. Suggested in <a href="https://github.com/cypress-io/cypress/issues/16" target="_blank" rel="noopener noreferrer">#16</a>.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Improved error messages for traversal failures. Errors now include the parent context DOM element. Fixes <a href="https://github.com/cypress-io/cypress/issues/11" target="_blank" rel="noopener noreferrer">#11</a>.</li> <li>Improved error messages for invalid <a href="../../../api/commands/route/"><code>cy.route()</code></a> arguments. Fixes <a href="https://github.com/cypress-io/cypress/issues/20" target="_blank" rel="noopener noreferrer">#20</a>.</li> </ul> <h1 id="0-4-3" class="article-heading">
0.4.3
</h1>
<p><em>Released 04/09/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>Added functionality which enables <a href="../../../api/commands/server/"><code>cy.server()</code></a> and <a href="../../../api/commands/route/"><code>cy.route()</code></a> to be created prior to <a href="../../../api/commands/visit/"><code>cy.visit()</code></a>. The server and routes will apply to the next page which is visited. This allows you to stub requests which happen on page load. Suggested in <a href="https://github.com/cypress-io/cypress/issues/17" target="_blank" rel="noopener noreferrer">#17</a>.</li> <li>
<a href="../../../api/commands/visit/"><code>cy.visit()</code></a> now takes an optional <code>onBeforeLoad</code> callback option which is invoked when your page begins to ender but prior to its load event.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Improved error message when attempting to use <code>cy.agents</code> or anything else which requires a remote sandbox. Fixes <a href="https://github.com/cypress-io/cypress/issues/12" target="_blank" rel="noopener noreferrer">#12</a>.</li> </ul> <h1 id="0-4-2" class="article-heading">
0.4.2
</h1>
<p><em>Released 04/09/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Remove accidental <code>debugger</code> left in <code>uncaught</code> overloads (used only in Dev).</li> <li>Prevent memory leak with Cypress helper listeners on every re-run of the tests.</li> <li>Prevent memory leak with custom 3rd party Cypress listeners in spec windows on every re-run of the tests.</li> <li>Prevent error from being thrown when <code>.only</code>‘s are switched in between active test runs.</li> </ul> <h1 id="0-4-1" class="article-heading">
0.4.1
</h1>
<p><em>Released 04/08/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>
<code>javascripts</code> files can now utilize <code>snockets</code>, <code>browserify</code>, or <code>requirejs</code>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Handle <code>javascripts</code> and preprocess them as we do regular specs. Fixes: <a href="https://github.com/cypress-io/cypress/issues/15" target="_blank" rel="noopener noreferrer">#15</a>.</li> <li>Fixed an edge case when writing a test with a <code>done</code> callback alongside <code>cy</code> commands. This situation would always cause a timeout after 30 seconds even though the test would pass.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Internally refactored Cypress for easier testability / debuggability.</li> <li>Organized files around in preparation for OS release.</li> <li>Added lightweight module system / optimized Cypress listeners to prevent duplicated events.</li> <li>Changed url strategy for sending down <code>spec</code> files.</li> </ul> <h1 id="0-4-0" class="article-heading">
0.4.0
</h1>
<p><em>Released 04/02/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>
<code>sinon-as-promised</code> is now a bundled extension.</li> <li>tests without an <code>id</code> now run (with a random temporarily assigned id).</li> <li>tests with a duplicate <code>id</code> to another test will now run (with a random temporarily assigned id).</li> <li>tests or suites which are manually re-run from the UI now hide all of the other tests / suites.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Fixed hook failure associated to wrong failed current test when <code>grep</code> was set.</li> <li>Async tests which used a <code>cy</code> command and had a <code>done</code> callback was always undefined. Now it’s back to real Mocha <code>function done(err)</code>.</li> <li>Fixed bug in Mocha where it incorrectly associates <code>hook.ctx.currentTest</code> to the wrong <code>test</code>. <a href="https://github.com/mochajs/mocha/issues/1638" target="_blank" rel="noopener">Mocha Issue</a>.</li> <li>
<a href="../../../api/commands/title/"><code>cy.title()</code></a> no longer logs twice on a failure.</li> <li>Fixed putting an <code>.only</code> on a large list of tests that would sometimes not clear the previous runnables in the UI.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Optimized first test run after hard refresh.</li> <li>Performance improvements on successive runnable iterations.</li> <li>Aborting currently running tests performance improvement.</li> <li>Live reload performance improvements when tests are changed.</li> <li>Added 100+ tests covering Runner + Reporter behavior.</li> <li>Aggressively cleaned up listeners after each test completion + run.</li> <li>Added additional <code>Cypress</code> events for 3rd party custom handling.</li> </ul> <h1 id="0-3-15" class="article-heading">
0.3.15
</h1>
<p><em>Released 03/28/2015</em></p> <p><strong>Misc:</strong></p> <ul> <li>Drastically improved file watching on large projects with many tests. Instead of choking the CPU at nearly 100% indefinitely we now optimally watch the current working files for changes.</li> </ul> <h1 id="0-3-14" class="article-heading">
0.3.14
</h1>
<p><em>Released 03/27/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>
<code>Socket.io</code> and <code>chokidar</code> are now being cleaned up when a project is closed. Previously <code>chokidar</code> file watchers would stick around indefinitely causing a memory leak each time any project is closed and reopened.</li> </ul> <h1 id="0-3-13" class="article-heading">
0.3.13
</h1>
<p><em>Released 03/27/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>
<a href="../../../api/commands/visit/"><code>cy.visit()</code></a> now detects a local url. <code>localhost</code>, <code>0.0.0.0</code>, <code>127.0.0.1</code> can omit the <code>http://</code> protocol.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>
<a href="../../../api/commands/contains/"><code>cy.contains()</code></a> now properly escape quotes in the text.</li> <li>
<a href="../../../api/commands/visit/"><code>cy.visit()</code></a> now inserts a trailing slash intelligently into the correct <code>path</code> position (not after query params or hashes).</li> <li>
<a href="../../../api/commands/visit/"><code>cy.visit()</code></a> will no longer log 2 failed commands on error.</li> <li>Hovering on commands which delay resolving their $el will now properly highlight again.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>
<a href="../../../api/commands/debug/"><code>.debug()</code></a> returns the current subject now.</li> <li>upgraded jsUri to <code>1.3.0</code>.</li> <li>
<a href="../../../api/commands/visit/"><code>cy.visit()</code></a> now throws when url argument isn’t a string.</li> <li>
<code>Cypress.Log</code> instances now fire <code>attrs:changed</code> event. Removed <code>state:change</code> event.</li> </ul> <h1 id="0-3-12" class="article-heading">
0.3.12
</h1>
<p><em>Released 03/26/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Aliases which replay their commands will no longer break the current chain and therefore not unintentionally null our their subject for the ext command.</li> <li>Highlighting $el’s on DOM restore now works again.</li> <li>Asserting against <a href="../../../api/commands/focused/"><code>cy.focused()</code></a> will indent command logs now.</li> <li>Prevent failed <a href="../../../api/commands/should/"><code>.should()</code></a> and <code>cy.to</code> from outputting a second error’d command log.</li> <li>Removed memory leaks surrounding Mocha runner.</li> <li>Captured remote page uncaught errors again which fail corresponding tests.</li> <li>Captured spec iframe errors again and preserve their stack trace.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>
<a href="../../../api/commands/focused/"><code>cy.focused()</code></a> is now a parent command.</li> <li>Memory usage improvements.</li> </ul> <h1 id="0-3-11" class="article-heading">
0.3.11
</h1>
<p><em>Released 03/25/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Automatic command errors now properly show as errored commands.</li> <li>
<a href="../../../api/commands/invoke/"><code>.invoke()</code></a> now correctly checks for a subject before running.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>
<code>cy.Promise</code> (Bluebird) is now publicly available.</li> </ul> <h1 id="0-3-10" class="article-heading">
0.3.10
</h1>
<p><em>Released 03/24/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Test duration is now correct and only updates when tests finish.</li> <li>Failing a hook will no longer continue to count the duration forever.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Bumped Mocha to 2.2.1</li> <li>Users now see a specialized error message when Cypress could not serve static files from the file system.</li> </ul> <h1 id="0-3-9" class="article-heading">
0.3.9
</h1>
<p><em>Released 03/24/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>Instead of waiting until commands resolve, commands are immediately inserted with a <code>pending</code> status.</li> <li>Pending commands are now visually distinguishable.</li> <li>Created new <code>Cypress.Log</code> interface for greater control over the display of commands.</li> <li>Available aliases are now logged in the console on <a href="../../../api/commands/debug/"><code>.debug()</code></a>.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Allow projects to be scrolled when &gt;4 are added.</li> <li>
<a href="../../../api/commands/type/"><code>.type()</code></a> accepts remaining <code>input[type=*]</code> that users can type into.</li> <li>Cause + Effect commands are now logged in the correct order. IE, clicking something which causes another command to insert will be inserted correctly in the order they arrived</li> <li>
<code>numRetries</code> is no longer shown in commands.</li> <li>
<a href="../../../api/commands/clear/"><code>.clear()</code></a> now logs a command.</li> <li>
<code>Promise.reduce</code> bugs are now fixed, causing events on a collection of elements in the synchronous wrong order.</li> <li>
<code>cy.chain</code> is now coercively returned instead of <code>cy</code> which prevents losing access to the subject in custom commands.</li> <li>Trailing slashes are removed when serving initial files from the file system directly.</li> </ul> <h1 id="0-3-8" class="article-heading">
0.3.8
</h1>
<p><em>Released 03/22/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>Added icons + tray icons.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Prevent cypress.app from showing in taskbar.</li> <li>Clicking on tray twice will toggle hide/show of app.</li> </ul> <h1 id="0-3-7" class="article-heading">
0.3.7
</h1>
<p><em>Released 03/21/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>Code Signed Mac App to prevent “Unidentified Developer” message on open.</li> </ul> <h1 id="0-3-6" class="article-heading">
0.3.6
</h1>
<p><em>Released 03/20/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>Added external link to changelog when checking for updates :-)</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Force trailing slash on all <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> to fix relative links <code>href="assets/app.js"</code>.</li> <li>Fix sourceMappingURL browser bug <code>http:/localhost:4200/app.css.map</code>.</li> <li>Fix test titles not being escaped due to refactoring.</li> </ul> <h1 id="0-3-5" class="article-heading">
0.3.5
</h1>
<p><em>Released 03/20/2015</em></p> <p><strong>Bugfixes:</strong></p> <ul> <li>Fix missing <code>moment.js</code> from <code>bower.json</code>.</li> <li>Fix missing trailing slash from initial <a href="../../../api/commands/visit/"><code>cy.visit()</code></a> requests.</li> <li>Fix missing <code>__initial=true</code> query param on initial redirects.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Updated $.simulate to 1.0.1.</li> </ul> <h1 id="0-3-4" class="article-heading">
0.3.4
</h1>
<p><em>Released 03/19/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>
<a href="../../../api/commands/type/"><code>.type()</code></a> now causes the subject to receive <code>focus</code> event.</li> <li>
<a href="../../../api/commands/type/"><code>.type()</code></a> now causes previously <code>focused</code> elements to receive <code>blur</code> event/</li> <li>Typing <code>{enter}</code> now handles form submit logic as per the HTML spec.<ul> <li>Form with 1 input, no defaultButton.</li> <li>Form with 2 inputs, no defaultButton.</li> <li>Form with disabled defaultButton.</li> <li>Form with multiple defaultButtons.</li> <li>Correctly processes defaultButton click event, form submit event.</li> <li>Intelligently handle defaultPrevented events from descendants.</li> </ul> </li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>
<a href="../../../api/commands/clear/"><code>.clear()</code></a> now returns a promise.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Updated <code>bluebird</code> to <code>2.9.14</code>.</li> </ul> <h1 id="0-3-3" class="article-heading">
0.3.3
</h1>
<p><em>Released 03/18/2015</em></p> <p><strong>Features:</strong></p> <ul> <li>Filtered out Ajax requests for <code>.js</code>, <code>.html</code>, <code>.css</code> files by default.</li> <li>
<a href="../../../api/commands/server/"><code>cy.server()</code></a> can configure whether this is turned on or off.</li> </ul> <p><strong>Bugfixes:</strong></p> <ul> <li>Prevent <a href="../../../api/commands/server/"><code>cy.server()</code></a> from slurping up Angular async template GETs.</li> </ul> <p><strong>Misc:</strong></p> <ul> <li>Inlined Google Fonts into <code>vendor.css</code>.</li> </ul> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2017 Cypress.io<br>Licensed under the MIT License.<br>
    <a href="https://docs.cypress.io/guides/references/changelog.html" class="_attribution-link" target="_blank">https://docs.cypress.io/guides/references/changelog.html</a>
  </p>
</div>

				
			</div>
			<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
</amp-auto-ads>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
