
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>REST - Codeception - W3cubDocs</title>
  
  <meta name="description" content=" Module for testing REST WebService. ">
  <meta name="keywords" content="rest, -, codeception">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/codeception/modules/rest/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" integrity="sha256-6/DH7X+2hvUPElJfGsvzm+tgIpmM9zjbYxnpsr6gR1A=" crossorigin="anonymous" href="/assets/application-ebf0c7ed7fb686f50f12525f1acbf39beb6022998cf738db6319e9b2bea04750.css">
  <script type="text/javascript" src="/assets/application-db285287b40ed28fac520fcfd75d7d874692b647b5b5e05968c741dda5de4148.js" integrity="sha256-2yhSh7QO0o+sUg/P1119h0aStke1teBZaMdB3aXeQUg=" crossorigin="anonymous"></script>
  <script src="/json/codeception.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-2572770204602497",
            enable_page_level_ads: true
        });
  </script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/codeception/" class="_nav-link" title="" style="margin-left:0;">Codeception</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _codeception">
				
				
<h1 id="rest">REST</h1> <p>Module for testing REST WebService.</p> <p>This module can be used either with frameworks or PHPBrowser. If a framework module is connected, the testing will occur in the application directly. Otherwise, a PHPBrowser should be specified as a dependency to send requests and receive responses from a server.</p> <h2 id="configuration">Configuration</h2> <ul> <li>url <em>optional</em> - the url of api</li> <li>shortDebugResponse <em>optional</em> - amount of chars to limit the api response length</li> </ul> <p>This module requires PHPBrowser or any of Framework modules enabled.</p> <h3 id="example">Example</h3> <div class="highlighter-rouge"><code>modules:
   enabled:
       - REST:
           depends: PhpBrowser
           url: 'http://serviceapp/api/v1/'
           shortDebugResponse: 300 # only the first 300 chars of the response
</code></div> <h2 id="public-properties">Public Properties</h2> <ul> <li>headers - array of headers going to be sent.</li> <li>params - array of sent data</li> <li>response - last response (string)</li> </ul> <h2 id="parts">Parts</h2> <ul> <li>Json - actions for validating Json responses (no Xml responses)</li> <li>Xml - actions for validating XML responses (no Json responses)</li> </ul> <h2 id="conflicts">Conflicts</h2> <p>Conflicts with SOAP module</p> <h2 id="actions">Actions</h2> <h3 id="amawsauthenticated">amAWSAuthenticated</h3> <p>Allows to send REST request using AWS Authorization</p> <p>Only works with PhpBrowser Example Config:</p> <pre data-language="yaml">yml
modules:
     enabled:
         - REST:
             aws:
                 key: accessKey
                 secret: accessSecret
                 service: awsService
                 region: awsRegion</pre> <p>Code:</p> <pre data-language="php">&lt;?php
$I-&gt;amAWSAuthenticated();
?&gt;</pre> <ul> <li>
<code class="highlighter-rouge">param array</code> $additionalAWSConfig @throws ModuleException</li> </ul> <h3 id="ambearerauthenticated">amBearerAuthenticated</h3> <p>Adds Bearer authentication via access token.</p> <ul> <li>
<code class="highlighter-rouge">param</code> $accessToken</li> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="amdigestauthenticated">amDigestAuthenticated</h3> <p>Adds Digest authentication via username/password.</p> <ul> <li>
<code class="highlighter-rouge">param</code> $username</li> <li>
<code class="highlighter-rouge">param</code> $password</li> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="amhttpauthenticated">amHttpAuthenticated</h3> <p>Adds HTTP authentication via username/password.</p> <ul> <li>
<code class="highlighter-rouge">param</code> $username</li> <li>
<code class="highlighter-rouge">param</code> $password</li> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="amntlmauthenticated">amNTLMAuthenticated</h3> <p>Adds NTLM authentication via username/password. Requires client to be Guzzle &gt;=6.3.0 Out of scope for functional modules.</p> <p>Example:</p> <pre data-language="php">&lt;?php
$I-&gt;amNTLMAuthenticated('jon_snow', 'targaryen');
?&gt;</pre> <ul> <li>
<code class="highlighter-rouge">param</code> $username</li> <li>
<code class="highlighter-rouge">param</code> $password @throws ModuleException</li> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="deleteheader">deleteHeader</h3> <p>Deletes the header with the passed name. Subsequent requests will not have the deleted header in its request.</p> <p>Example:</p> <pre data-language="php">&lt;?php
$I-&gt;haveHttpHeader('X-Requested-With', 'Codeception');
$I-&gt;sendGET('test-headers.php');
// ...
$I-&gt;deleteHeader('X-Requested-With');
$I-&gt;sendPOST('some-other-page.php');
?&gt;</pre> <ul> <li>
<code class="highlighter-rouge">param string</code> $name the name of the header to delete.</li> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="dontseebinaryresponseequals">dontSeeBinaryResponseEquals</h3> <p>Checks if the hash of a binary response is not the same as provided.</p> <pre data-language="php">&lt;?php
$I-&gt;dontSeeBinaryResponseEquals("8c90748342f19b195b9c6b4eff742ded");
?&gt;</pre> <p>Opposite to <code class="highlighter-rouge">seeBinaryResponseEquals</code></p> <ul> <li>
<code class="highlighter-rouge">param</code> $hash the hashed data response expected</li> <li>
<code class="highlighter-rouge">param</code> $algo the hash algorithm to use. Default md5.</li> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="dontseehttpheader">dontSeeHttpHeader</h3> <p>Checks over the given HTTP header and (optionally) its value, asserting that are not there</p> <ul> <li>
<code class="highlighter-rouge">param</code> $name</li> <li>
<code class="highlighter-rouge">param</code> $value</li> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="dontseeresponsecodeis">dontSeeResponseCodeIs</h3> <p>Checks that response code is not equal to provided value.</p> <pre data-language="php">&lt;?php
$I-&gt;dontSeeResponseCodeIs(200);

// preferred to use \Codeception\Util\HttpCode
$I-&gt;dontSeeResponseCodeIs(\Codeception\Util\HttpCode::OK);</pre> <ul> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> <li>
<code class="highlighter-rouge">param</code> $code</li> </ul> <h3 id="dontseeresponsecontains">dontSeeResponseContains</h3> <p>Checks whether last response do not contain text.</p> <ul> <li>
<code class="highlighter-rouge">param</code> $text</li> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="dontseeresponsecontainsjson">dontSeeResponseContainsJson</h3> <p>Opposite to seeResponseContainsJson</p> <ul> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">param array</code> $json</li> </ul> <h3 id="dontseeresponsejsonmatchesjsonpath">dontSeeResponseJsonMatchesJsonPath</h3> <p>Opposite to seeResponseJsonMatchesJsonPath</p> <ul> <li>
<code class="highlighter-rouge">param string</code> $jsonPath</li> <li>
<code class="highlighter-rouge">[Part]</code> json</li> </ul> <h3 id="dontseeresponsejsonmatchesxpath">dontSeeResponseJsonMatchesXpath</h3> <p>Opposite to seeResponseJsonMatchesXpath</p> <ul> <li>
<code class="highlighter-rouge">param string</code> $xpath</li> <li>
<code class="highlighter-rouge">[Part]</code> json</li> </ul> <h3 id="dontseeresponsematchesjsontype">dontSeeResponseMatchesJsonType</h3> <p>Opposite to <code class="highlighter-rouge">seeResponseMatchesJsonType</code>.</p> <ul> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">param</code> $jsonType jsonType structure</li> <li>
<code class="highlighter-rouge">param null</code> $jsonPath optionally set specific path to structure with JsonPath @see seeResponseMatchesJsonType</li> <li>
<code class="highlighter-rouge">Available since</code> 2.1.3</li> </ul> <h3 id="dontseexmlresponseequals">dontSeeXmlResponseEquals</h3> <p>Checks XML response does not equal to provided XML. Comparison is done by canonicalizing both xml`s.</p> <p>Parameter can be passed either as XmlBuilder, DOMDocument, DOMNode, XML string, or array (if no attributes).</p> <ul> <li>
<code class="highlighter-rouge">param</code> $xml</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="dontseexmlresponseincludes">dontSeeXmlResponseIncludes</h3> <p>Checks XML response does not include provided XML. Comparison is done by canonicalizing both xml`s. Parameter can be passed either as XmlBuilder, DOMDocument, DOMNode, XML string, or array (if no attributes).</p> <ul> <li>
<code class="highlighter-rouge">param</code> $xml</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="dontseexmlresponsematchesxpath">dontSeeXmlResponseMatchesXpath</h3> <p>Checks whether XML response does not match XPath</p> <pre data-language="php">&lt;?php
$I-&gt;dontSeeXmlResponseMatchesXpath('//root/user[@id=1]');</pre> <ul> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> <li>
<code class="highlighter-rouge">param</code> $xpath</li> </ul> <h3 id="grabattributefromxmlelement">grabAttributeFromXmlElement</h3> <p>Finds and returns attribute of element. Element is matched by either CSS or XPath</p> <ul> <li>
<code class="highlighter-rouge">param</code> $cssOrXPath</li> <li>
<code class="highlighter-rouge">param</code> $attribute</li> <li>
<code class="highlighter-rouge">return</code> string</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="grabdatafromresponsebyjsonpath">grabDataFromResponseByJsonPath</h3> <p>Returns data from the current JSON response using <a href="http://goessner.net/articles/JsonPath/" target="_blank">JSONPath</a> as selector. JsonPath is XPath equivalent for querying Json structures. Try your JsonPath expressions <a href="http://jsonpath.curiousconcept.com/" target="_blank">online</a>. Even for a single value an array is returned.</p> <p>This method <strong>require <a href="https://github.com/FlowCommunications/JSONPath/" target="_blank"><code class="highlighter-rouge">flow/jsonpath</code> &gt; 0.2</a> library to be installed</strong>.</p> <p>Example:</p> <pre data-language="php">&lt;?php
// match the first `user.id` in json
$firstUserId = $I-&gt;grabDataFromResponseByJsonPath('$..users[0].id');
$I-&gt;sendPUT('/user', array('id' =&gt; $firstUserId[0], 'name' =&gt; 'davert'));
?&gt;</pre> <ul> <li>
<code class="highlighter-rouge">param string</code> $jsonPath</li> <li>
<code class="highlighter-rouge">return</code> array Array of matching items @throws \Exception</li> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">Available since</code> 2.0.9</li> </ul> <h3 id="grabhttpheader">grabHttpHeader</h3> <p>Returns the value of the specified header name</p> <ul> <li>
<code class="highlighter-rouge">param</code> $name</li> <li> <p><code class="highlighter-rouge">param Boolean</code> $first Whether to return the first value or all header values</p> </li> <li>
<code class="highlighter-rouge">return string|array The first header value if</code> $first is true, an array of values otherwise</li> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="grabresponse">grabResponse</h3> <p>Returns current response so that it can be used in next scenario steps.</p> <p>Example:</p> <pre data-language="php">&lt;?php
$user_id = $I-&gt;grabResponse();
$I-&gt;sendPUT('/user', array('id' =&gt; $user_id, 'name' =&gt; 'davert'));
?&gt;</pre> <ul> <li>
<code class="highlighter-rouge">return</code> string</li> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> <li>
<code class="highlighter-rouge">Available since</code> 1.1</li> </ul> <h3 id="grabtextcontentfromxmlelement">grabTextContentFromXmlElement</h3> <p>Finds and returns text contents of element. Element is matched by either CSS or XPath</p> <ul> <li>
<code class="highlighter-rouge">param</code> $cssOrXPath</li> <li>
<code class="highlighter-rouge">return</code> string</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="havehttpheader">haveHttpHeader</h3> <p>Sets HTTP header valid for all next requests. Use <code class="highlighter-rouge">deleteHeader</code> to unset it</p> <pre data-language="php">&lt;?php
$I-&gt;haveHttpHeader('Content-Type', 'application/json');
// all next requests will contain this header
?&gt;</pre> <ul> <li>
<code class="highlighter-rouge">param</code> $name</li> <li>
<code class="highlighter-rouge">param</code> $value</li> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="seebinaryresponseequals">seeBinaryResponseEquals</h3> <p>Checks if the hash of a binary response is exactly the same as provided. Parameter can be passed as any hash string supported by hash(), with an optional second parameter to specify the hash type, which defaults to md5.</p> <p>Example: Using md5 hash key</p> <pre data-language="php">&lt;?php
$I-&gt;seeBinaryResponseEquals("8c90748342f19b195b9c6b4eff742ded");
?&gt;</pre> <p>Example: Using md5 for a file contents</p> <pre data-language="php">&lt;?php
$fileData = file_get_contents("test_file.jpg");
$I-&gt;seeBinaryResponseEquals(md5($fileData));
?&gt;</pre> <p>Example: Using sha256 hash</p> <pre data-language="php">&lt;?php
$fileData = '/9j/2wBDAAMCAgICAgMCAgIDAwMDBAYEBAQEBAgGBgUGCQgKCgkICQkKDA8MCgsOCwkJDRENDg8QEBEQCgwSExIQEw8QEBD/yQALCAABAAEBAREA/8wABgAQEAX/2gAIAQEAAD8A0s8g/9k='; // very small jpeg
$I-&gt;seeBinaryResponseEquals(hash("sha256", base64_decode($fileData)), 'sha256');
?&gt;</pre> <ul> <li>
<code class="highlighter-rouge">param</code> $hash the hashed data response expected</li> <li>
<code class="highlighter-rouge">param</code> $algo the hash algorithm to use. Default md5.</li> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="seehttpheader">seeHttpHeader</h3> <p>Checks over the given HTTP header and (optionally) its value, asserting that are there</p> <ul> <li>
<code class="highlighter-rouge">param</code> $name</li> <li>
<code class="highlighter-rouge">param</code> $value</li> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="seehttpheaderonce">seeHttpHeaderOnce</h3> <p>Checks that http response header is received only once. HTTP RFC2616 allows multiple response headers with the same name. You can check that you didn’t accidentally sent the same header twice.</p> <pre data-language="php">&lt;?php
$I-&gt;seeHttpHeaderOnce('Cache-Control');
?&gt;&gt;</pre> <ul> <li>
<code class="highlighter-rouge">param</code> $name</li> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="seeresponsecodeis">seeResponseCodeIs</h3> <p>Checks response code equals to provided value.</p> <pre data-language="php">&lt;?php
$I-&gt;seeResponseCodeIs(200);

// preferred to use \Codeception\Util\HttpCode
$I-&gt;seeResponseCodeIs(\Codeception\Util\HttpCode::OK);</pre> <ul> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> <li>
<code class="highlighter-rouge">param</code> $code</li> </ul> <h3 id="seeresponsecodeisclienterror">seeResponseCodeIsClientError</h3> <p>Checks that the response code is 4xx</p> <ul> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="seeresponsecodeisredirection">seeResponseCodeIsRedirection</h3> <p>Checks that the response code 3xx</p> <ul> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="seeresponsecodeisservererror">seeResponseCodeIsServerError</h3> <p>Checks that the response code is 5xx</p> <ul> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="seeresponsecodeissuccessful">seeResponseCodeIsSuccessful</h3> <p>Checks that the response code is 2xx</p> <ul> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="seeresponsecontains">seeResponseContains</h3> <p>Checks whether the last response contains text.</p> <ul> <li>
<code class="highlighter-rouge">param</code> $text</li> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="seeresponsecontainsjson">seeResponseContainsJson</h3> <p>Checks whether the last JSON response contains provided array. The response is converted to array with json_decode($response, true) Thus, JSON is represented by associative array. This method matches that response array contains provided array.</p> <p>Examples:</p> <pre data-language="php">&lt;?php
// response: {name: john, email: john@gmail.com}
$I-&gt;seeResponseContainsJson(array('name' =&gt; 'john'));

// response {user: john, profile: { email: john@gmail.com }}
$I-&gt;seeResponseContainsJson(array('email' =&gt; 'john@gmail.com'));

?&gt;</pre> <p>This method recursively checks if one array can be found inside of another.</p> <ul> <li>
<code class="highlighter-rouge">param array</code> $json</li> <li>
<code class="highlighter-rouge">[Part]</code> json</li> </ul> <h3 id="seeresponseequals">seeResponseEquals</h3> <p>Checks if response is exactly the same as provided.</p> <ul> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> <li>
<code class="highlighter-rouge">param</code> $response</li> </ul> <h3 id="seeresponseisjson">seeResponseIsJson</h3> <p>Checks whether last response was valid JSON. This is done with json_last_error function.</p> <ul> <li>
<code class="highlighter-rouge">[Part]</code> json</li> </ul> <h3 id="seeresponseisxml">seeResponseIsXml</h3> <p>Checks whether last response was valid XML. This is done with libxml_get_last_error function.</p> <ul> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="seeresponsejsonmatchesjsonpath">seeResponseJsonMatchesJsonPath</h3> <p>Checks if json structure in response matches <a href="http://goessner.net/articles/JsonPath/" target="_blank">JsonPath</a>. JsonPath is XPath equivalent for querying Json structures. Try your JsonPath expressions <a href="http://jsonpath.curiousconcept.com/" target="_blank">online</a>. This assertion allows you to check the structure of response json.</p> <p>This method <strong>require <a href="https://github.com/FlowCommunications/JSONPath/" target="_blank"><code class="highlighter-rouge">flow/jsonpath</code> &gt; 0.2</a> library to be installed</strong>.</p> <pre data-language="json">  { "store": {
      "book": [
        { "category": "reference",
          "author": "Nigel Rees",
          "title": "Sayings of the Century",
          "price": 8.95
        },
        { "category": "fiction",
          "author": "Evelyn Waugh",
          "title": "Sword of Honour",
          "price": 12.99
        }
   ],
      "bicycle": {
        "color": "red",
        "price": 19.95
      }
    }
  }</pre> <pre data-language="php">&lt;?php
// at least one book in store has author
$I-&gt;seeResponseJsonMatchesJsonPath('$.store.book[*].author');
// first book in store has author
$I-&gt;seeResponseJsonMatchesJsonPath('$.store.book[0].author');
// at least one item in store has price
$I-&gt;seeResponseJsonMatchesJsonPath('$.store..price');
?&gt;</pre> <ul> <li>
<code class="highlighter-rouge">param string</code> $jsonPath</li> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">Available since</code> 2.0.9</li> </ul> <h3 id="seeresponsejsonmatchesxpath">seeResponseJsonMatchesXpath</h3> <p>Checks if json structure in response matches the xpath provided. JSON is not supposed to be checked against XPath, yet it can be converted to xml and used with XPath. This assertion allows you to check the structure of response json. *</p> <pre data-language="json">  { "store": {
      "book": [
        { "category": "reference",
          "author": "Nigel Rees",
          "title": "Sayings of the Century",
          "price": 8.95
        },
        { "category": "fiction",
          "author": "Evelyn Waugh",
          "title": "Sword of Honour",
          "price": 12.99
        }
   ],
      "bicycle": {
        "color": "red",
        "price": 19.95
      }
    }
  }</pre> <pre data-language="php">&lt;?php
// at least one book in store has author
$I-&gt;seeResponseJsonMatchesXpath('//store/book/author');
// first book in store has author
$I-&gt;seeResponseJsonMatchesXpath('//store/book[1]/author');
// at least one item in store has price
$I-&gt;seeResponseJsonMatchesXpath('/store//price');
?&gt;</pre> <ul> <li>
<code class="highlighter-rouge">param string</code> $xpath</li> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">Available since</code> 2.0.9</li> </ul> <h3 id="seeresponsematchesjsontype">seeResponseMatchesJsonType</h3> <p>Checks that Json matches provided types. In case you don’t know the actual values of JSON data returned you can match them by type. Starts check with a root element. If JSON data is array it will check the first element of an array. You can specify the path in the json which should be checked with JsonPath</p> <p>Basic example:</p> <pre data-language="php">&lt;?php
// {'user_id': 1, 'name': 'davert', 'is_active': false}
$I-&gt;seeResponseMatchesJsonType([
     'user_id' =&gt; 'integer',
     'name' =&gt; 'string|null',
     'is_active' =&gt; 'boolean'
]);

// narrow down matching with JsonPath:
// {"users": [{ "name": "davert"}, {"id": 1}]}
$I-&gt;seeResponseMatchesJsonType(['name' =&gt; 'string'], '$.users[0]');
?&gt;</pre> <p>In this case you can match that record contains fields with data types you expected. The list of possible data types:</p> <ul> <li>string</li> <li>integer</li> <li>float</li> <li>array (json object is array as well)</li> <li>boolean</li> </ul> <p>You can also use nested data type structures:</p> <pre data-language="php">&lt;?php
// {'user_id': 1, 'name': 'davert', 'company': {'name': 'Codegyre'}}
$I-&gt;seeResponseMatchesJsonType([
     'user_id' =&gt; 'integer|string', // multiple types
     'company' =&gt; ['name' =&gt; 'string']
]);
?&gt;</pre> <p>You can also apply filters to check values. Filter can be applied with <code class="highlighter-rouge">:</code> char after the type declaration.</p> <p>Here is the list of possible filters:</p> <ul> <li>
<code class="highlighter-rouge">integer:&gt;{val}</code> - checks that integer is greater than {val} (works with float and string types too).</li> <li>
<code class="highlighter-rouge">integer:&lt;{val}</code> - checks that integer is lower than {val} (works with float and string types too).</li> <li>
<code class="highlighter-rouge">string:url</code> - checks that value is valid url.</li> <li>
<code class="highlighter-rouge">string:date</code> - checks that value is date in JavaScript format: https://weblog.west-wind.com/posts/2014/Jan/06/JavaScript-JSON-Date-Parsing-and-real-Dates</li> <li>
<code class="highlighter-rouge">string:email</code> - checks that value is a valid email according to http://emailregex.com/</li> <li>
<code class="highlighter-rouge">string:regex({val})</code> - checks that string matches a regex provided with {val}</li> </ul> <p>This is how filters can be used:</p> <pre data-language="php">&lt;?php
// {'user_id': 1, 'email' =&gt; 'davert@codeception.com'}
$I-&gt;seeResponseMatchesJsonType([
     'user_id' =&gt; 'string:&gt;0:&lt;1000', // multiple filters can be used
     'email' =&gt; 'string:regex(~\@~)' // we just check that @ char is included
]);

// {'user_id': '1'}
$I-&gt;seeResponseMatchesJsonType([
     'user_id' =&gt; 'string:&gt;0', // works with strings as well
}
?&gt;</pre> <p>You can also add custom filters y accessing <code class="highlighter-rouge">JsonType::addCustomFilter</code> method. See <a href="../../reference/jsontype/">JsonType reference</a>.</p> <ul> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">param array</code> $jsonType</li> <li>
<code class="highlighter-rouge">param string</code> $jsonPath</li> <li>
<code class="highlighter-rouge">Available since</code> 2.1.3</li> </ul> <h3 id="seexmlresponseequals">seeXmlResponseEquals</h3> <p>Checks XML response equals provided XML. Comparison is done by canonicalizing both xml`s.</p> <p>Parameters can be passed either as DOMDocument, DOMNode, XML string, or array (if no attributes).</p> <ul> <li>
<code class="highlighter-rouge">param</code> $xml</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="seexmlresponseincludes">seeXmlResponseIncludes</h3> <p>Checks XML response includes provided XML. Comparison is done by canonicalizing both xml`s. Parameter can be passed either as XmlBuilder, DOMDocument, DOMNode, XML string, or array (if no attributes).</p> <p>Example:</p> <pre data-language="php">&lt;?php
$I-&gt;seeXmlResponseIncludes("&lt;result&gt;1&lt;/result&gt;");
?&gt;</pre> <ul> <li>
<code class="highlighter-rouge">param</code> $xml</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="seexmlresponsematchesxpath">seeXmlResponseMatchesXpath</h3> <p>Checks whether XML response matches XPath</p> <pre data-language="php">&lt;?php
$I-&gt;seeXmlResponseMatchesXpath('//root/user[@id=1]');</pre> <ul> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> <li>
<code class="highlighter-rouge">param</code> $xpath</li> </ul> <h3 id="senddelete">sendDELETE</h3> <p>Sends DELETE request to given uri.</p> <ul> <li>
<code class="highlighter-rouge">param</code> $url</li> <li>
<code class="highlighter-rouge">param array</code> $params</li> <li>
<code class="highlighter-rouge">param array</code> $files</li> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="sendget">sendGET</h3> <p>Sends a GET request to given uri.</p> <ul> <li>
<code class="highlighter-rouge">param</code> $url</li> <li>
<code class="highlighter-rouge">param array</code> $params</li> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="sendhead">sendHEAD</h3> <p>Sends a HEAD request to given uri.</p> <ul> <li>
<code class="highlighter-rouge">param</code> $url</li> <li>
<code class="highlighter-rouge">param array</code> $params</li> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="sendlink">sendLINK</h3> <p>Sends LINK request to given uri.</p> <ul> <li>
<code class="highlighter-rouge">param</code> $url</li> <li>
<code class="highlighter-rouge">param array</code> $linkEntries (entry is array with keys “uri” and “link-param”)</li> </ul> <p>@link http://tools.ietf.org/html/rfc2068#section-19.6.2.4</p> <p>@author samva.ua@gmail.com</p> <ul> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="sendoptions">sendOPTIONS</h3> <p>Sends an OPTIONS request to given uri.</p> <ul> <li>
<code class="highlighter-rouge">param</code> $url</li> <li>
<code class="highlighter-rouge">param array</code> $params</li> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="sendpatch">sendPATCH</h3> <p>Sends PATCH request to given uri.</p> <ul> <li>
<code class="highlighter-rouge">param</code> $url</li> <li>
<code class="highlighter-rouge">param array</code> $params</li> <li>
<code class="highlighter-rouge">param array</code> $files</li> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="sendpost">sendPOST</h3> <p>Sends a POST request to given uri. Parameters and files can be provided separately.</p> <p>Example:</p> <pre data-language="php">&lt;?php
//simple POST call
$I-&gt;sendPOST('/message', ['subject' =&gt; 'Read this!', 'to' =&gt; 'johndoe@example.com']);
//simple upload method
$I-&gt;sendPOST('/message/24', ['inline' =&gt; 0], ['attachmentFile' =&gt; codecept_data_dir('sample_file.pdf')]);
//uploading a file with a custom name and mime-type. This is also useful to simulate upload errors.
$I-&gt;sendPOST('/message/24', ['inline' =&gt; 0], [
    'attachmentFile' =&gt; [
         'name' =&gt; 'document.pdf',
         'type' =&gt; 'application/pdf',
         'error' =&gt; UPLOAD_ERR_OK,
         'size' =&gt; filesize(codecept_data_dir('sample_file.pdf')),
         'tmp_name' =&gt; codecept_data_dir('sample_file.pdf')
    ]
]);</pre> <ul> <li>
<code class="highlighter-rouge">param</code> $url</li> <li>
<code class="highlighter-rouge">param array|\JsonSerializable</code> $params</li> <li>
<code class="highlighter-rouge">param array</code> $files A list of filenames or “mocks” of $_FILES (each entry being an array with the following keys: name, type, error, size, tmp_name (pointing to the real file path). Each key works as the “name” attribute of a file input field.</li> </ul> <p>@see http://php.net/manual/en/features.file-upload.post-method.php @see codecept_data_dir()</p> <ul> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="sendput">sendPUT</h3> <p>Sends PUT request to given uri.</p> <ul> <li>
<code class="highlighter-rouge">param</code> $url</li> <li>
<code class="highlighter-rouge">param array</code> $params</li> <li>
<code class="highlighter-rouge">param array</code> $files</li> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="sendunlink">sendUNLINK</h3> <p>Sends UNLINK request to given uri.</p> <ul> <li>
<code class="highlighter-rouge">param</code> $url</li> <li>
<code class="highlighter-rouge">param array</code> $linkEntries (entry is array with keys “uri” and “link-param”) @link http://tools.ietf.org/html/rfc2068#section-19.6.2.4 @author samva.ua@gmail.com</li> <li>
<code class="highlighter-rouge">[Part]</code> json</li> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> </ul> <h3 id="startfollowingredirects">startFollowingRedirects</h3> <p>Enables automatic redirects to be followed by the client</p> <pre data-language="php">&lt;?php
$I-&gt;startFollowingRedirects();</pre> <ul> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> <li>
<code class="highlighter-rouge">[Part]</code> json</li> </ul> <h3 id="stopfollowingredirects">stopFollowingRedirects</h3> <p>Prevents automatic redirects to be followed by the client</p> <pre data-language="php">&lt;?php
$I-&gt;stopFollowingRedirects();</pre> <ul> <li>
<code class="highlighter-rouge">[Part]</code> xml</li> <li>
<code class="highlighter-rouge">[Part]</code> json</li> </ul> <div class="_attribution">
  <p class="_attribution-p">
    © 2011 Michael Bodnarchuk and contributors<br>Licensed under the MIT License.<br>
    <a href="https://codeception.com/docs/modules/REST" class="_attribution-link" target="_blank">https://codeception.com/docs/modules/REST</a>
  </p>
</div>

				
			</div>
			<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
</amp-auto-ads>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
