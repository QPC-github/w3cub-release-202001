
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>BEGIN END - MariaDB - W3cubDocs</title>
  
  <meta name="description" content="NOT ATOMIC is required when used outside of a stored procedure. Inside stored procedures or within an anonymous block, BEGIN alone starts a new &hellip;">
  <meta name="keywords" content="begin, end, -, mariadb">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/mariadb/begin-end/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" integrity="sha256-6/DH7X+2hvUPElJfGsvzm+tgIpmM9zjbYxnpsr6gR1A=" crossorigin="anonymous" href="/assets/application-ebf0c7ed7fb686f50f12525f1acbf39beb6022998cf738db6319e9b2bea04750.css">
  <script type="text/javascript" src="/assets/application-db285287b40ed28fac520fcfd75d7d874692b647b5b5e05968c741dda5de4148.js" integrity="sha256-2yhSh7QO0o+sUg/P1119h0aStke1teBZaMdB3aXeQUg=" crossorigin="anonymous"></script>
  <script src="/json/mariadb.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-2572770204602497",
            enable_page_level_ads: true
        });
  </script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/mariadb/" class="_nav-link" title="" style="margin-left:0;">MariaDB</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _mariadb">
				
				
<h1>BEGIN END</h1> <div> <div class="node creole"> <div class="answer formatted"> <h2 class="anchored_heading" id="syntax">Syntax</h2> <pre class="fixed" data-language="sql">[begin_label:] BEGIN [NOT ATOMIC]
    [statement_list]
END [end_label]
</pre> <p><code>NOT ATOMIC</code> is required when used outside of a <a href="../stored-procedures/">stored procedure</a>. Inside stored procedures or within an anonymous block, <code>BEGIN</code> alone starts a new anonymous block.</p> <h2 class="anchored_heading" id="description">Description</h2> <p><code>BEGIN ... END</code> syntax is used for writing compound statements. A compound statement can contain multiple statements, enclosed by the <code>BEGIN</code> and <code>END</code> keywords. statement_list represents a list of one or more statements, each terminated by a semicolon (i.e., <code>;</code>) statement delimiter. statement_list is optional, which means that the empty compound statement (<code>BEGIN END</code>) is legal.</p> <p>Note that <code>END</code> will perform a commit. If you are running in <a href="../server-system-variables/#autocommit">autocommit</a> mode, every statement will be committed separately. If you are not running in <code>autocommit</code> mode, you must execute a <a href="../commit/">COMMIT</a> or <a href="../rollback/">ROLLBACK</a> after <code>END</code> to get the database up to date.</p> <p>Use of multiple statements requires that a client is able to send statement strings containing the ; statement delimiter. This is handled in the <a href="mysql-command-line_client/">mysql</a> command-line client with the <a href="../delimiters/">DELIMITER</a> command. Changing the <code>;</code> end-of-statement delimiter (for example, to <code class="highlight fixed" style="white-space:pre-wrap">//</code>) allows <code>;</code> to be used in a program body.</p> <p>A compound statement within a <a href="../stored-programs-and-views/">stored program</a> can be <a href="../labels/">labeled</a>. <code>end_label</code> cannot be given unless <code>begin_label</code> also is present. If both are present, they must be the same.</p> <p><code>BEGIN ... END</code> constructs can be nested. Each block can define its own variables, a <code>CONDITION</code>, a <code>HANDLER</code> and a <a href="../programmatic-and-compound-statements-cursors/">CURSOR</a>, which don't exist in the outer blocks. The most local declarations override the outer objects which use the same name (see example below).</p> <p>The declarations order is the following:</p> <ul start="1">
<li>
<a href="../declare-variable/"><code>DECLARE</code> local variables</a>; </li>
<li>
<a href="../declare-condition/"><code>DECLARE CONDITION</code>s</a>; </li>
<li>
<a href="../declare-cursor/"><code>DECLARE CURSOR</code>s</a>; </li>
<li>
<a href="../declare-handler/"><code>DECLARE HANDLER</code>s</a>; </li>
</ul> <p>Note that <code>DECLARE HANDLER</code> contains another <code>BEGIN ... END</code> construct.</p> <p>Here is an example of a very simple, anonymous block:</p> <pre class="fixed" data-language="sql">BEGIN NOT ATOMIC
SET @a=1;
CREATE TABLE test.t1(a INT);
END|
</pre>
<p>Below is an example of nested blocks in a stored procedure:</p> <pre class="fixed" data-language="sql">CREATE PROCEDURE t( )
BEGIN
   DECLARE x TINYINT UNSIGNED DEFAULT 1;
   BEGIN
      DECLARE x CHAR(2) DEFAULT '02';
       DECLARE y TINYINT UNSIGNED DEFAULT 10;
       SELECT x, y;
   END;
   SELECT x;
END;
</pre>
<p>In this example, a <a href="../tinyint/">TINYINT</a> variable, <code>x</code> is declared in the outter block. But in the inner block <code>x</code> is re-declared as a <a href="../char/">CHAR</a> and an <code>y</code> variable is declared. The inner <a href="../select/">SELECT</a> shows the "new" value of <code>x</code>, and the value of <code>y</code>. But when x is selected in the outer block, the "old" value is returned. The final <a href="../select/">SELECT</a> doesn't try to read <code>y</code>, because it doesn't exist in that context.</p> <h2 class="anchored_heading" id="see-also">See Also</h2> <ul start="1">
<li>
<a href="../using-compound-statements-outside-of-stored-programs/">Using compound statements outside of stored programs</a> </li>
<li><a href="../sql_modeoracle-from-mariadb-103/#simple-syntax-compatibility">Changes in Oracle mode from MariaDB 10.3</a></li>
</ul> </div>     </div> <div id="content_disclaimer" class="graybox"> Content reproduced on this site is the property of its respective owners, and this content is not reviewed in advance by MariaDB. The views, information and opinions expressed by this content do not necessarily represent those of MariaDB or any other party. </div> </div>
<div class="_attribution">
  <p class="_attribution-p">
    Â© 2019 MariaDB<br>Licensed under the Creative Commons Attribution 3.0 Unported License and the GNU Free Documentation License.<br>
    <a href="https://mariadb.com/kb/en/begin-end/" class="_attribution-link" target="_blank">https://mariadb.com/kb/en/begin-end/</a>
  </p>
</div>

				
			</div>
			<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
</amp-auto-ads>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
