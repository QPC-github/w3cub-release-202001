
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Security - Angular - W3cubDocs</title>
  
  <meta name="description" content="This page describes Angular&#39;s built-in protections against common web-application vulnerabilities and attacks such as cross-site scripting &hellip;">
  <meta name="keywords" content="security, -, angular">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/angular/guide/security/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" integrity="sha256-6/DH7X+2hvUPElJfGsvzm+tgIpmM9zjbYxnpsr6gR1A=" crossorigin="anonymous" href="/assets/application-ebf0c7ed7fb686f50f12525f1acbf39beb6022998cf738db6319e9b2bea04750.css">
  <script type="text/javascript" src="/assets/application-db285287b40ed28fac520fcfd75d7d874692b647b5b5e05968c741dda5de4148.js" integrity="sha256-2yhSh7QO0o+sUg/P1119h0aStke1teBZaMdB3aXeQUg=" crossorigin="anonymous"></script>
  <script src="/json/angular.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-2572770204602497",
            enable_page_level_ads: true
        });
  </script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/angular/" class="_nav-link" title="" style="margin-left:0;">Angular</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _angular">
				
				
<h1 id="security">Security</h1> <p>This page describes Angular's built-in protections against common web-application vulnerabilities and attacks such as cross-site scripting attacks. It doesn't cover application-level security, such as authentication (<em>Who is this user?</em>) and authorization (<em>What can this user do?</em>).</p> <p>For more information about the attacks and mitigations described below, see <a href="https://www.owasp.org/index.php/Category:OWASP_Guide_Project" target="_blank">OWASP Guide Project</a>.</p> <p>You can run the live example in Stackblitz and download the code from there.</p> <h2 id="report-issues"> Reporting vulnerabilities </h2> <p>To report vulnerabilities in Angular itself, email us at <a href="../mailto:security@angular.io/">security@angular.io</a>.</p> <p>For more information about how Google handles security issues, see <a href="https://www.google.com/about/appsecurity/" target="_blank">Google's security philosophy</a>.</p> <h2 id="best-practices"> Best practices </h2> <ul> <li> <p><strong>Keep current with the latest Angular library releases.</strong> We regularly update the Angular libraries, and these updates may fix security defects discovered in previous versions. Check the Angular <a href="https://github.com/angular/angular/blob/master/CHANGELOG.md" target="_blank">change log</a> for security-related updates.</p> </li> <li> <p><strong>Don't modify your copy of Angular.</strong> Private, customized versions of Angular tend to fall behind the current version and may not include important security fixes and enhancements. Instead, share your Angular improvements with the community and make a pull request.</p> </li> <li> <p><strong>Avoid Angular APIs marked in the documentation as “<em>Security Risk</em>.”</strong> For more information, see the <a href="../security/#bypass-security-apis">Trusting safe values</a> section of this page.</p> </li> </ul> <h2 id="xss"> Preventing cross-site scripting (XSS) </h2> <p><a href="https://en.wikipedia.org/wiki/Cross-site_scripting" target="_blank">Cross-site scripting (XSS)</a> enables attackers to inject malicious code into web pages. Such code can then, for example, steal user data (in particular, login data) or perform actions to impersonate the user. This is one of the most common attacks on the web.</p> <p>To block XSS attacks, you must prevent malicious code from entering the DOM (Document Object Model). For example, if attackers can trick you into inserting a <code>&lt;script&gt;</code> tag in the DOM, they can run arbitrary code on your website. The attack isn't limited to <code>&lt;script&gt;</code> tags—many elements and properties in the DOM allow code execution, for example, <code>&lt;img onerror="..."&gt;</code> and <code>&lt;<a href="../../api/router/routerlinkwithhref/" class="code-anchor">a</a> href="javascript:..."&gt;</code>. If attacker-controlled data enters the DOM, expect security vulnerabilities.</p> <h3 id="angulars-cross-site-scripting-security-model">Angular’s cross-site scripting security model</h3> <p>To systematically block XSS bugs, Angular treats all values as untrusted by default. When a value is inserted into the DOM from a template, via property, attribute, style, class binding, or interpolation, Angular sanitizes and escapes untrusted values.</p> <p><em>Angular templates are the same as executable code</em>: HTML, attributes, and binding expressions (but not the values bound) in templates are trusted to be safe. This means that applications must prevent values that an attacker can control from ever making it into the source code of a template. Never generate template source code by concatenating user input and templates. To prevent these vulnerabilities, use the <a href="../security/#offline-template-compiler">offline template compiler</a>, also known as <em>template injection</em>.</p> <h3 id="sanitization-and-security-contexts">Sanitization and security contexts</h3> <p><em>Sanitization</em> is the inspection of an untrusted value, turning it into a value that's safe to insert into the DOM. In many cases, sanitization doesn't change a value at all. Sanitization depends on context: a value that's harmless in CSS is potentially dangerous in a URL.</p> <p>Angular defines the following security contexts:</p> <ul> <li>
<strong>HTML</strong> is used when interpreting a value as HTML, for example, when binding to <code>innerHtml</code>.</li> <li>
<strong>Style</strong> is used when binding CSS into the <code><a href="../../api/animations/style/" class="code-anchor">style</a></code> property.</li> <li>
<strong>URL</strong> is used for URL properties, such as <code>&lt;<a href="../../api/router/routerlinkwithhref/" class="code-anchor">a</a> href&gt;</code>.</li> <li>
<strong>Resource URL</strong> is a URL that will be loaded and executed as code, for example, in <code>&lt;script src&gt;</code>.</li> </ul> <p>Angular sanitizes untrusted values for HTML, styles, and URLs; sanitizing resource URLs isn't possible because they contain arbitrary code. In development mode, Angular prints a console warning when it has to change a value during sanitization.</p> <h3 id="sanitization-example">Sanitization example</h3> <p>The following template binds the value of <code>htmlSnippet</code>, once by interpolating it into an element's content, and once by binding it to the <code>innerHTML</code> property of an element:</p> <pre header="src/app/inner-html-binding.component.html" data-language="html">&lt;h3&gt;Binding innerHTML&lt;/h3&gt;
&lt;p&gt;Bound value:&lt;/p&gt;
&lt;p class="e2e-inner-html-interpolated"&gt;{{htmlSnippet}}&lt;/p&gt;
&lt;p&gt;Result of binding to innerHTML:&lt;/p&gt;
&lt;p class="e2e-inner-html-bound" [innerHTML]="htmlSnippet"&gt;&lt;/p&gt;</pre> <p>Interpolated content is always escaped—the HTML isn't interpreted and the browser displays angle brackets in the element's text content.</p> <p>For the HTML to be interpreted, bind it to an HTML property such as <code>innerHTML</code>. But binding a value that an attacker might control into <code>innerHTML</code> normally causes an XSS vulnerability. For example, code contained in a <code>&lt;script&gt;</code> tag is executed:</p> <pre header="src/app/inner-html-binding.component.ts (class)" data-language="typescript">export class InnerHtmlBindingComponent {
  // For example, a user/attacker-controlled value from a URL.
  htmlSnippet = 'Template &lt;script&gt;alert("0wned")&lt;/script&gt; &lt;b&gt;Syntax&lt;/b&gt;';
}</pre> <p>Angular recognizes the value as unsafe and automatically sanitizes it, which removes the <code>&lt;script&gt;</code> tag but keeps safe content such as the <code>&lt;b&gt;</code> element.</p> <figure class="lightbox"> <div class="card"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAByCAMAAABKmnfDAAACBGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+MjEwPC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjczNjwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgqnxNfIAAAACXBIWXMAABYlAAAWJQFJUiTwAAADAFBMVEX////9/v/9//95fID+/v/+/v3//v7+/v7+//////7///12dnh+e3l/f3+KiYl5d3eMjY36//9+fH3u7u6IiInx9vqGhod5eX2Af32Dg4K6xNd9fX99f4KKh4T/+O/89/Fzc3N1dXX///mLi4t6eXmBgYF8eXd8gYd7fYR8fHyAfXq2trbl5eTXyLqDhYf1+v16e3yFgX7x+P5/hInq6uqnlono4syOj47FsqWUjYS+vbz9/f18hI91eH2FhYTw6uKEiIvs9v6IhIHk8vj2/v+AgoTy/f/7/f+HioyDfXuEf3339fOGi5GMioj//Pf//vmhoqSMmavn8v2QiH+rqqmcjIGYpa7///zn5+eIlqPY4O3N1d+yopGPg3/19vj59OH17eXz49OluMqQobGIfnigl43w8PHj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" alt="A screenshot showing interpolated and bound HTML values" width="400" height="114"> </div> </figure> <h3 id="direct-use-of-the-dom-apis-and-explicit-sanitization-calls">Direct use of the DOM APIs and explicit sanitization calls</h3> <p>The built-in browser DOM APIs don't automatically protect you from security vulnerabilities. For example, <code><a href="../../api/platform-server/platformconfig/#document" class="code-anchor">document</a></code>, the node available through <code><a href="../../api/core/elementref/" class="code-anchor">ElementRef</a></code>, and many third-party APIs contain unsafe methods. In the same way, if you interact with other libraries that manipulate the DOM, you likely won't have the same automatic sanitization as with Angular interpolations. Avoid directly interacting with the DOM and instead use Angular templates where possible.</p> <p>For cases where this is unavoidable, use the built-in Angular sanitization functions. Sanitize untrusted values with the <a href="../../api/platform-browser/domsanitizer/#sanitize">DomSanitizer.sanitize</a> method and the appropriate <code><a href="../../api/core/securitycontext/" class="code-anchor">SecurityContext</a></code>. That function also accepts values that were marked as trusted using the <code>bypassSecurityTrust</code>... functions, and will not sanitize them, as <a href="../security/#bypass-security-apis">described below</a>.</p> <h3 id="content-security-policy">Content security policy</h3> <p>Content Security Policy (CSP) is a defense-in-depth technique to prevent XSS. To enable CSP, configure your web server to return an appropriate <code>Content-Security-Policy</code> HTTP header. Read more about content security policy at <a href="http://www.html5rocks.com/en/tutorials/security/content-security-policy/" target="_blank">An Introduction to Content Security Policy</a> on the HTML5Rocks website.</p>  <h3 id="use-the-offline-template-compiler">Use the offline template compiler</h3> <p>The offline template compiler prevents a whole class of vulnerabilities called template injection, and greatly improves application performance. Use the offline template compiler in production deployments; don't dynamically generate templates. Angular trusts template code, so generating templates, in particular templates containing user data, circumvents Angular's built-in protections. For information about dynamically constructing forms in a safe way, see the <a href="../dynamic-form/">Dynamic Forms</a> guide page.</p> <h3 id="server-side-xss-protection">Server-side XSS protection</h3> <p>HTML constructed on the server is vulnerable to injection attacks. Injecting template code into an Angular application is the same as injecting executable code into the application: it gives the attacker full control over the application. To prevent this, use a templating language that automatically escapes values to prevent XSS vulnerabilities on the server. Don't generate Angular templates on the server side using a templating language; doing this carries a high risk of introducing template-injection vulnerabilities.</p> <h2 id="bypass-security-apis"> Trusting safe values </h2> <p>Sometimes applications genuinely need to include executable code, display an <code>&lt;iframe&gt;</code> from some URL, or construct potentially dangerous URLs. To prevent automatic sanitization in any of these situations, you can tell Angular that you inspected a value, checked how it was generated, and made sure it will always be secure. But <em>be careful</em>. If you trust a value that might be malicious, you are introducing a security vulnerability into your application. If in doubt, find a professional security reviewer.</p> <p>To mark a value as trusted, inject <code><a href="../../api/platform-browser/domsanitizer/" class="code-anchor">DomSanitizer</a></code> and call one of the following methods:</p> <ul> <li><code>bypassSecurityTrustHtml</code></li> <li><code>bypassSecurityTrustScript</code></li> <li><code>bypassSecurityTrustStyle</code></li> <li><code>bypassSecurityTrustUrl</code></li> <li><code>bypassSecurityTrustResourceUrl</code></li> </ul> <p>Remember, whether a value is safe depends on context, so choose the right context for your intended use of the value. Imagine that the following template needs to bind a URL to a <code>javascript:alert(...)</code> call:</p> <pre header="src/app/bypass-security.component.html (URL)" data-language="html">&lt;h4&gt;An untrusted URL:&lt;/h4&gt;
&lt;p&gt;&lt;a class="e2e-dangerous-url" [href]="dangerousUrl"&gt;Click me&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;A trusted URL:&lt;/h4&gt;
&lt;p&gt;&lt;a class="e2e-trusted-url" [href]="trustedUrl"&gt;Click me&lt;/a&gt;&lt;/p&gt;</pre> <p>Normally, Angular automatically sanitizes the URL, disables the dangerous code, and in development mode, logs this action to the console. To prevent this, mark the URL value as a trusted URL using the <code>bypassSecurityTrustUrl</code> call:</p> <pre header="src/app/bypass-security.component.ts (trust-url)" data-language="typescript">constructor(private sanitizer: DomSanitizer) {
  // javascript: URLs are dangerous if attacker controlled.
  // Angular sanitizes them in data binding, but you can
  // explicitly tell Angular to trust this value:
  this.dangerousUrl = 'javascript:alert("Hi there")';
  this.trustedUrl = sanitizer.bypassSecurityTrustUrl(this.dangerousUrl);</pre> <figure class="lightbox"> <div class="card"> <img src="data:image/png;base64,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" alt="A screenshot showing an alert box created from a trusted URL" width="454" height="175"> </div> </figure> <p>If you need to convert user input into a trusted value, use a controller method. The following template allows users to enter a YouTube video ID and load the corresponding video in an <code>&lt;iframe&gt;</code>. The <code>&lt;iframe src&gt;</code> attribute is a resource URL security context, because an untrusted source can, for example, smuggle in file downloads that unsuspecting users could execute. So call a method on the controller to construct a trusted video URL, which causes Angular to allow binding into <code>&lt;iframe src&gt;</code>:</p> <pre header="src/app/bypass-security.component.html (iframe)" data-language="html">&lt;h4&gt;Resource URL:&lt;/h4&gt;
&lt;p&gt;Showing: {{dangerousVideoUrl}}&lt;/p&gt;
&lt;p&gt;Trusted:&lt;/p&gt;
&lt;iframe class="e2e-iframe-trusted-src" width="640" height="390" [src]="videoUrl"&gt;&lt;/iframe&gt;
&lt;p&gt;Untrusted:&lt;/p&gt;
&lt;iframe class="e2e-iframe-untrusted-src" width="640" height="390" [src]="dangerousVideoUrl"&gt;&lt;/iframe&gt;</pre> <pre header="src/app/bypass-security.component.ts (trust-video-url)" data-language="typescript">updateVideoUrl(id: string) {
  // Appending an ID to a YouTube URL is safe.
  // Always make sure to construct SafeValue objects as
  // close as possible to the input data so
  // that it's easier to check if the value is safe.
  this.dangerousVideoUrl = 'https://www.youtube.com/embed/' + id;
  this.videoUrl =
      this.sanitizer.bypassSecurityTrustResourceUrl(this.dangerousVideoUrl);
}</pre> <h2 id="http"> HTTP-level vulnerabilities </h2> <p>Angular has built-in support to help prevent two common HTTP vulnerabilities, cross-site request forgery (CSRF or XSRF) and cross-site script inclusion (XSSI). Both of these must be mitigated primarily on the server side, but Angular provides helpers to make integration on the client side easier.</p> <h3 id="xsrf"> Cross-site request forgery </h3> <p>In a cross-site request forgery (CSRF or XSRF), an attacker tricks the user into visiting a different web page (such as <code>evil.com</code>) with malignant code that secretly sends a malicious request to the application's web server (such as <code>example-bank.com</code>).</p> <p>Assume the user is logged into the application at <code>example-bank.com</code>. The user opens an email and clicks a link to <code>evil.com</code>, which opens in a new tab.</p> <p>The <code>evil.com</code> page immediately sends a malicious request to <code>example-bank.com</code>. Perhaps it's a request to transfer money from the user's account to the attacker's account. The browser automatically sends the <code>example-bank.com</code> cookies (including the authentication cookie) with this request.</p> <p>If the <code>example-bank.com</code> server lacks XSRF protection, it can't tell the difference between a legitimate request from the application and the forged request from <code>evil.com</code>.</p> <p>To prevent this, the application must ensure that a user request originates from the real application, not from a different site. The server and client must cooperate to thwart this attack.</p> <p>In a common anti-XSRF technique, the application server sends a randomly generated authentication token in a cookie. The client code reads the cookie and adds a custom request header with the token in all subsequent requests. The server compares the received cookie value to the request header value and rejects the request if the values are missing or don't match.</p> <p>This technique is effective because all browsers implement the <em>same origin policy</em>. Only code from the website on which cookies are set can read the cookies from that site and set custom headers on requests to that site. That means only your application can read this cookie token and set the custom header. The malicious code on <code>evil.com</code> can't.</p> <p>Angular's <code><a href="../../api/common/http/httpclient/" class="code-anchor">HttpClient</a></code> has built-in support for the client-side half of this technique. Read about it more in the <a href="http" target="_blank">HttpClient guide</a>.</p> <p>For information about CSRF at the Open Web Application Security Project (OWASP), see <a href="https://www.owasp.org/index.php/Cross-Site_Request_Forgery_%28CSRF%29" target="_blank">Cross-Site Request Forgery (CSRF)</a> and <a href="https://www.owasp.org/index.php/CSRF_Prevention_Cheat_Sheet" target="_blank">Cross-Site Request Forgery (CSRF) Prevention Cheat Sheet</a>. The Stanford University paper <a href="https://seclab.stanford.edu/websec/csrf/csrf.pdf" target="_blank">Robust Defenses for Cross-Site Request Forgery</a> is a rich source of detail.</p> <p>See also Dave Smith's easy-to-understand <a href="https://www.youtube.com/watch?v=9inczw6qtpY" title="Cross Site Request Funkery Securing Your Angular Apps From Evil Doers" target="_blank">talk on XSRF at AngularConnect 2016</a>.</p> <h3 id="xssi"> Cross-site script inclusion (XSSI) </h3> <p>Cross-site script inclusion, also known as JSON vulnerability, can allow an attacker's website to read data from a JSON API. The attack works on older browsers by overriding native JavaScript object constructors, and then including an API URL using a <code>&lt;script&gt;</code> tag.</p> <p>This attack is only successful if the returned JSON is executable as JavaScript. Servers can prevent an attack by prefixing all JSON responses to make them non-executable, by convention, using the well-known string <code>")]}',\n"</code>.</p> <p>Angular's <code><a href="../../api/common/http/httpclient/" class="code-anchor">HttpClient</a></code> library recognizes this convention and automatically strips the string <code>")]}',\n"</code> from all responses before further parsing.</p> <p>For more information, see the XSSI section of this <a href="https://security.googleblog.com/2011/05/website-security-for-webmasters.html" target="_blank">Google web security blog post</a>.</p> <h2 id="code-review"> Auditing Angular applications </h2> <p>Angular applications must follow the same security principles as regular web applications, and must be audited as such. Angular-specific APIs that should be audited in a security review, such as the <a href="../security/#bypass-security-apis"><em>bypassSecurityTrust</em></a> methods, are marked in the documentation as security sensitive.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2010–2019 Google, Inc.<br>Licensed under the Creative Commons Attribution License 4.0.<br>
    <a href="https://angular.io/guide/security" class="_attribution-link" target="_blank">https://angular.io/guide/security</a>
  </p>
</div>

				
			</div>
			<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
</amp-auto-ads>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
