
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Testing - Falcon 1.4 - W3cubDocs</title>
  
  <meta name="description" content=" Functional testing framework for Falcon apps and Falcon itself. ">
  <meta name="keywords" content="testing, -, falcon, falcon~1.4">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/falcon~1.4/api/testing/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" integrity="sha256-6/DH7X+2hvUPElJfGsvzm+tgIpmM9zjbYxnpsr6gR1A=" crossorigin="anonymous" href="/assets/application-ebf0c7ed7fb686f50f12525f1acbf39beb6022998cf738db6319e9b2bea04750.css">
  <script type="text/javascript" src="/assets/application-db285287b40ed28fac520fcfd75d7d874692b647b5b5e05968c741dda5de4148.js" integrity="sha256-2yhSh7QO0o+sUg/P1119h0aStke1teBZaMdB3aXeQUg=" crossorigin="anonymous"></script>
  <script src="/json/falcon~1.4.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-2572770204602497",
            enable_page_level_ads: true
        });
  </script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/falcon~1.4/" class="_nav-link" title="" style="margin-left:0;">Falcon 1.4</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _sphinx">
				
				
<h1 id="id1">Testing</h1>  <h2 id="reference">Reference</h2> <p id="testing">Functional testing framework for Falcon apps and Falcon itself.</p> <p>Falcon’s testing module contains various test classes and utility functions to support functional testing for both Falcon-based apps and the Falcon framework itself.</p> <p>The testing framework supports both unittest and pytest:</p> <pre data-language="python"># -----------------------------------------------------------------
# unittest
# -----------------------------------------------------------------

from falcon import testing
import myapp


class MyTestCase(testing.TestCase):
    def setUp(self):
        super(MyTestCase, self).setUp()

        # Assume the hypothetical `myapp` package has a
        # function called `create()` to initialize and
        # return a `falcon.API` instance.
        self.app = myapp.create()


class TestMyApp(MyTestCase):
    def test_get_message(self):
        doc = {u'message': u'Hello world!'}

        result = self.simulate_get('/messages/42')
        self.assertEqual(result.json, doc)


# -----------------------------------------------------------------
# pytest
# -----------------------------------------------------------------

from falcon import testing
import pytest

import myapp


# Depending on your testing strategy and how your application
# manages state, you may be able to broaden the fixture scope
# beyond the default 'function' scope used in this example.

@pytest.fixture()
def client():
    # Assume the hypothetical `myapp` package has a function called
    # `create()` to initialize and return a `falcon.API` instance.
    return testing.TestClient(myapp.create())


def test_get_message(client):
    doc = {u'message': u'Hello world!'}

    result = client.simulate_get('/messages/42')
    assert result.json == doc
</pre> <dl class="class"> <dt id="falcon.testing.Result">
<code>class falcon.testing.Result(iterable, status, headers)</code> <a class="reference internal" href="https://falcon.readthedocs.io/en/1.4.1/_modules/falcon/testing/client.html#Result" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Encapsulates the result of a simulated WSGI request.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first last simple"> <li>
<strong>iterable</strong> (<em>iterable</em>) – An iterable that yields zero or more bytestrings, per PEP-3333</li> <li>
<strong>status</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)" target="_blank">str</a>) – An HTTP status string, including status code and reason string</li> <li>
<strong>headers</strong> (<em>list</em>) – A list of (header_name, header_value) tuples, per PEP-3333</li> </ul> </td> </tr>  </table> <dl class="attribute"> <dt id="falcon.testing.Result.status">
<code>status</code> </dt> <dd>
<p><em>str</em> – HTTP status string given in the response</p> </dd>
</dl> <dl class="attribute"> <dt id="falcon.testing.Result.status_code">
<code>status_code</code> </dt> <dd>
<p><em>int</em> – The code portion of the HTTP status string</p> </dd>
</dl> <dl class="attribute"> <dt id="falcon.testing.Result.headers">
<code>headers</code> </dt> <dd>
<p><em>CaseInsensitiveDict</em> – A case-insensitive dictionary containing all the headers in the response, except for cookies, which may be accessed via the <code>cookies</code> attribute.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">Multiple instances of a header in the response are currently not supported; it is unspecified which value will “win” and be represented in <code>headers</code>.</p> </div> </dd>
</dl> <dl class="attribute"> <dt id="falcon.testing.Result.cookies">
<code>cookies</code> </dt> <dd>
<p><em>dict</em> – A dictionary of <a class="reference internal" href="#falcon.testing.Cookie" title="falcon.testing.Cookie"><code>falcon.testing.Cookie</code></a> values parsed from the response, by name.</p> </dd>
</dl> <dl class="attribute"> <dt id="falcon.testing.Result.encoding">
<code>encoding</code> </dt> <dd>
<p><em>str</em> – Text encoding of the response body, or <code>None</code> if the encoding can not be determined.</p> </dd>
</dl> <dl class="attribute"> <dt id="falcon.testing.Result.content">
<code>content</code> </dt> <dd>
<p><em>bytes</em> – Raw response body, or <code>bytes</code> if the response body was empty.</p> </dd>
</dl> <dl class="attribute"> <dt id="falcon.testing.Result.text">
<code>text</code> </dt> <dd>
<p><em>str</em> – Decoded response body of type <code>unicode</code> under Python 2.6 and 2.7, and of type <code>str</code> otherwise. If the content type does not specify an encoding, UTF-8 is assumed.</p> </dd>
</dl> <dl class="attribute"> <dt id="falcon.testing.Result.json">
<code>json</code> </dt> <dd>
<p><em>dict</em> – Deserialized JSON body. Raises an error if the body is empty or not JSON.</p> </dd>
</dl> </dd>
</dl> <dl class="class"> <dt id="falcon.testing.Cookie">
<code>class falcon.testing.Cookie(morsel)</code> <a class="reference internal" href="https://falcon.readthedocs.io/en/1.4.1/_modules/falcon/testing/client.html#Cookie" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Represents a cookie returned by a simulated request.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<strong>morsel</strong> – A <code>Morsel</code> object from which to derive the cookie data.</td> </tr>  </table> <dl class="attribute"> <dt id="falcon.testing.Cookie.name">
<code>name</code> </dt> <dd>
<p><em>str</em> – The cookie’s name.</p> </dd>
</dl> <dl class="attribute"> <dt id="falcon.testing.Cookie.value">
<code>value</code> </dt> <dd>
<p><em>str</em> – The value of the cookie.</p> </dd>
</dl> <dl class="attribute"> <dt id="falcon.testing.Cookie.expires">
<code>expires</code> </dt> <dd>
<p><em>datetime.datetime</em> – Expiration timestamp for the cookie, or <code>None</code> if not specified.</p> </dd>
</dl> <dl class="attribute"> <dt id="falcon.testing.Cookie.path">
<code>path</code> </dt> <dd>
<p><em>str</em> – The path prefix to which this cookie is restricted, or <code>None</code> if not specified.</p> </dd>
</dl> <dl class="attribute"> <dt id="falcon.testing.Cookie.domain">
<code>domain</code> </dt> <dd>
<p><em>str</em> – The domain to which this cookie is restricted, or <code>None</code> if not specified.</p> </dd>
</dl> <dl class="attribute"> <dt id="falcon.testing.Cookie.max_age">
<code>max_age</code> </dt> <dd>
<p><em>int</em> – The lifetime of the cookie in seconds, or <code>None</code> if not specified.</p> </dd>
</dl> <dl class="attribute"> <dt id="falcon.testing.Cookie.secure">
<code>secure</code> </dt> <dd>
<p><em>bool</em> – Whether or not the cookie may only only be transmitted from the client via HTTPS.</p> </dd>
</dl> <dl class="attribute"> <dt id="falcon.testing.Cookie.http_only">
<code>http_only</code> </dt> <dd>
<p><em>bool</em> – Whether or not the cookie may only be included in unscripted requests from the client.</p> </dd>
</dl> </dd>
</dl> <dl class="function"> <dt id="falcon.testing.simulate_request">
<code>falcon.testing.simulate_request(app, method='GET', path='/', query_string=None, headers=None, body=None, json=None, file_wrapper=None, wsgierrors=None, params=None, params_csv=True, protocol='http')</code> <a class="reference internal" href="https://falcon.readthedocs.io/en/1.4.1/_modules/falcon/testing/client.html#simulate_request" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Simulates a request to a WSGI application.</p> <p>Performs a request against a WSGI application. Uses <a class="reference external" href="https://docs.python.org/2/library/wsgiref.html#module-wsgiref.validate" title="(in Python v2.7)" target="_blank"><code>wsgiref.validate</code></a> to ensure the response is valid WSGI.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr><th class="field-name" colspan="2">Keyword Arguments:</th></tr> <tr>
<td> </td>
<td class="field-body">
<ul class="first simple"> <li>
<strong>app</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#callable" title="(in Python v2.7)" target="_blank">callable</a>) – The WSGI application to call</li> <li>
<strong>method</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)" target="_blank">str</a>) – An HTTP method to use in the request (default: ‘GET’)</li> <li>
<strong>path</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)" target="_blank">str</a>) – The URL path to request (default: ‘/’)</li> <li>
<strong>protocol</strong> – The protocol to use for the URL scheme (default: ‘http’)</li> <li>
<strong>params</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)" target="_blank">dict</a>) – A dictionary of query string parameters, where each key is a parameter name, and each value is either a <code>str</code> or something that can be converted into a <code>str</code>, or a list of such values. If a <code>list</code>, the value will be converted to a comma-delimited string of values (e.g., ‘thing=1,2,3’).</li> <li>
<strong>params_csv</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)" target="_blank">bool</a>) – Set to <code>False</code> to encode list values in query string params by specifying multiple instances of the parameter (e.g., ‘thing=1&amp;thing=2&amp;thing=3’). Otherwise, parameters will be encoded as comma-separated values (e.g., ‘thing=1,2,3’). Defaults to <code>True</code>.</li> <li>
<strong>query_string</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)" target="_blank">str</a>) – A raw query string to include in the request (default: <code>None</code>). If specified, overrides <code>params</code>.</li> <li>
<strong>headers</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)" target="_blank">dict</a>) – Additional headers to include in the request (default: <code>None</code>)</li> <li>
<strong>body</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)" target="_blank">str</a>) – A string to send as the body of the request. Accepts both byte strings and Unicode strings (default: <code>None</code>). If a Unicode string is provided, it will be encoded as UTF-8 in the request.</li> <li>
<strong>json</strong> (<em>JSON serializable</em>) – A JSON document to serialize as the body of the request (default: <code>None</code>). If specified, overrides <code>body</code> and the Content-Type header in <code>headers</code>.</li> <li>
<strong>file_wrapper</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#callable" title="(in Python v2.7)" target="_blank">callable</a>) – Callable that returns an iterable, to be used as the value for <em>wsgi.file_wrapper</em> in the environ (default: <code>None</code>). This can be used to test high-performance file transmission when <code>resp.stream</code> is set to a file-like object.</li> <li>
<strong>wsgierrors</strong> (<a class="reference external" href="https://docs.python.org/2/library/io.html#module-io" title="(in Python v2.7)" target="_blank">io</a>) – The stream to use as <em>wsgierrors</em> (default <code>sys.stderr</code>)</li> </ul> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">The result of the request</p> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last"><a class="reference internal" href="#falcon.testing.Result" title="falcon.testing.Result"><code>Result</code></a></p> </td> </tr>  </table> </dd>
</dl> <dl class="function"> <dt id="falcon.testing.simulate_get">
<code>falcon.testing.simulate_get(app, path, **kwargs)</code> <a class="reference internal" href="https://falcon.readthedocs.io/en/1.4.1/_modules/falcon/testing/client.html#simulate_get" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Simulates a GET request to a WSGI application.</p> <p>Equivalent to:</p> <pre data-language="python">simulate_request(app, 'GET', path, **kwargs)
</pre> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>app</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#callable" title="(in Python v2.7)" target="_blank">callable</a>) – The WSGI application to call</li> <li>
<strong>path</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)" target="_blank">str</a>) – The URL path to request</li> </ul> </td> </tr> <tr><th class="field-name" colspan="2">Keyword Arguments:</th></tr> <tr>
<td> </td>
<td class="field-body">
<ul class="first last simple"> <li>
<strong>params</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)" target="_blank">dict</a>) – A dictionary of query string parameters, where each key is a parameter name, and each value is either a <code>str</code> or something that can be converted into a <code>str</code>, or a list of such values. If a <code>list</code>, the value will be converted to a comma-delimited string of values (e.g., ‘thing=1,2,3’).</li> <li>
<strong>params_csv</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)" target="_blank">bool</a>) – Set to <code>False</code> to encode list values in query string params by specifying multiple instances of the parameter (e.g., ‘thing=1&amp;thing=2&amp;thing=3’). Otherwise, parameters will be encoded as comma-separated values (e.g., ‘thing=1,2,3’). Defaults to <code>True</code>.</li> <li>
<strong>query_string</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)" target="_blank">str</a>) – A raw query string to include in the request (default: <code>None</code>). If specified, overrides <code>params</code>.</li> <li>
<strong>headers</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)" target="_blank">dict</a>) – Additional headers to include in the request (default: <code>None</code>)</li> <li>
<strong>file_wrapper</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#callable" title="(in Python v2.7)" target="_blank">callable</a>) – Callable that returns an iterable, to be used as the value for <em>wsgi.file_wrapper</em> in the environ (default: <code>None</code>). This can be used to test high-performance file transmission when <code>resp.stream</code> is set to a file-like object.</li> <li>
<strong>protocol</strong> – The protocol to use for the URL scheme (default: ‘http’)</li> </ul> </td> </tr>  </table> </dd>
</dl> <dl class="function"> <dt id="falcon.testing.simulate_head">
<code>falcon.testing.simulate_head(app, path, **kwargs)</code> <a class="reference internal" href="https://falcon.readthedocs.io/en/1.4.1/_modules/falcon/testing/client.html#simulate_head" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Simulates a HEAD request to a WSGI application.</p> <p>Equivalent to:</p> <pre data-language="python">simulate_request(app, 'HEAD', path, **kwargs)
</pre> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>app</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#callable" title="(in Python v2.7)" target="_blank">callable</a>) – The WSGI application to call</li> <li>
<strong>path</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)" target="_blank">str</a>) – The URL path to request</li> </ul> </td> </tr> <tr><th class="field-name" colspan="2">Keyword Arguments:</th></tr> <tr>
<td> </td>
<td class="field-body">
<ul class="first last simple"> <li>
<strong>params</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)" target="_blank">dict</a>) – A dictionary of query string parameters, where each key is a parameter name, and each value is either a <code>str</code> or something that can be converted into a <code>str</code>, or a list of such values. If a <code>list</code>, the value will be converted to a comma-delimited string of values (e.g., ‘thing=1,2,3’).</li> <li>
<strong>params_csv</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)" target="_blank">bool</a>) – Set to <code>False</code> to encode list values in query string params by specifying multiple instances of the parameter (e.g., ‘thing=1&amp;thing=2&amp;thing=3’). Otherwise, parameters will be encoded as comma-separated values (e.g., ‘thing=1,2,3’). Defaults to <code>True</code>.</li> <li>
<strong>query_string</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)" target="_blank">str</a>) – A raw query string to include in the request (default: <code>None</code>). If specified, overrides <code>params</code>.</li> <li>
<strong>headers</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)" target="_blank">dict</a>) – Additional headers to include in the request (default: <code>None</code>)</li> <li>
<strong>protocol</strong> – The protocol to use for the URL scheme (default: ‘http’)</li> </ul> </td> </tr>  </table> </dd>
</dl> <dl class="function"> <dt id="falcon.testing.simulate_post">
<code>falcon.testing.simulate_post(app, path, **kwargs)</code> <a class="reference internal" href="https://falcon.readthedocs.io/en/1.4.1/_modules/falcon/testing/client.html#simulate_post" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Simulates a POST request to a WSGI application.</p> <p>Equivalent to:</p> <pre data-language="python">simulate_request(app, 'POST', path, **kwargs)
</pre> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>app</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#callable" title="(in Python v2.7)" target="_blank">callable</a>) – The WSGI application to call</li> <li>
<strong>path</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)" target="_blank">str</a>) – The URL path to request</li> </ul> </td> </tr> <tr><th class="field-name" colspan="2">Keyword Arguments:</th></tr> <tr>
<td> </td>
<td class="field-body">
<ul class="first last simple"> <li>
<strong>params</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)" target="_blank">dict</a>) – A dictionary of query string parameters, where each key is a parameter name, and each value is either a <code>str</code> or something that can be converted into a <code>str</code>, or a list of such values. If a <code>list</code>, the value will be converted to a comma-delimited string of values (e.g., ‘thing=1,2,3’).</li> <li>
<strong>params_csv</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)" target="_blank">bool</a>) – Set to <code>False</code> to encode list values in query string params by specifying multiple instances of the parameter (e.g., ‘thing=1&amp;thing=2&amp;thing=3’). Otherwise, parameters will be encoded as comma-separated values (e.g., ‘thing=1,2,3’). Defaults to <code>True</code>.</li> <li>
<strong>headers</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)" target="_blank">dict</a>) – Additional headers to include in the request (default: <code>None</code>)</li> <li>
<strong>body</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)" target="_blank">str</a>) – A string to send as the body of the request. Accepts both byte strings and Unicode strings (default: <code>None</code>). If a Unicode string is provided, it will be encoded as UTF-8 in the request.</li> <li>
<strong>json</strong> (<em>JSON serializable</em>) – A JSON document to serialize as the body of the request (default: <code>None</code>). If specified, overrides <code>body</code> and the Content-Type header in <code>headers</code>.</li> <li>
<strong>protocol</strong> – The protocol to use for the URL scheme (default: ‘http’)</li> </ul> </td> </tr>  </table> </dd>
</dl> <dl class="function"> <dt id="falcon.testing.simulate_put">
<code>falcon.testing.simulate_put(app, path, **kwargs)</code> <a class="reference internal" href="https://falcon.readthedocs.io/en/1.4.1/_modules/falcon/testing/client.html#simulate_put" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Simulates a PUT request to a WSGI application.</p> <p>Equivalent to:</p> <pre data-language="python">simulate_request(app, 'PUT', path, **kwargs)
</pre> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>app</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#callable" title="(in Python v2.7)" target="_blank">callable</a>) – The WSGI application to call</li> <li>
<strong>path</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)" target="_blank">str</a>) – The URL path to request</li> </ul> </td> </tr> <tr><th class="field-name" colspan="2">Keyword Arguments:</th></tr> <tr>
<td> </td>
<td class="field-body">
<ul class="first last simple"> <li>
<strong>params</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)" target="_blank">dict</a>) – A dictionary of query string parameters, where each key is a parameter name, and each value is either a <code>str</code> or something that can be converted into a <code>str</code>, or a list of such values. If a <code>list</code>, the value will be converted to a comma-delimited string of values (e.g., ‘thing=1,2,3’).</li> <li>
<strong>params_csv</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)" target="_blank">bool</a>) – Set to <code>False</code> to encode list values in query string params by specifying multiple instances of the parameter (e.g., ‘thing=1&amp;thing=2&amp;thing=3’). Otherwise, parameters will be encoded as comma-separated values (e.g., ‘thing=1,2,3’). Defaults to <code>True</code>.</li> <li>
<strong>headers</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)" target="_blank">dict</a>) – Additional headers to include in the request (default: <code>None</code>)</li> <li>
<strong>body</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)" target="_blank">str</a>) – A string to send as the body of the request. Accepts both byte strings and Unicode strings (default: <code>None</code>). If a Unicode string is provided, it will be encoded as UTF-8 in the request.</li> <li>
<strong>json</strong> (<em>JSON serializable</em>) – A JSON document to serialize as the body of the request (default: <code>None</code>). If specified, overrides <code>body</code> and the Content-Type header in <code>headers</code>.</li> <li>
<strong>protocol</strong> – The protocol to use for the URL scheme (default: ‘http’)</li> </ul> </td> </tr>  </table> </dd>
</dl> <dl class="function"> <dt id="falcon.testing.simulate_options">
<code>falcon.testing.simulate_options(app, path, **kwargs)</code> <a class="reference internal" href="https://falcon.readthedocs.io/en/1.4.1/_modules/falcon/testing/client.html#simulate_options" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Simulates an OPTIONS request to a WSGI application.</p> <p>Equivalent to:</p> <pre data-language="python">simulate_request(app, 'OPTIONS', path, **kwargs)
</pre> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>app</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#callable" title="(in Python v2.7)" target="_blank">callable</a>) – The WSGI application to call</li> <li>
<strong>path</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)" target="_blank">str</a>) – The URL path to request</li> </ul> </td> </tr> <tr><th class="field-name" colspan="2">Keyword Arguments:</th></tr> <tr>
<td> </td>
<td class="field-body">
<ul class="first last simple"> <li>
<strong>params</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)" target="_blank">dict</a>) – A dictionary of query string parameters, where each key is a parameter name, and each value is either a <code>str</code> or something that can be converted into a <code>str</code>, or a list of such values. If a <code>list</code>, the value will be converted to a comma-delimited string of values (e.g., ‘thing=1,2,3’).</li> <li>
<strong>params_csv</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)" target="_blank">bool</a>) – Set to <code>False</code> to encode list values in query string params by specifying multiple instances of the parameter (e.g., ‘thing=1&amp;thing=2&amp;thing=3’). Otherwise, parameters will be encoded as comma-separated values (e.g., ‘thing=1,2,3’). Defaults to <code>True</code>.</li> <li>
<strong>headers</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)" target="_blank">dict</a>) – Additional headers to include in the request (default: <code>None</code>)</li> <li>
<strong>protocol</strong> – The protocol to use for the URL scheme (default: ‘http’)</li> </ul> </td> </tr>  </table> </dd>
</dl> <dl class="function"> <dt id="falcon.testing.simulate_patch">
<code>falcon.testing.simulate_patch(app, path, **kwargs)</code> <a class="reference internal" href="https://falcon.readthedocs.io/en/1.4.1/_modules/falcon/testing/client.html#simulate_patch" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Simulates a PATCH request to a WSGI application.</p> <p>Equivalent to:</p> <pre data-language="python">simulate_request(app, 'PATCH', path, **kwargs)
</pre> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>app</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#callable" title="(in Python v2.7)" target="_blank">callable</a>) – The WSGI application to call</li> <li>
<strong>path</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)" target="_blank">str</a>) – The URL path to request</li> </ul> </td> </tr> <tr><th class="field-name" colspan="2">Keyword Arguments:</th></tr> <tr>
<td> </td>
<td class="field-body">
<ul class="first last simple"> <li>
<strong>params</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)" target="_blank">dict</a>) – A dictionary of query string parameters, where each key is a parameter name, and each value is either a <code>str</code> or something that can be converted into a <code>str</code>, or a list of such values. If a <code>list</code>, the value will be converted to a comma-delimited string of values (e.g., ‘thing=1,2,3’).</li> <li>
<strong>params_csv</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)" target="_blank">bool</a>) – Set to <code>False</code> to encode list values in query string params by specifying multiple instances of the parameter (e.g., ‘thing=1&amp;thing=2&amp;thing=3’). Otherwise, parameters will be encoded as comma-separated values (e.g., ‘thing=1,2,3’). Defaults to <code>True</code>.</li> <li>
<strong>headers</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)" target="_blank">dict</a>) – Additional headers to include in the request (default: <code>None</code>)</li> <li>
<strong>body</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)" target="_blank">str</a>) – A string to send as the body of the request. Accepts both byte strings and Unicode strings (default: <code>None</code>). If a Unicode string is provided, it will be encoded as UTF-8 in the request.</li> <li>
<strong>json</strong> (<em>JSON serializable</em>) – A JSON document to serialize as the body of the request (default: <code>None</code>). If specified, overrides <code>body</code> and the Content-Type header in <code>headers</code>.</li> <li>
<strong>protocol</strong> – The protocol to use for the URL scheme (default: ‘http’)</li> </ul> </td> </tr>  </table> </dd>
</dl> <dl class="function"> <dt id="falcon.testing.simulate_delete">
<code>falcon.testing.simulate_delete(app, path, **kwargs)</code> <a class="reference internal" href="https://falcon.readthedocs.io/en/1.4.1/_modules/falcon/testing/client.html#simulate_delete" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Simulates a DELETE request to a WSGI application.</p> <p>Equivalent to:</p> <pre data-language="python">simulate_request(app, 'DELETE', path, **kwargs)
</pre> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>app</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#callable" title="(in Python v2.7)" target="_blank">callable</a>) – The WSGI application to call</li> <li>
<strong>path</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)" target="_blank">str</a>) – The URL path to request</li> </ul> </td> </tr> <tr><th class="field-name" colspan="2">Keyword Arguments:</th></tr> <tr>
<td> </td>
<td class="field-body">
<ul class="first last simple"> <li>
<strong>params</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)" target="_blank">dict</a>) – A dictionary of query string parameters, where each key is a parameter name, and each value is either a <code>str</code> or something that can be converted into a <code>str</code>, or a list of such values. If a <code>list</code>, the value will be converted to a comma-delimited string of values (e.g., ‘thing=1,2,3’).</li> <li>
<strong>params_csv</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)" target="_blank">bool</a>) – Set to <code>False</code> to encode list values in query string params by specifying multiple instances of the parameter (e.g., ‘thing=1&amp;thing=2&amp;thing=3’). Otherwise, parameters will be encoded as comma-separated values (e.g., ‘thing=1,2,3’). Defaults to <code>True</code>.</li> <li>
<strong>headers</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)" target="_blank">dict</a>) – Additional headers to include in the request (default: <code>None</code>)</li> <li>
<strong>protocol</strong> – The protocol to use for the URL scheme (default: ‘http’)</li> </ul> </td> </tr>  </table> </dd>
</dl> <dl class="class"> <dt id="falcon.testing.TestClient">
<code>class falcon.testing.TestClient(app, headers=None)</code> <a class="reference internal" href="https://falcon.readthedocs.io/en/1.4.1/_modules/falcon/testing/client.html#TestClient" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Simulates requests to a WSGI application.</p> <p>This class provides a contextual wrapper for Falcon’s <code>simulate_*</code> test functions. It lets you replace this:</p> <pre data-language="python">simulate_get(app, '/messages')
simulate_head(app, '/messages')
</pre> <p>with this:</p> <pre data-language="python">client = TestClient(app)
client.simulate_get('/messages')
client.simulate_head('/messages')
</pre> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">The methods all call <code>self.simulate_request()</code> for convenient overriding of request preparation by child classes.</p> </div> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<strong>app</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#callable" title="(in Python v2.7)" target="_blank">callable</a>) – A WSGI application to target when simulating requests</td> </tr> <tr><th class="field-name" colspan="2">Keyword Arguments:</th></tr> <tr>
<td> </td>
<td class="field-body">
<strong>headers</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)" target="_blank">dict</a>) – Default headers to set on every request (default <code>None</code>). These defaults may be overridden by passing values for the same headers to one of the <code>simulate_*()</code> methods.</td> </tr>  </table> <dl class="method"> <dt id="falcon.testing.TestClient.simulate_delete">
<code>simulate_delete(path='/', **kwargs)</code> <a class="reference internal" href="https://falcon.readthedocs.io/en/1.4.1/_modules/falcon/testing/client.html#TestClient.simulate_delete" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Simulates a DELETE request to a WSGI application.</p> <p>(See also: <a class="reference internal" href="#falcon.testing.simulate_delete" title="falcon.testing.simulate_delete"><code>falcon.testing.simulate_delete()</code></a>)</p> </dd>
</dl> <dl class="method"> <dt id="falcon.testing.TestClient.simulate_get">
<code>simulate_get(path='/', **kwargs)</code> <a class="reference internal" href="https://falcon.readthedocs.io/en/1.4.1/_modules/falcon/testing/client.html#TestClient.simulate_get" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Simulates a GET request to a WSGI application.</p> <p>(See also: <a class="reference internal" href="#falcon.testing.simulate_get" title="falcon.testing.simulate_get"><code>falcon.testing.simulate_get()</code></a>)</p> </dd>
</dl> <dl class="method"> <dt id="falcon.testing.TestClient.simulate_head">
<code>simulate_head(path='/', **kwargs)</code> <a class="reference internal" href="https://falcon.readthedocs.io/en/1.4.1/_modules/falcon/testing/client.html#TestClient.simulate_head" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Simulates a HEAD request to a WSGI application.</p> <p>(See also: <a class="reference internal" href="#falcon.testing.simulate_head" title="falcon.testing.simulate_head"><code>falcon.testing.simulate_head()</code></a>)</p> </dd>
</dl> <dl class="method"> <dt id="falcon.testing.TestClient.simulate_options">
<code>simulate_options(path='/', **kwargs)</code> <a class="reference internal" href="https://falcon.readthedocs.io/en/1.4.1/_modules/falcon/testing/client.html#TestClient.simulate_options" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Simulates an OPTIONS request to a WSGI application.</p> <p>(See also: <a class="reference internal" href="#falcon.testing.simulate_options" title="falcon.testing.simulate_options"><code>falcon.testing.simulate_options()</code></a>)</p> </dd>
</dl> <dl class="method"> <dt id="falcon.testing.TestClient.simulate_patch">
<code>simulate_patch(path='/', **kwargs)</code> <a class="reference internal" href="https://falcon.readthedocs.io/en/1.4.1/_modules/falcon/testing/client.html#TestClient.simulate_patch" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Simulates a PATCH request to a WSGI application.</p> <p>(See also: <a class="reference internal" href="#falcon.testing.simulate_patch" title="falcon.testing.simulate_patch"><code>falcon.testing.simulate_patch()</code></a>)</p> </dd>
</dl> <dl class="method"> <dt id="falcon.testing.TestClient.simulate_post">
<code>simulate_post(path='/', **kwargs)</code> <a class="reference internal" href="https://falcon.readthedocs.io/en/1.4.1/_modules/falcon/testing/client.html#TestClient.simulate_post" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Simulates a POST request to a WSGI application.</p> <p>(See also: <a class="reference internal" href="#falcon.testing.simulate_post" title="falcon.testing.simulate_post"><code>falcon.testing.simulate_post()</code></a>)</p> </dd>
</dl> <dl class="method"> <dt id="falcon.testing.TestClient.simulate_put">
<code>simulate_put(path='/', **kwargs)</code> <a class="reference internal" href="https://falcon.readthedocs.io/en/1.4.1/_modules/falcon/testing/client.html#TestClient.simulate_put" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Simulates a PUT request to a WSGI application.</p> <p>(See also: <a class="reference internal" href="#falcon.testing.simulate_put" title="falcon.testing.simulate_put"><code>falcon.testing.simulate_put()</code></a>)</p> </dd>
</dl> <dl class="method"> <dt id="falcon.testing.TestClient.simulate_request">
<code>simulate_request(*args, **kwargs)</code> <a class="reference internal" href="https://falcon.readthedocs.io/en/1.4.1/_modules/falcon/testing/client.html#TestClient.simulate_request" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Simulates a request to a WSGI application.</p> <p>Wraps <a class="reference internal" href="#falcon.testing.simulate_request" title="falcon.testing.simulate_request"><code>falcon.testing.simulate_request()</code></a> to perform a WSGI request directly against <code>self.app</code>. Equivalent to:</p> <pre data-language="python">falcon.testing.simulate_request(self.app, *args, **kwargs)
</pre> </dd>
</dl> </dd>
</dl> <dl class="class"> <dt id="falcon.testing.TestCase">
<code>class falcon.testing.TestCase(methodName='runTest')</code> <a class="reference internal" href="https://falcon.readthedocs.io/en/1.4.1/_modules/falcon/testing/test_case.html#TestCase" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Extends <a class="reference external" href="https://docs.python.org/2/library/unittest.html#module-unittest" title="(in Python v2.7)" target="_blank"><code>unittest</code></a> to support WSGI functional testing.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">If available, uses <code>testtools</code> in lieu of <a class="reference external" href="https://docs.python.org/2/library/unittest.html#module-unittest" title="(in Python v2.7)" target="_blank"><code>unittest</code></a>.</p> </div> <p>This base class provides some extra plumbing for unittest-style test cases, to help simulate WSGI calls without having to spin up an actual web server. Various simulation methods are derived from <a class="reference internal" href="#falcon.testing.TestClient" title="falcon.testing.TestClient"><code>falcon.testing.TestClient</code></a>.</p> <p>Simply inherit from this class in your test case classes instead of <a class="reference external" href="https://docs.python.org/2/library/unittest.html#unittest.TestCase" title="(in Python v2.7)" target="_blank"><code>unittest.TestCase</code></a> or <code>testtools.TestCase</code>.</p> <dl class="attribute"> <dt id="falcon.testing.TestCase.app">
<code>app</code> </dt> <dd>
<p><em>object</em> – A WSGI application to target when simulating requests (default: <code>falcon.API()</code>). When testing your application, you will need to set this to your own instance of <code>falcon.API</code>. For example:</p> <pre data-language="python">from falcon import testing
import myapp


class MyTestCase(testing.TestCase):
    def setUp(self):
        super(MyTestCase, self).setUp()

        # Assume the hypothetical `myapp` package has a
        # function called `create()` to initialize and
        # return a `falcon.API` instance.
        self.app = myapp.create()


class TestMyApp(MyTestCase):
    def test_get_message(self):
        doc = {u'message': u'Hello world!'}

        result = self.simulate_get('/messages/42')
        self.assertEqual(result.json, doc)
</pre> </dd>
</dl> <dl class="attribute"> <dt id="falcon.testing.TestCase.api">
<code>api</code> </dt> <dd>
<p><em>object</em> – Deprecated alias for <code>app</code></p> </dd>
</dl> <dl class="attribute"> <dt id="falcon.testing.TestCase.api_class">
<code>api_class</code> </dt> <dd>
<p><em>callable</em> – Deprecated class variable; will be removed in a future release.</p> </dd>
</dl> </dd>
</dl> <dl class="class"> <dt id="falcon.testing.SimpleTestResource">
<code>class falcon.testing.SimpleTestResource(status=None, body=None, json=None, headers=None)</code> <a class="reference internal" href="https://falcon.readthedocs.io/en/1.4.1/_modules/falcon/testing/resource.html#SimpleTestResource" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Mock resource for functional testing of framework components.</p> <p>This class implements a simple test resource that can be extended as needed to test middleware, hooks, and the Falcon framework itself.</p> <p>Only noop <code>on_get()</code> and <code>on_post()</code> responders are implemented; when overriding these, or adding additional responders in child classes, they can be decorated with the <a class="reference internal" href="#falcon.testing.capture_responder_args" title="falcon.testing.capture_responder_args"><code>falcon.testing.capture_responder_args()</code></a> hook in order to capture the <em>req</em>, <em>resp</em>, and <em>params</em> arguments that are passed to the responder. Responders may also be decorated with the <code>falcon.testing.set_resp_defaults()</code> hook in order to set <em>resp</em> properties to default <em>status</em>, <em>body</em>, and <em>header</em> values.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr><th class="field-name" colspan="2">Keyword Arguments:</th></tr> <tr>
<td> </td>
<td class="field-body">
<ul class="first last simple"> <li>
<strong>status</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)" target="_blank">str</a>) – Default status string to use in responses</li> <li>
<strong>body</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)" target="_blank">str</a>) – Default body string to use in responses</li> <li>
<strong>json</strong> (<em>JSON serializable</em>) – Default JSON document to use in responses. Will be serialized to a string and encoded as UTF-8. Either <em>json</em> or <em>body</em> may be specified, but not both.</li> <li>
<strong>headers</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)" target="_blank">dict</a>) – Default set of additional headers to include in responses</li> </ul> </td> </tr>  </table> <dl class="attribute"> <dt id="falcon.testing.SimpleTestResource.called">
<code>called</code> </dt> <dd>
<p><em>bool</em> – Whether or not a req/resp was captured.</p> </dd>
</dl> <dl class="attribute"> <dt id="falcon.testing.SimpleTestResource.captured_req">
<code>captured_req</code> </dt> <dd>
<p><em>falcon.Request</em> – The last Request object passed into any one of the responder methods.</p> </dd>
</dl> <dl class="attribute"> <dt id="falcon.testing.SimpleTestResource.captured_resp">
<code>captured_resp</code> </dt> <dd>
<p><em>falcon.Response</em> – The last Response object passed into any one of the responder methods.</p> </dd>
</dl> <dl class="attribute"> <dt id="falcon.testing.SimpleTestResource.captured_kwargs">
<code>captured_kwargs</code> </dt> <dd>
<p><em>dict</em> – The last dictionary of kwargs, beyond <code>req</code> and <code>resp</code>, that were passed into any one of the responder methods.</p> </dd>
</dl> </dd>
</dl> <dl class="class"> <dt id="falcon.testing.StartResponseMock">
<code>class falcon.testing.StartResponseMock</code> <a class="reference internal" href="https://falcon.readthedocs.io/en/1.4.1/_modules/falcon/testing/srmock.html#StartResponseMock" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Mock object representing a WSGI <code>start_response</code> callable.</p> <dl class="attribute"> <dt id="falcon.testing.StartResponseMock.call_count">
<code>call_count</code> </dt> <dd>
<p><em>int</em> – Number of times <code>start_response</code> was called.</p> </dd>
</dl> <dl class="attribute"> <dt id="falcon.testing.StartResponseMock.status">
<code>status</code> </dt> <dd>
<p><em>str</em> – HTTP status line, e.g. ‘785 TPS Cover Sheet not attached’.</p> </dd>
</dl> <dl class="attribute"> <dt id="falcon.testing.StartResponseMock.headers">
<code>headers</code> </dt> <dd>
<p><em>list</em> – Raw headers list passed to <code>start_response</code>, per PEP-333.</p> </dd>
</dl> <dl class="attribute"> <dt id="falcon.testing.StartResponseMock.headers_dict">
<code>headers_dict</code> </dt> <dd>
<p><em>dict</em> – Headers as a case-insensitive <code>dict</code>-like object, instead of a <code>list</code>.</p> </dd>
</dl> </dd>
</dl> <dl class="function"> <dt id="falcon.testing.capture_responder_args">
<code>falcon.testing.capture_responder_args(req, resp, resource, params)</code> <a class="reference internal" href="https://falcon.readthedocs.io/en/1.4.1/_modules/falcon/testing/resource.html#capture_responder_args" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Before hook for capturing responder arguments.</p> <p>Adds the following attributes to the hooked responder’s resource class:</p>  <ul class="simple"> <li>captured_req</li> <li>captured_resp</li> <li>captured_kwargs</li> </ul>  </dd>
</dl> <dl class="function"> <dt id="falcon.testing.rand_string">
<code>falcon.testing.rand_string(min, max)</code> <a class="reference internal" href="https://falcon.readthedocs.io/en/1.4.1/_modules/falcon/testing/helpers.html#rand_string" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Returns a randomly-generated string, of a random length.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first last simple"> <li>
<strong>min</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)" target="_blank">int</a>) – Minimum string length to return, inclusive</li> <li>
<strong>max</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)" target="_blank">int</a>) – Maximum string length to return, inclusive</li> </ul> </td> </tr>  </table> </dd>
</dl> <dl class="function"> <dt id="falcon.testing.create_environ">
<code>falcon.testing.create_environ(path='/', query_string='', protocol='HTTP/1.1', scheme='http', host='falconframework.org', port=None, headers=None, app='', body='', method='GET', wsgierrors=None, file_wrapper=None)</code> <a class="reference internal" href="https://falcon.readthedocs.io/en/1.4.1/_modules/falcon/testing/helpers.html#create_environ" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Creates a mock PEP-3333 environ <code>dict</code> for simulating WSGI requests.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr><th class="field-name" colspan="2">Keyword Arguments:</th></tr> <tr>
<td> </td>
<td class="field-body">
<ul class="first last simple"> <li>
<strong>path</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)" target="_blank">str</a>) – The path for the request (default ‘/’)</li> <li>
<strong>query_string</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)" target="_blank">str</a>) – The query string to simulate, without a leading ‘?’ (default ‘’)</li> <li>
<strong>protocol</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)" target="_blank">str</a>) – The HTTP protocol to simulate (default ‘HTTP/1.1’). If set to ‘HTTP/1.0’, the Host header will not be added to the environment.</li> <li>
<strong>scheme</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)" target="_blank">str</a>) – URL scheme, either ‘http’ or ‘https’ (default ‘http’)</li> <li>
<strong>host</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)" target="_blank">str</a>) – Hostname for the request (default ‘falconframework.org’)</li> <li>
<strong>port</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)" target="_blank">str</a>) – The TCP port to simulate. Defaults to the standard port used by the given scheme (i.e., 80 for ‘http’ and 443 for ‘https’).</li> <li>
<strong>headers</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)" target="_blank">dict</a>) – Headers as a <code>dict</code> or an iterable yielding (<em>key</em>, <em>value</em>) <code>tuple</code>’s</li> <li>
<strong>app</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)" target="_blank">str</a>) – Value for the <code>SCRIPT_NAME</code> environ variable, described in PEP-333: ‘The initial portion of the request URL’s “path” that corresponds to the application object, so that the application knows its virtual “location”. This may be an empty string, if the application corresponds to the “root” of the server.’ (default ‘’)</li> <li>
<strong>body</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)" target="_blank">str</a>) – The body of the request (default ‘’). Accepts both byte strings and Unicode strings. Unicode strings are encoded as UTF-8 in the request.</li> <li>
<strong>method</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)" target="_blank">str</a>) – The HTTP method to use (default ‘GET’)</li> <li>
<strong>wsgierrors</strong> (<a class="reference external" href="https://docs.python.org/2/library/io.html#module-io" title="(in Python v2.7)" target="_blank">io</a>) – The stream to use as <em>wsgierrors</em> (default <code>sys.stderr</code>)</li> <li>
<strong>file_wrapper</strong> – Callable that returns an iterable, to be used as the value for <em>wsgi.file_wrapper</em> in the environ.</li> </ul> </td> </tr>  </table> </dd>
</dl> <dl class="function"> <dt id="falcon.testing.redirected">
<code>falcon.testing.redirected(*args, **kwds)</code> <a class="reference internal" href="https://falcon.readthedocs.io/en/1.4.1/_modules/falcon/testing/helpers.html#redirected" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>A context manager to temporarily redirect stdout or stderr</p> <p>e.g.:</p> <dl class="docutils"> <dt>with redirected(stderr=os.devnull):</dt> <dd>…</dd> </dl> </dd>
</dl>   <h2 id="deprecated">Deprecated</h2> <dl class="class"> <dt id="falcon.testing.TestBase">
<code>class falcon.testing.TestBase(methodName='runTest')</code> <a class="reference internal" href="https://falcon.readthedocs.io/en/1.4.1/_modules/falcon/testing/base.html#TestBase" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Extends <a class="reference external" href="https://docs.python.org/2/library/unittest.html#module-unittest" title="(in Python v2.7)" target="_blank"><code>unittest</code></a> to support WSGI functional testing.</p> <div class="admonition warning"> <p class="first admonition-title">Warning</p> <p class="last">This class has been deprecated and will be removed in a future release. Please use <a class="reference internal" href="#falcon.testing.TestCase" title="falcon.testing.TestCase"><code>TestCase</code></a> instead.</p> </div> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">If available, uses <code>testtools</code> in lieu of <a class="reference external" href="https://docs.python.org/2/library/unittest.html#module-unittest" title="(in Python v2.7)" target="_blank"><code>unittest</code></a>.</p> </div> <p>This base class provides some extra plumbing for unittest-style test cases, to help simulate WSGI calls without having to spin up an actual web server. Simply inherit from this class in your test case classes instead of <a class="reference external" href="https://docs.python.org/2/library/unittest.html#unittest.TestCase" title="(in Python v2.7)" target="_blank"><code>unittest.TestCase</code></a> or <code>testtools.TestCase</code>.</p> <dl class="attribute"> <dt id="falcon.testing.TestBase.api">
<code>api</code> </dt> <dd>
<p><em>falcon.API</em> – An API instance to target when simulating requests. Defaults to <code>falcon.API()</code>.</p> </dd>
</dl> <dl class="attribute"> <dt id="falcon.testing.TestBase.srmock">
<code>srmock</code> </dt> <dd>
<p><em>falcon.testing.StartResponseMock</em> – Provides a callable that simulates the behavior of the <code>start_response</code> argument that the server would normally pass into the WSGI app. The mock object captures various information from the app’s response to the simulated request.</p> </dd>
</dl> <dl class="attribute"> <dt id="falcon.testing.TestBase.test_route">
<code>test_route</code> </dt> <dd>
<p><em>str</em> – A simple, generated path that a test can use to add a route to the API.</p> </dd>
</dl> <dl class="attribute"> <dt id="falcon.testing.TestBase.api_class">
<code>api_class</code> </dt> <dd>
<p>alias of <code>API</code></p> </dd>
</dl> <dl class="method"> <dt id="falcon.testing.TestBase.setUp">
<code>setUp()</code> <a class="reference internal" href="https://falcon.readthedocs.io/en/1.4.1/_modules/falcon/testing/base.html#TestBase.setUp" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Initializer, unittest-style</p> </dd>
</dl> <dl class="method"> <dt id="falcon.testing.TestBase.simulate_request">
<code>simulate_request(path, decode=None, **kwargs)</code> <a class="reference internal" href="https://falcon.readthedocs.io/en/1.4.1/_modules/falcon/testing/base.html#TestBase.simulate_request" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Simulates a request to <code>self.api</code>.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<p class="first"><strong>path</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)" target="_blank">str</a>) – The path to request.</p> </td> </tr> <tr><th class="field-name" colspan="2">Keyword Arguments:</th></tr> <tr>
<td> </td>
<td class="field-body">
<ul class="first last simple"> <li>
<strong>decode</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)" target="_blank">str</a>) – If this is set to a character encoding, such as ‘utf-8’, <code>simulate_request</code> will assume the response is a single byte string, and will decode it as the result of the request, rather than simply returning the standard WSGI iterable.</li> <li>
<strong>kwargs</strong> (<em>optional</em>) – Same as those defined for <code>falcon.testing.create_environ</code>.</li> </ul> </td> </tr>  </table> </dd>
</dl> <dl class="attribute"> <dt id="falcon.testing.TestBase.srmock_class">
<code>srmock_class</code> </dt> <dd>
<p>alias of <a class="reference internal" href="#falcon.testing.StartResponseMock" title="falcon.testing.StartResponseMock"><code>StartResponseMock</code></a></p> </dd>
</dl> <dl class="method"> <dt id="falcon.testing.TestBase.tearDown">
<code>tearDown()</code> <a class="reference internal" href="https://falcon.readthedocs.io/en/1.4.1/_modules/falcon/testing/base.html#TestBase.tearDown" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Destructor, unittest-style</p> </dd>
</dl> </dd>
</dl> <dl class="class"> <dt id="falcon.testing.TestResource">
<code>class falcon.testing.TestResource</code> <a class="reference internal" href="https://falcon.readthedocs.io/en/1.4.1/_modules/falcon/testing/resource.html#TestResource" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Mock resource for functional testing.</p> <div class="admonition warning"> <p class="first admonition-title">Warning</p> <p class="last">This class is deprecated and will be removed in a future release. Please use <a class="reference internal" href="#falcon.testing.SimpleTestResource" title="falcon.testing.SimpleTestResource"><code>SimpleTestResource</code></a> instead.</p> </div> <p>This class implements the <code>on_get</code> responder, captures request data, and sets response body and headers.</p> <p>Child classes may add additional methods and attributes as needed.</p> <dl class="attribute"> <dt id="falcon.testing.TestResource.sample_status">
<code>sample_status</code> </dt> <dd>
<p><em>str</em> – HTTP status to set in the response</p> </dd>
</dl> <dl class="attribute"> <dt id="falcon.testing.TestResource.sample_body">
<code>sample_body</code> </dt> <dd>
<p><em>str</em> – Random body string to set in the response</p> </dd>
</dl> <dl class="attribute"> <dt id="falcon.testing.TestResource.resp_headers">
<code>resp_headers</code> </dt> <dd>
<p><em>dict</em> – Sample headers to use in the response</p> </dd>
</dl> <dl class="attribute"> <dt id="falcon.testing.TestResource.req">
<code>req</code> </dt> <dd>
<p><em>falcon.Request</em> – Request object passed into the <code>on_get</code> responder.</p> </dd>
</dl> <dl class="attribute"> <dt id="falcon.testing.TestResource.resp">
<code>resp</code> </dt> <dd>
<p><em>falcon.Response</em> – Response object passed into the <code>on_get</code> responder.</p> </dd>
</dl> <dl class="attribute"> <dt id="falcon.testing.TestResource.kwargs">
<code>kwargs</code> </dt> <dd>
<p><em>dict</em> – Keyword arguments passed into the <code>on_get</code> responder, if any.</p> </dd>
</dl> <dl class="attribute"> <dt id="falcon.testing.TestResource.called">
<code>called</code> </dt> <dd>
<p><em>bool</em> – <code>True</code> if <code>on_get</code> was ever called; <code>False</code> otherwise.</p> </dd>
</dl> <dl class="method"> <dt id="falcon.testing.TestResource.on_get">
<code>on_get(req, resp, **kwargs)</code> <a class="reference internal" href="https://falcon.readthedocs.io/en/1.4.1/_modules/falcon/testing/resource.html#TestResource.on_get" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>GET responder.</p> <p>Captures <code>req</code>, <code>resp</code>, and <code>kwargs</code>. Also sets up a sample response.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first last simple"> <li>
<strong>req</strong> – Falcon <code>Request</code> instance.</li> <li>
<strong>resp</strong> – Falcon <code>Response</code> instance.</li> <li>
<strong>kwargs</strong> – URI template <em>name=value</em> pairs, if any, along with any extra args injected by middleware.</li> </ul> </td> </tr>  </table> </dd>
</dl> </dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
    © 2012–2017 by Rackspace Hosting, Inc. and other contributors<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://falcon.readthedocs.io/en/1.4.1/api/testing.html" class="_attribution-link" target="_blank">https://falcon.readthedocs.io/en/1.4.1/api/testing.html</a>
  </p>
</div>

				
			</div>
			<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
</amp-auto-ads>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
