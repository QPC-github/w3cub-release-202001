
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Connecting to Your Database - CodeIgniter 3 - W3cubDocs</title>
  
  <meta name="description" content=" There are two ways to connect to a database&#58; ">
  <meta name="keywords" content="connecting, your, database, -, codeigniter, codeigniter~3">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/codeigniter~3/database/connecting/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" integrity="sha256-6/DH7X+2hvUPElJfGsvzm+tgIpmM9zjbYxnpsr6gR1A=" crossorigin="anonymous" href="/assets/application-ebf0c7ed7fb686f50f12525f1acbf39beb6022998cf738db6319e9b2bea04750.css">
  <script type="text/javascript" src="/assets/application-db285287b40ed28fac520fcfd75d7d874692b647b5b5e05968c741dda5de4148.js" integrity="sha256-2yhSh7QO0o+sUg/P1119h0aStke1teBZaMdB3aXeQUg=" crossorigin="anonymous"></script>
  <script src="/json/codeigniter~3.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-2572770204602497",
            enable_page_level_ads: true
        });
  </script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/codeigniter~3/" class="_nav-link" title="" style="margin-left:0;">CodeIgniter 3</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _sphinx">
				
				
<h1 id="connecting-to-your-database">Connecting to your Database</h1> <p>There are two ways to connect to a database:</p>  <h2 id="automatically-connecting">Automatically Connecting</h2> <p>The “auto connect” feature will load and instantiate the database class with every page load. To enable “auto connecting”, add the word database to the library array, as indicated in the following file:</p> <p>application/config/autoload.php</p>   <h2 id="manually-connecting">Manually Connecting</h2> <p>If only some of your pages require database connectivity you can manually connect to your database by adding this line of code in any function where it is needed, or in your class constructor to make the database available globally in that class.</p> <pre data-language="php">$this-&gt;load-&gt;database();
</pre> <p>If the above function does <strong>not</strong> contain any information in the first parameter it will connect to the group specified in your database config file. For most people, this is the preferred method of use.</p>  <h3 id="available-parameters">Available Parameters</h3> <ol class="arabic simple"> <li>The database connection values, passed either as an array or a DSN string.</li> <li>TRUE/FALSE (boolean). Whether to return the connection ID (see Connecting to Multiple Databases below).</li> <li>TRUE/FALSE (boolean). Whether to enable the Query Builder class. Set to TRUE by default.</li> </ol>   <h3 id="manually-connecting-to-a-database">Manually Connecting to a Database</h3> <p>The first parameter of this function can <strong>optionally</strong> be used to specify a particular database group from your config file, or you can even submit connection values for a database that is not specified in your config file. Examples:</p> <p>To choose a specific group from your config file you can do this:</p> <pre data-language="php">$this-&gt;load-&gt;database('group_name');
</pre> <p>Where group_name is the name of the connection group from your config file.</p> <p>To connect manually to a desired database you can pass an array of values:</p> <pre data-language="php">$config['hostname'] = 'localhost';
$config['username'] = 'myusername';
$config['password'] = 'mypassword';
$config['database'] = 'mydatabase';
$config['dbdriver'] = 'mysqli';
$config['dbprefix'] = '';
$config['pconnect'] = FALSE;
$config['db_debug'] = TRUE;
$config['cache_on'] = FALSE;
$config['cachedir'] = '';
$config['char_set'] = 'utf8';
$config['dbcollat'] = 'utf8_general_ci';
$this-&gt;load-&gt;database($config);
</pre> <p>For information on each of these values please see the <a class="reference internal" href="../configuration/"><span class="doc">configuration page</span></a>.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p>For the PDO driver, you should use the $config[‘dsn’] setting instead of ‘hostname’ and ‘database’:</p>  </div> <p>Or you can submit your database values as a Data Source Name. DSNs must have this prototype:</p> <pre data-language="php">$dsn = 'dbdriver://username:[email protected]/database';
$this-&gt;load-&gt;database($dsn);
</pre> <p>To override default config values when connecting with a DSN string, add the config variables as a query string.</p> <pre data-language="php">$dsn = 'dbdriver://username:[email protected]/database?char_set=utf8&amp;dbcollat=utf8_general_ci&amp;cache_on=true&amp;cachedir=/path/to/cache';
$this-&gt;load-&gt;database($dsn);
</pre>    <h2 id="connecting-to-multiple-databases">Connecting to Multiple Databases</h2> <p>If you need to connect to more than one database simultaneously you can do so as follows:</p> <pre data-language="php">$DB1 = $this-&gt;load-&gt;database('group_one', TRUE);
$DB2 = $this-&gt;load-&gt;database('group_two', TRUE);
</pre> <p>Note: Change the words “group_one” and “group_two” to the specific group names you are connecting to (or you can pass the connection values as indicated above).</p> <p>By setting the second parameter to TRUE (boolean) the function will return the database object.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p>When you connect this way, you will use your object name to issue commands rather than the syntax used throughout this guide. In other words, rather than issuing commands with:</p>  </div> <div class="admonition note"> <p class="first admonition-title">Note</p> <p>You don’t need to create separate database configurations if you only need to use a different database on the same connection. You can switch to a different database when you need to, like this:</p>  </div>   <h2 id="reconnecting-keeping-the-connection-alive">Reconnecting / Keeping the Connection Alive</h2> <p>If the database server’s idle timeout is exceeded while you’re doing some heavy PHP lifting (processing an image, for instance), you should consider pinging the server by using the reconnect() method before sending further queries, which can gracefully keep the connection alive or re-establish it.</p> <pre data-language="php">$this-&gt;db-&gt;reconnect();
</pre>   <h2 id="manually-closing-the-connection">Manually closing the Connection</h2> <p>While CodeIgniter intelligently takes care of closing your database connections, you can explicitly close the connection.</p> <pre data-language="php">$this-&gt;db-&gt;close();
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    © 2014–2018 British Columbia Institute of Technology<br>Licensed under the MIT License.<br>
    <a href="https://www.codeigniter.com/user_guide/database/connecting.html" class="_attribution-link" target="_blank">https://www.codeigniter.com/user_guide/database/connecting.html</a>
  </p>
</div>

				
			</div>
			<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
</amp-auto-ads>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
