
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Session Library - CodeIgniter 3 - W3cubDocs</title>
  
  <meta name="description" content=" The Session class permits you maintain a user’s “state” and track their activity while they browse your site. ">
  <meta name="keywords" content="session, library, -, codeigniter, codeigniter~3">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/codeigniter~3/libraries/sessions/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" integrity="sha256-6/DH7X+2hvUPElJfGsvzm+tgIpmM9zjbYxnpsr6gR1A=" crossorigin="anonymous" href="/assets/application-ebf0c7ed7fb686f50f12525f1acbf39beb6022998cf738db6319e9b2bea04750.css">
  <script type="text/javascript" src="/assets/application-db285287b40ed28fac520fcfd75d7d874692b647b5b5e05968c741dda5de4148.js" integrity="sha256-2yhSh7QO0o+sUg/P1119h0aStke1teBZaMdB3aXeQUg=" crossorigin="anonymous"></script>
  <script src="/json/codeigniter~3.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-2572770204602497",
            enable_page_level_ads: true
        });
  </script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/codeigniter~3/" class="_nav-link" title="" style="margin-left:0;">CodeIgniter 3</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _sphinx">
				
				
<h1 id="session-library">Session Library</h1> <p>The Session class permits you maintain a user’s “state” and track their activity while they browse your site.</p> <p>CodeIgniter comes with a few session storage drivers:</p>  <ul class="simple"> <li>files (default; file-system based)</li> <li>database</li> <li>redis</li> <li>memcached</li> </ul>  <p>In addition, you may create your own, custom session drivers based on other kinds of storage, while still taking advantage of the features of the Session class.</p>  <ul class="simple"> <li>
<a class="reference internal" href="#using-the-session-class" id="id3">Using the Session Class</a><ul> <li><a class="reference internal" href="#initializing-a-session" id="id4">Initializing a Session</a></li> <li>
<a class="reference internal" href="#how-do-sessions-work" id="id5">How do Sessions work?</a><ul> <li><a class="reference internal" href="#a-note-about-concurrency" id="id6">A note about concurrency</a></li> </ul> </li> <li><a class="reference internal" href="#what-is-session-data" id="id7">What is Session Data?</a></li> <li><a class="reference internal" href="#retrieving-session-data" id="id8">Retrieving Session Data</a></li> <li><a class="reference internal" href="#adding-session-data" id="id9">Adding Session Data</a></li> <li><a class="reference internal" href="#removing-session-data" id="id10">Removing Session Data</a></li> <li><a class="reference internal" href="#flashdata" id="id11">Flashdata</a></li> <li><a class="reference internal" href="#tempdata" id="id12">Tempdata</a></li> <li><a class="reference internal" href="#destroying-a-session" id="id13">Destroying a Session</a></li> <li><a class="reference internal" href="#accessing-session-metadata" id="id14">Accessing session metadata</a></li> <li><a class="reference internal" href="#session-preferences" id="id15">Session Preferences</a></li> <li>
<a class="reference internal" href="#session-drivers" id="id16">Session Drivers</a><ul> <li>
<a class="reference internal" href="#files-driver" id="id17">Files Driver</a><ul> <li><a class="reference internal" href="#bonus-tip" id="id18">Bonus Tip</a></li> </ul> </li> <li><a class="reference internal" href="#database-driver" id="id19">Database Driver</a></li> <li><a class="reference internal" href="#redis-driver" id="id20">Redis Driver</a></li> <li>
<a class="reference internal" href="#memcached-driver" id="id21">Memcached Driver</a><ul> <li><a class="reference internal" href="#id1" id="id22">Bonus Tip</a></li> </ul> </li> <li><a class="reference internal" href="#custom-drivers" id="id23">Custom Drivers</a></li> </ul> </li> </ul> </li> <li><a class="reference internal" href="#class-reference" id="id24">Class Reference</a></li> </ul>   <h2 id="using-the-session-class">Using the Session Class</h2>  <h3 id="initializing-a-session">Initializing a Session</h3> <p>Sessions will typically run globally with each page load, so the Session class should either be initialized in your <a class="reference internal" href="../../general/controllers/"><span class="doc">controller</span></a> constructors, or it can be <a class="reference internal" href="../../general/autoloader/"><span class="doc">auto-loaded</span></a> by the system. For the most part the session class will run unattended in the background, so simply initializing the class will cause it to read, create, and update sessions when necessary.</p> <p>To initialize the Session class manually in your controller constructor, use the <code>$this-&gt;load-&gt;library()</code> method:</p> <pre data-language="php">$this-&gt;load-&gt;library('session');
</pre> <p>Once loaded, the Sessions library object will be available using:</p> <pre data-language="php">$this-&gt;session
</pre> <div class="admonition important"> <p class="first admonition-title">Important</p> <p class="last">Because the <a class="reference internal" href="../loader/"><span class="doc">Loader Class</span></a> is instantiated by CodeIgniter’s base controller, make sure to call <code>parent::__construct()</code> before trying to load a library from inside a controller constructor.</p> </div>   <h3 id="how-do-sessions-work">How do Sessions work?</h3> <p>When a page is loaded, the session class will check to see if valid session cookie is sent by the user’s browser. If a sessions cookie does <strong>not</strong> exist (or if it doesn’t match one stored on the server or has expired) a new session will be created and saved.</p> <p>If a valid session does exist, its information will be updated. With each update, the session ID may be regenerated if configured to do so.</p> <p>It’s important for you to understand that once initialized, the Session class runs automatically. There is nothing you need to do to cause the above behavior to happen. You can, as you’ll see below, work with session data, but the process of reading, writing, and updating a session is automatic.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">Under CLI, the Session library will automatically halt itself, as this is a concept based entirely on the HTTP protocol.</p> </div>  <h4 id="a-note-about-concurrency">A note about concurrency</h4> <p>Unless you’re developing a website with heavy AJAX usage, you can skip this section. If you are, however, and if you’re experiencing performance issues, then this note is exactly what you’re looking for.</p> <p>Sessions in previous versions of CodeIgniter didn’t implement locking, which meant that two HTTP requests using the same session could run exactly at the same time. To use a more appropriate technical term - requests were non-blocking.</p> <p>However, non-blocking requests in the context of sessions also means unsafe, because modifications to session data (or session ID regeneration) in one request can interfere with the execution of a second, concurrent request. This detail was at the root of many issues and the main reason why CodeIgniter 3.0 has a completely re-written Session library.</p> <p>Why are we telling you this? Because it is likely that after trying to find the reason for your performance issues, you may conclude that locking is the issue and therefore look into how to remove the locks …</p> <p>DO NOT DO THAT! Removing locks would be <strong>wrong</strong> and it will cause you more problems!</p> <p>Locking is not the issue, it is a solution. Your issue is that you still have the session open, while you’ve already processed it and therefore no longer need it. So, what you need is to close the session for the current request after you no longer need it.</p> <p>Long story short - call <code>session_write_close()</code> once you no longer need anything to do with session variables.</p>    <h3 id="what-is-session-data">What is Session Data?</h3> <p>Session data is simply an array associated with a particular session ID (cookie).</p> <p>If you’ve used sessions in PHP before, you should be familiar with PHP’s <a class="reference external" href="http://php.net/manual/en/reserved.variables.session.php" target="_blank">$_SESSION superglobal</a> (if not, please read the content on that link).</p> <p>CodeIgniter gives access to its session data through the same means, as it uses the session handlers’ mechanism provided by PHP. Using session data is as simple as manipulating (read, set and unset values) the <code>$_SESSION</code> array.</p> <p>In addition, CodeIgniter also provides 2 special types of session data that are further explained below: flashdata and tempdata.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">In previous versions, regular session data in CodeIgniter was referred to as ‘userdata’. Have this in mind if that term is used elsewhere in the manual. Most of it is written to explain how the custom ‘userdata’ methods work.</p> </div>   <h3 id="retrieving-session-data">Retrieving Session Data</h3> <p>Any piece of information from the session array is available through the <code>$_SESSION</code> superglobal:</p> <pre data-language="php">$_SESSION['item']
</pre> <p>Or through the magic getter:</p> <pre data-language="php">$this-&gt;session-&gt;item
</pre> <p>And for backwards compatibility, through the <code>userdata()</code> method:</p> <pre data-language="php">$this-&gt;session-&gt;userdata('item');
</pre> <p>Where item is the array key corresponding to the item you wish to fetch. For example, to assign a previously stored ‘name’ item to the <code>$name</code> variable, you will do this:</p> <pre data-language="php">$name = $_SESSION['name'];

// or:

$name = $this-&gt;session-&gt;name

// or:

$name = $this-&gt;session-&gt;userdata('name');
</pre> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">The <code>userdata()</code> method returns NULL if the item you are trying to access does not exist.</p> </div> <p>If you want to retrieve all of the existing userdata, you can simply omit the item key (magic getter only works for properties):</p> <pre data-language="php">$_SESSION

// or:

$this-&gt;session-&gt;userdata();
</pre>   <h3 id="adding-session-data">Adding Session Data</h3> <p>Let’s say a particular user logs into your site. Once authenticated, you could add their username and e-mail address to the session, making that data globally available to you without having to run a database query when you need it.</p> <p>You can simply assign data to the <code>$_SESSION</code> array, as with any other variable. Or as a property of <code>$this-&gt;session</code>.</p> <p>Alternatively, the old method of assigning it as “userdata” is also available. That however passing an array containing your new data to the <code>set_userdata()</code> method:</p> <pre data-language="php">$this-&gt;session-&gt;set_userdata($array);
</pre> <p>Where <code>$array</code> is an associative array containing your new data. Here’s an example:</p> <pre data-language="php">$newdata = array(
        'username'  =&gt; 'johndoe',
        'email'     =&gt; '[email protected]',
        'logged_in' =&gt; TRUE
);

$this-&gt;session-&gt;set_userdata($newdata);
</pre> <p>If you want to add userdata one value at a time, <code>set_userdata()</code> also supports this syntax:</p> <pre data-language="php">$this-&gt;session-&gt;set_userdata('some_name', 'some_value');
</pre> <p>If you want to verify that a session value exists, simply check with <code>isset()</code>:</p> <pre data-language="php">// returns FALSE if the 'some_name' item doesn't exist or is NULL,
// TRUE otherwise:
isset($_SESSION['some_name'])
</pre> <p>Or you can call <code>has_userdata()</code>:</p> <pre data-language="php">$this-&gt;session-&gt;has_userdata('some_name');
</pre>   <h3 id="removing-session-data">Removing Session Data</h3> <p>Just as with any other variable, unsetting a value in <code>$_SESSION</code> can be done through <code>unset()</code>:</p> <pre data-language="php">unset($_SESSION['some_name']);

// or multiple values:

unset(
        $_SESSION['some_name'],
        $_SESSION['another_name']
);
</pre> <p>Also, just as <code>set_userdata()</code> can be used to add information to a session, <code>unset_userdata()</code> can be used to remove it, by passing the session key. For example, if you wanted to remove ‘some_name’ from your session data array:</p> <pre data-language="php">$this-&gt;session-&gt;unset_userdata('some_name');
</pre> <p>This method also accepts an array of item keys to unset:</p> <pre data-language="php">$array_items = array('username', 'email');

$this-&gt;session-&gt;unset_userdata($array_items);
</pre> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">In previous versions, the <code>unset_userdata()</code> method used to accept an associative array of <code>key =&gt; 'dummy value'</code> pairs. This is no longer supported.</p> </div>   <h3 id="flashdata">Flashdata</h3> <p>CodeIgniter supports “flashdata”, or session data that will only be available for the next request, and is then automatically cleared.</p> <p>This can be very useful, especially for one-time informational, error or status messages (for example: “Record 2 deleted”).</p> <p>It should be noted that flashdata variables are regular session vars, only marked in a specific way under the ‘__ci_vars’ key (please don’t touch that one, you’ve been warned).</p> <p>To mark an existing item as “flashdata”:</p> <pre data-language="php">$this-&gt;session-&gt;mark_as_flash('item');
</pre> <p>If you want to mark multiple items as flashdata, simply pass the keys as an array:</p> <pre data-language="php">$this-&gt;session-&gt;mark_as_flash(array('item', 'item2'));
</pre> <p>To add flashdata:</p> <pre data-language="php">$_SESSION['item'] = 'value';
$this-&gt;session-&gt;mark_as_flash('item');
</pre> <p>Or alternatively, using the <code>set_flashdata()</code> method:</p> <pre data-language="php">$this-&gt;session-&gt;set_flashdata('item', 'value');
</pre> <p>You can also pass an array to <code>set_flashdata()</code>, in the same manner as <code>set_userdata()</code>.</p> <p>Reading flashdata variables is the same as reading regular session data through <code>$_SESSION</code>:</p> <pre data-language="php">$_SESSION['item']
</pre> <div class="admonition important"> <p class="first admonition-title">Important</p> <p class="last">The <code>userdata()</code> method will NOT return flashdata items.</p> </div> <p>However, if you want to be sure that you’re reading “flashdata” (and not any other kind), you can also use the <code>flashdata()</code> method:</p> <pre data-language="php">$this-&gt;session-&gt;flashdata('item');
</pre> <p>Or to get an array with all flashdata, simply omit the key parameter:</p> <pre data-language="php">$this-&gt;session-&gt;flashdata();
</pre> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">The <code>flashdata()</code> method returns NULL if the item cannot be found.</p> </div> <p>If you find that you need to preserve a flashdata variable through an additional request, you can do so using the <code>keep_flashdata()</code> method. You can either pass a single item or an array of flashdata items to keep.</p> <pre data-language="php">$this-&gt;session-&gt;keep_flashdata('item');
$this-&gt;session-&gt;keep_flashdata(array('item1', 'item2', 'item3'));
</pre>   <h3 id="tempdata">Tempdata</h3> <p>CodeIgniter also supports “tempdata”, or session data with a specific expiration time. After the value expires, or the session expires or is deleted, the value is automatically removed.</p> <p>Similarly to flashdata, tempdata variables are regular session vars that are marked in a specific way under the ‘__ci_vars’ key (again, don’t touch that one).</p> <p>To mark an existing item as “tempdata”, simply pass its key and expiry time (in seconds!) to the <code>mark_as_temp()</code> method:</p> <pre data-language="php">// 'item' will be erased after 300 seconds
$this-&gt;session-&gt;mark_as_temp('item', 300);
</pre> <p>You can mark multiple items as tempdata in two ways, depending on whether you want them all to have the same expiry time or not:</p> <pre data-language="php">// Both 'item' and 'item2' will expire after 300 seconds
$this-&gt;session-&gt;mark_as_temp(array('item', 'item2'), 300);

// 'item' will be erased after 300 seconds, while 'item2'
// will do so after only 240 seconds
$this-&gt;session-&gt;mark_as_temp(array(
        'item'  =&gt; 300,
        'item2' =&gt; 240
));
</pre> <p>To add tempdata:</p> <pre data-language="php">$_SESSION['item'] = 'value';
$this-&gt;session-&gt;mark_as_temp('item', 300); // Expire in 5 minutes
</pre> <p>Or alternatively, using the <code>set_tempdata()</code> method:</p> <pre data-language="php">$this-&gt;session-&gt;set_tempdata('item', 'value', 300);
</pre> <p>You can also pass an array to <code>set_tempdata()</code>:</p> <pre data-language="php">$tempdata = array('newuser' =&gt; TRUE, 'message' =&gt; 'Thanks for joining!');

$this-&gt;session-&gt;set_tempdata($tempdata, NULL, $expire);
</pre> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">If the expiration is omitted or set to 0, the default time-to-live value of 300 seconds (or 5 minutes) will be used.</p> </div> <p>To read a tempdata variable, again you can just access it through the <code>$_SESSION</code> superglobal array:</p> <pre data-language="php">$_SESSION['item']
</pre> <div class="admonition important"> <p class="first admonition-title">Important</p> <p class="last">The <code>userdata()</code> method will NOT return tempdata items.</p> </div> <p>Or if you want to be sure that you’re reading “tempdata” (and not any other kind), you can also use the <code>tempdata()</code> method:</p> <pre data-language="php">$this-&gt;session-&gt;tempdata('item');
</pre> <p>And of course, if you want to retrieve all existing tempdata:</p> <pre data-language="php">$this-&gt;session-&gt;tempdata();
</pre> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">The <code>tempdata()</code> method returns NULL if the item cannot be found.</p> </div> <p>If you need to remove a tempdata value before it expires, you can directly unset it from the <code>$_SESSION</code> array:</p> <pre data-language="php">unset($_SESSION['item']);
</pre> <p>However, this won’t remove the marker that makes this specific item to be tempdata (it will be invalidated on the next HTTP request), so if you intend to reuse that same key in the same request, you’d want to use <code>unset_tempdata()</code>:</p> <pre data-language="php">$this-&gt;session-&gt;unset_tempdata('item');
</pre>   <h3 id="destroying-a-session">Destroying a Session</h3> <p>To clear the current session (for example, during a logout), you may simply use either PHP’s <a class="reference external" href="http://php.net/session_destroy" target="_blank">session_destroy()</a> function, or the <code>sess_destroy()</code> method. Both will work in exactly the same way:</p> <pre data-language="php">session_destroy();

// or

$this-&gt;session-&gt;sess_destroy();
</pre> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">This must be the last session-related operation that you do during the same request. All session data (including flashdata and tempdata) will be destroyed permanently and functions will be unusable during the same request after you destroy the session.</p> </div>   <h3 id="accessing-session-metadata">Accessing session metadata</h3> <p>In previous CodeIgniter versions, the session data array included 4 items by default: ‘session_id’, ‘ip_address’, ‘user_agent’, ‘last_activity’.</p> <p>This was due to the specifics of how sessions worked, but is now no longer necessary with our new implementation. However, it may happen that your application relied on these values, so here are alternative methods of accessing them:</p>  <ul class="simple"> <li>session_id: <code>session_id()</code>
</li> <li>ip_address: <code>$_SERVER['REMOTE_ADDR']</code>
</li> <li>user_agent: <code>$this-&gt;input-&gt;user_agent()</code> (unused by sessions)</li> <li>last_activity: Depends on the storage, no straightforward way. Sorry!</li> </ul>    <h3 id="session-preferences">Session Preferences</h3> <p>CodeIgniter will usually make everything work out of the box. However, Sessions are a very sensitive component of any application, so some careful configuration must be done. Please take your time to consider all of the options and their effects.</p> <p>You’ll find the following Session related preferences in your <strong>application/config/config.php</strong> file:</p> <table class="docutils">  <thead valign="bottom"> <tr>
<th class="head">Preference</th> <th class="head">Default</th> <th class="head">Options</th> <th class="head">Description</th> </tr> </thead>  <tr>
<td><strong>sess_driver</strong></td> <td>files</td> <td>files/database/redis/memcached/<em>custom</em>
</td> <td>The session storage driver to use.</td> </tr> <tr>
<td><strong>sess_cookie_name</strong></td> <td>ci_session</td> <td>[A-Za-z_-] characters only</td> <td>The name used for the session cookie.</td> </tr> <tr>
<td><strong>sess_expiration</strong></td> <td>7200 (2 hours)</td> <td>Time in seconds (integer)</td> <td>The number of seconds you would like the session to last. If you would like a non-expiring session (until browser is closed) set the value to zero: 0</td> </tr> <tr>
<td><strong>sess_save_path</strong></td> <td>NULL</td> <td>None</td> <td>Specifies the storage location, depends on the driver being used.</td> </tr> <tr>
<td><strong>sess_match_ip</strong></td> <td>FALSE</td> <td>TRUE/FALSE (boolean)</td> <td>Whether to validate the user’s IP address when reading the session cookie. Note that some ISPs dynamically changes the IP, so if you want a non-expiring session you will likely set this to FALSE.</td> </tr> <tr>
<td><strong>sess_time_to_update</strong></td> <td>300</td> <td>Time in seconds (integer)</td> <td>This option controls how often the session class will regenerate itself and create a new session ID. Setting it to 0 will disable session ID regeneration.</td> </tr> <tr>
<td><strong>sess_regenerate_destroy</strong></td> <td>FALSE</td> <td>TRUE/FALSE (boolean)</td> <td>Whether to destroy session data associated with the old session ID when auto-regenerating the session ID. When set to FALSE, the data will be later deleted by the garbage collector.</td> </tr>  </table> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">As a last resort, the Session library will try to fetch PHP’s session related INI settings, as well as legacy CI settings such as ‘sess_expire_on_close’ when any of the above is not configured. However, you should never rely on this behavior as it can cause unexpected results or be changed in the future. Please configure everything properly.</p> </div> <p>In addition to the values above, the cookie and native drivers apply the following configuration values shared by the <a class="reference internal" href="../input/"><span class="doc">Input</span></a> and <a class="reference internal" href="../security/"><span class="doc">Security</span></a> classes:</p> <table class="docutils">  <thead valign="bottom"> <tr>
<th class="head">Preference</th> <th class="head">Default</th> <th class="head">Description</th> </tr> </thead>  <tr>
<td><strong>cookie_domain</strong></td> <td>‘’</td> <td>The domain for which the session is applicable</td> </tr> <tr>
<td><strong>cookie_path</strong></td> <td>/</td> <td>The path to which the session is applicable</td> </tr> <tr>
<td><strong>cookie_secure</strong></td> <td>FALSE</td> <td>Whether to create the session cookie only on encrypted (HTTPS) connections</td> </tr>  </table> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">The ‘cookie_httponly’ setting doesn’t have an effect on sessions. Instead the HttpOnly parameter is always enabled, for security reasons. Additionally, the ‘cookie_prefix’ setting is completely ignored.</p> </div>   <h3 id="session-drivers">Session Drivers</h3> <p>As already mentioned, the Session library comes with 4 drivers, or storage engines, that you can use:</p>  <ul class="simple"> <li>files</li> <li>database</li> <li>redis</li> <li>memcached</li> </ul>  <p>By default, the <a class="reference internal" href="#files-driver">Files Driver</a> will be used when a session is initialized, because it is the most safe choice and is expected to work everywhere (virtually every environment has a file system).</p> <p>However, any other driver may be selected via the <code>$config['sess_driver']</code> line in your <strong>application/config/config.php</strong> file, if you chose to do so. Have it in mind though, every driver has different caveats, so be sure to get yourself familiar with them (below) before you make that choice.</p> <p>In addition, you may also create and use <a class="reference internal" href="#custom-drivers">Custom Drivers</a>, if the ones provided by default don’t satisfy your use case.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">In previous CodeIgniter versions, a different, “cookie driver” was the only option and we have received negative feedback on not providing that option. While we do listen to feedback from the community, we want to warn you that it was dropped because it is <strong>unsafe</strong> and we advise you NOT to try to replicate it via a custom driver.</p> </div>  <h4 id="files-driver">Files Driver</h4> <p>The ‘files’ driver uses your file system for storing session data.</p> <p>It can safely be said that it works exactly like PHP’s own default session implementation, but in case this is an important detail for you, have it mind that it is in fact not the same code and it has some limitations (and advantages).</p> <p>To be more specific, it doesn’t support PHP’s <a class="reference external" href="http://php.net/manual/en/session.configuration.php#ini.session.save-path" target="_blank">directory level and mode formats used in session.save_path</a>, and it has most of the options hard-coded for safety. Instead, only absolute paths are supported for <code>$config['sess_save_path']</code>.</p> <p>Another important thing that you should know, is to make sure that you don’t use a publicly-readable or shared directory for storing your session files. Make sure that <em>only you</em> have access to see the contents of your chosen <em>sess_save_path</em> directory. Otherwise, anybody who can do that, can also steal any of the current sessions (also known as “session fixation” attack).</p> <p>On UNIX-like operating systems, this is usually achieved by setting the 0700 mode permissions on that directory via the <code>chmod</code> command, which allows only the directory’s owner to perform read and write operations on it. But be careful because the system user <em>running</em> the script is usually not your own, but something like ‘www-data’ instead, so only setting those permissions will probable break your application.</p> <p>Instead, you should do something like this, depending on your environment</p> <pre data-language="php">mkdir /&lt;path to your application directory&gt;/sessions/
chmod 0700 /&lt;path to your application directory&gt;/sessions/
chown www-data /&lt;path to your application directory&gt;/sessions/
</pre>  <h5 id="bonus-tip">Bonus Tip</h5> <p>Some of you will probably opt to choose another session driver because file storage is usually slower. This is only half true.</p> <p>A very basic test will probably trick you into believing that an SQL database is faster, but in 99% of the cases, this is only true while you only have a few current sessions. As the sessions count and server loads increase - which is the time when it matters - the file system will consistently outperform almost all relational database setups.</p> <p>In addition, if performance is your only concern, you may want to look into using <a class="reference external" href="http://eddmann.com/posts/storing-php-sessions-file-caches-in-memory-using-tmpfs/" target="_blank">tmpfs</a>, (warning: external resource), which can make your sessions blazing fast.</p>    <h4 id="database-driver">Database Driver</h4> <p>The ‘database’ driver uses a relational database such as MySQL or PostgreSQL to store sessions. This is a popular choice among many users, because it allows the developer easy access to the session data within an application - it is just another table in your database.</p> <p>However, there are some conditions that must be met:</p>  <ul class="simple"> <li>Only your <strong>default</strong> database connection (or the one that you access as <code>$this-&gt;db</code> from your controllers) can be used.</li> <li>You must have the <a class="reference internal" href="../../database/query_builder/"><span class="doc">Query Builder</span></a> enabled.</li> <li>You can NOT use a persistent connection.</li> <li>You can NOT use a connection with the <em>cache_on</em> setting enabled.</li> </ul>  <p>In order to use the ‘database’ session driver, you must also create this table that we already mentioned and then set it as your <code>$config['sess_save_path']</code> value. For example, if you would like to use ‘ci_sessions’ as your table name, you would do this:</p> <pre data-language="php">$config['sess_driver'] = 'database';
$config['sess_save_path'] = 'ci_sessions';
</pre> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">If you’ve upgraded from a previous version of CodeIgniter and you don’t have ‘sess_save_path’ configured, then the Session library will look for the old ‘sess_table_name’ setting and use it instead. Please don’t rely on this behavior as it will get removed in the future.</p> </div> <p>And then of course, create the database table …</p> <p>For MySQL:</p> <pre data-language="php">CREATE TABLE IF NOT EXISTS `ci_sessions` (
        `id` varchar(128) NOT NULL,
        `ip_address` varchar(45) NOT NULL,
        `timestamp` int(10) unsigned DEFAULT 0 NOT NULL,
        `data` blob NOT NULL,
        KEY `ci_sessions_timestamp` (`timestamp`)
);
</pre> <p>For PostgreSQL:</p> <pre data-language="php">CREATE TABLE "ci_sessions" (
        "id" varchar(128) NOT NULL,
        "ip_address" varchar(45) NOT NULL,
        "timestamp" bigint DEFAULT 0 NOT NULL,
        "data" text DEFAULT '' NOT NULL
);

CREATE INDEX "ci_sessions_timestamp" ON "ci_sessions" ("timestamp");
</pre> <p>You will also need to add a PRIMARY KEY <strong>depending on your ‘sess_match_ip’ setting</strong>. The examples below work both on MySQL and PostgreSQL:</p> <pre data-language="php">// When sess_match_ip = TRUE
ALTER TABLE ci_sessions ADD PRIMARY KEY (id, ip_address);

// When sess_match_ip = FALSE
ALTER TABLE ci_sessions ADD PRIMARY KEY (id);

// To drop a previously created primary key (use when changing the setting)
ALTER TABLE ci_sessions DROP PRIMARY KEY;
</pre> <div class="admonition important"> <p class="first admonition-title">Important</p> <p class="last">Only MySQL and PostgreSQL databases are officially supported, due to lack of advisory locking mechanisms on other platforms. Using sessions without locks can cause all sorts of problems, especially with heavy usage of AJAX, and we will not support such cases. Use <code>session_write_close()</code> after you’ve done processing session data if you’re having performance issues.</p> </div>   <h4 id="redis-driver">Redis Driver</h4> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">Since Redis doesn’t have a locking mechanism exposed, locks for this driver are emulated by a separate value that is kept for up to 300 seconds.</p> </div> <p>Redis is a storage engine typically used for caching and popular because of its high performance, which is also probably your reason to use the ‘redis’ session driver.</p> <p>The downside is that it is not as ubiquitous as relational databases and requires the <a class="reference external" href="https://github.com/phpredis/phpredis" target="_blank">phpredis</a> PHP extension to be installed on your system, and that one doesn’t come bundled with PHP. Chances are, you’re only be using the ‘redis’ driver only if you’re already both familiar with Redis and using it for other purposes.</p> <p>Just as with the ‘files’ and ‘database’ drivers, you must also configure the storage location for your sessions via the <code>$config['sess_save_path']</code> setting. The format here is a bit different and complicated at the same time. It is best explained by the <em>phpredis</em> extension’s README file, so we’ll simply link you to it:</p>  <a class="reference external" href="https://github.com/phpredis/phpredis#php-session-handler" target="_blank">https://github.com/phpredis/phpredis#php-session-handler</a> <div class="admonition warning"> <p class="first admonition-title">Warning</p> <p class="last">CodeIgniter’s Session library does NOT use the actual ‘redis’ <code>session.save_handler</code>. Take note <strong>only</strong> of the path format in the link above.</p> </div> <p>For the most common case however, a simple <code>host:port</code> pair should be sufficient:</p> <pre data-language="php">$config['sess_driver'] = 'redis';
$config['sess_save_path'] = 'tcp://localhost:6379';
</pre>   <h4 id="memcached-driver">Memcached Driver</h4> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">Since Memcache doesn’t have a locking mechanism exposed, locks for this driver are emulated by a separate value that is kept for up to 300 seconds.</p> </div> <p>The ‘memcached’ driver is very similar to the ‘redis’ one in all of its properties, except perhaps for availability, because PHP’s <a class="reference external" href="http://php.net/memcached" target="_blank">Memcached</a> extension is distributed via PECL and some Linux distrubutions make it available as an easy to install package.</p> <p>Other than that, and without any intentional bias towards Redis, there’s not much different to be said about Memcached - it is also a popular product that is usually used for caching and famed for its speed.</p> <p>However, it is worth noting that the only guarantee given by Memcached is that setting value X to expire after Y seconds will result in it being deleted after Y seconds have passed (but not necessarily that it won’t expire earlier than that time). This happens very rarely, but should be considered as it may result in loss of sessions.</p> <p>The <code>$config['sess_save_path']</code> format is fairly straightforward here, being just a <code>host:port</code> pair:</p> <pre data-language="php">$config['sess_driver'] = 'memcached';
$config['sess_save_path'] = 'localhost:11211';
</pre>  <h5 id="id1">Bonus Tip</h5> <p>Multi-server configuration with an optional <em>weight</em> parameter as the third colon-separated (<code>:weight</code>) value is also supported, but we have to note that we haven’t tested if that is reliable.</p> <p>If you want to experiment with this feature (on your own risk), simply separate the multiple server paths with commas:</p> <pre data-language="php">// localhost will be given higher priority (5) here,
// compared to 192.0.2.1 with a weight of 1.
$config['sess_save_path'] = 'localhost:11211:5,192.0.2.1:11211:1';
</pre>    <h4 id="custom-drivers">Custom Drivers</h4> <p>You may also create your own, custom session drivers. However, have it in mind that this is typically not an easy task, as it takes a lot of knowledge to do it properly.</p> <p>You need to know not only how sessions work in general, but also how they work specifically in PHP, how the underlying storage mechanism works, how to handle concurrency, avoid deadlocks (but NOT through lack of locks) and last but not least - how to handle the potential security issues, which is far from trivial.</p> <p>Long story short - if you don’t know how to do that already in raw PHP, you shouldn’t be trying to do it within CodeIgniter either. You’ve been warned.</p> <p>If you only want to add some extra functionality to your sessions, just extend the base Session class, which is a lot more easier. Read the <a class="reference internal" href="../../general/creating_libraries/"><span class="doc">Creating Libraries</span></a> article to learn how to do that.</p> <p>Now, to the point - there are three general rules that you must follow when creating a session driver for CodeIgniter:</p>  <ul> <li>
<p class="first">Put your driver’s file under <strong>application/libraries/Session/drivers/</strong> and follow the naming conventions used by the Session class.</p> <p>For example, if you were to create a ‘dummy’ driver, you would have a <code>Session_dummy_driver</code> class name, that is declared in <em>application/libraries/Session/drivers/Session_dummy_driver.php</em>.</p> </li> <li>
<p class="first">Extend the <code>CI_Session_driver</code> class.</p> <p>This is just a basic class with a few internal helper methods. It is also extendable like any other library, if you really need to do that, but we are not going to explain how … if you’re familiar with how class extensions/overrides work in CI, then you already know how to do it. If not, well, you shouldn’t be doing it in the first place.</p> </li> <li>
<p class="first">Implement the <a class="reference external" href="http://php.net/sessionhandlerinterface" target="_blank">SessionHandlerInterface</a> interface.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">You may notice that <code>SessionHandlerInterface</code> is provided by PHP since version 5.4.0. CodeIgniter will automatically declare the same interface if you’re running an older PHP version.</p> </div> <p>The link will explain why and how.</p> </li> </ul>  <p>So, based on our ‘dummy’ driver example above, you’d end up with something like this:</p> <pre data-language="php">// application/libraries/Session/drivers/Session_dummy_driver.php:

class CI_Session_dummy_driver extends CI_Session_driver implements SessionHandlerInterface
{

        public function __construct(&amp;$params)
        {
                // DO NOT forget this
                parent::__construct($params);

                // Configuration &amp; other initializations
        }

        public function open($save_path, $name)
        {
                // Initialize storage mechanism (connection)
        }

        public function read($session_id)
        {
                // Read session data (if exists), acquire locks
        }

        public function write($session_id, $session_data)
        {
                // Create / update session data (it might not exist!)
        }

        public function close()
        {
                // Free locks, close connections / streams / etc.
        }

        public function destroy($session_id)
        {
                // Call close() method &amp; destroy data for current session (order may differ)
        }

        public function gc($maxlifetime)
        {
                // Erase data for expired sessions
        }

}
</pre> <p>If you’ve done everything properly, you can now set your <em>sess_driver</em> configuration value to ‘dummy’ and use your own driver. Congratulations!</p>     <h2 id="class-reference">Class Reference</h2> <dl class="class"> <dt id="CI_Session">
<code>class CI_Session</code> </dt> <dd>
<dl class="method"> <dt id="CI_Session::userdata">
<code>userdata([$key = NULL])</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$key</strong> (<em>mixed</em>) – Session item key or NULL</li> </ul> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">Value of the specified item key, or an array of all userdata</p> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">mixed</p> </td> </tr>  </table> <p>Gets the value for a specific <code>$_SESSION</code> item, or an array of all “userdata” items if not key was specified.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">This is a legacy method kept only for backwards compatibility with older applications. You should directly access <code>$_SESSION</code> instead.</p> </div> </dd>
</dl> <dl class="method"> <dt id="CI_Session::all_userdata">
<code>all_userdata()</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Returns:</th>
<td class="field-body">An array of all userdata</td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">array</td> </tr>  </table> <p>Returns an array containing all “userdata” items.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">This method is DEPRECATED. Use <code>userdata()</code> with no parameters instead.</p> </div> </dd>
</dl> <dl class="method"> <dt>
<code>&amp;get_userdata()</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Returns:</th>
<td class="field-body">A reference to <code>$_SESSION</code>
</td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">array</td> </tr>  </table> <p>Returns a reference to the <code>$_SESSION</code> array.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">This is a legacy method kept only for backwards compatibility with older applications.</p> </div> </dd>
</dl> <dl class="method"> <dt id="CI_Session::has_userdata">
<code>has_userdata($key)</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$key</strong> (<em>string</em>) – Session item key</li> </ul> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">TRUE if the specified key exists, FALSE if not</p> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">bool</p> </td> </tr>  </table> <p>Checks if an item exists in <code>$_SESSION</code>.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">This is a legacy method kept only for backwards compatibility with older applications. It is just an alias for <code>isset($_SESSION[$key])</code> - please use that instead.</p> </div> </dd>
</dl> <dl class="method"> <dt id="CI_Session::set_userdata">
<code>set_userdata($data[, $value = NULL])</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$data</strong> (<em>mixed</em>) – An array of key/value pairs to set as session data, or the key for a single item</li> <li>
<strong>$value</strong> (<em>mixed</em>) – The value to set for a specific session item, if $data is a key</li> </ul> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">void</p> </td> </tr>  </table> <p>Assigns data to the <code>$_SESSION</code> superglobal.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">This is a legacy method kept only for backwards compatibility with older applications.</p> </div> </dd>
</dl> <dl class="method"> <dt id="CI_Session::unset_userdata">
<code>unset_userdata($key)</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$key</strong> (<em>mixed</em>) – Key for the session data item to unset, or an array of multiple keys</li> </ul> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">void</p> </td> </tr>  </table> <p>Unsets the specified key(s) from the <code>$_SESSION</code> superglobal.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">This is a legacy method kept only for backwards compatibility with older applications. It is just an alias for <code>unset($_SESSION[$key])</code> - please use that instead.</p> </div> </dd>
</dl> <dl class="method"> <dt id="CI_Session::mark_as_flash">
<code>mark_as_flash($key)</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$key</strong> (<em>mixed</em>) – Key to mark as flashdata, or an array of multiple keys</li> </ul> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">TRUE on success, FALSE on failure</p> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">bool</p> </td> </tr>  </table> <p>Marks a <code>$_SESSION</code> item key (or multiple ones) as “flashdata”.</p> </dd>
</dl> <dl class="method"> <dt id="CI_Session::get_flash_keys">
<code>get_flash_keys()</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Returns:</th>
<td class="field-body">Array containing the keys of all “flashdata” items.</td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">array</td> </tr>  </table> <p>Gets a list of all <code>$_SESSION</code> that have been marked as “flashdata”.</p> </dd>
</dl> <dl class="method"> <dt id="CI_Session::unmark_flash">
<code>unmark_flash($key)</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$key</strong> (<em>mixed</em>) – Key to be un-marked as flashdata, or an array of multiple keys</li> </ul> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">void</p> </td> </tr>  </table> <p>Unmarks a <code>$_SESSION</code> item key (or multiple ones) as “flashdata”.</p> </dd>
</dl> <dl class="method"> <dt id="CI_Session::flashdata">
<code>flashdata([$key = NULL])</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$key</strong> (<em>mixed</em>) – Flashdata item key or NULL</li> </ul> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">Value of the specified item key, or an array of all flashdata</p> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">mixed</p> </td> </tr>  </table> <p>Gets the value for a specific <code>$_SESSION</code> item that has been marked as “flashdata”, or an array of all “flashdata” items if no key was specified.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">This is a legacy method kept only for backwards compatibility with older applications. You should directly access <code>$_SESSION</code> instead.</p> </div> </dd>
</dl> <dl class="method"> <dt id="CI_Session::keep_flashdata">
<code>keep_flashdata($key)</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$key</strong> (<em>mixed</em>) – Flashdata key to keep, or an array of multiple keys</li> </ul> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">TRUE on success, FALSE on failure</p> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">bool</p> </td> </tr>  </table> <p>Retains the specified session data key(s) as “flashdata” through the next request.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">This is a legacy method kept only for backwards compatibility with older applications. It is just an alias for the <code>mark_as_flash()</code> method.</p> </div> </dd>
</dl> <dl class="method"> <dt id="CI_Session::set_flashdata">
<code>set_flashdata($data[, $value = NULL])</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$data</strong> (<em>mixed</em>) – An array of key/value pairs to set as flashdata, or the key for a single item</li> <li>
<strong>$value</strong> (<em>mixed</em>) – The value to set for a specific session item, if $data is a key</li> </ul> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">void</p> </td> </tr>  </table> <p>Assigns data to the <code>$_SESSION</code> superglobal and marks it as “flashdata”.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">This is a legacy method kept only for backwards compatibility with older applications.</p> </div> </dd>
</dl> <dl class="method"> <dt id="CI_Session::mark_as_temp">
<code>mark_as_temp($key[, $ttl = 300])</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$key</strong> (<em>mixed</em>) – Key to mark as tempdata, or an array of multiple keys</li> <li>
<strong>$ttl</strong> (<em>int</em>) – Time-to-live value for the tempdata, in seconds</li> </ul> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">TRUE on success, FALSE on failure</p> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">bool</p> </td> </tr>  </table> <p>Marks a <code>$_SESSION</code> item key (or multiple ones) as “tempdata”.</p> </dd>
</dl> <dl class="method"> <dt id="CI_Session::get_temp_keys">
<code>get_temp_keys()</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Returns:</th>
<td class="field-body">Array containing the keys of all “tempdata” items.</td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">array</td> </tr>  </table> <p>Gets a list of all <code>$_SESSION</code> that have been marked as “tempdata”.</p> </dd>
</dl> <dl class="method"> <dt id="CI_Session::unmark_temp">
<code>unmark_temp($key)</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$key</strong> (<em>mixed</em>) – Key to be un-marked as tempdata, or an array of multiple keys</li> </ul> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">void</p> </td> </tr>  </table> <p>Unmarks a <code>$_SESSION</code> item key (or multiple ones) as “tempdata”.</p> </dd>
</dl> <dl class="method"> <dt id="CI_Session::tempdata">
<code>tempdata([$key = NULL])</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$key</strong> (<em>mixed</em>) – Tempdata item key or NULL</li> </ul> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">Value of the specified item key, or an array of all tempdata</p> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">mixed</p> </td> </tr>  </table> <p>Gets the value for a specific <code>$_SESSION</code> item that has been marked as “tempdata”, or an array of all “tempdata” items if no key was specified.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">This is a legacy method kept only for backwards compatibility with older applications. You should directly access <code>$_SESSION</code> instead.</p> </div> </dd>
</dl> <dl class="method"> <dt id="CI_Session::set_tempdata">
<code>set_tempdata($data[, $value = NULL])</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$data</strong> (<em>mixed</em>) – An array of key/value pairs to set as tempdata, or the key for a single item</li> <li>
<strong>$value</strong> (<em>mixed</em>) – The value to set for a specific session item, if $data is a key</li> <li>
<strong>$ttl</strong> (<em>int</em>) – Time-to-live value for the tempdata item(s), in seconds</li> </ul> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">void</p> </td> </tr>  </table> <p>Assigns data to the <code>$_SESSION</code> superglobal and marks it as “tempdata”.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">This is a legacy method kept only for backwards compatibility with older applications.</p> </div> </dd>
</dl> <dl class="method"> <dt id="CI_Session::sess_regenerate">
<code>sess_regenerate([$destroy = FALSE])</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$destroy</strong> (<em>bool</em>) – Whether to destroy session data</li> </ul> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">void</p> </td> </tr>  </table> <p>Regenerate session ID, optionally destroying the current session’s data.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">This method is just an alias for PHP’s native <a class="reference external" href="http://php.net/session_regenerate_id" target="_blank">session_regenerate_id()</a> function.</p> </div> </dd>
</dl> <dl class="method"> <dt id="CI_Session::sess_destroy">
<code>sess_destroy()</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Return type:</th>
<td class="field-body">void</td> </tr>  </table> <p>Destroys the current session.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">This must be the <em>last</em> session-related function that you call. All session data will be lost after you do that.</p> </div> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">This method is just an alias for PHP’s native <a class="reference external" href="http://php.net/session_destroy" target="_blank">session_destroy()</a> function.</p> </div> </dd>
</dl> <dl class="method"> <dt id="CI_Session::__get">
<code>__get($key)</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$key</strong> (<em>string</em>) – Session item key</li> </ul> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">The requested session data item, or NULL if it doesn’t exist</p> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">mixed</p> </td> </tr>  </table> <p>A magic method that allows you to use <code>$this-&gt;session-&gt;item</code> instead of <code>$_SESSION['item']</code>, if that’s what you prefer.</p> <p>It will also return the session ID by calling <code>session_id()</code> if you try to access <code>$this-&gt;session-&gt;session_id</code>.</p> </dd>
</dl> <dl class="method"> <dt id="CI_Session::__set">
<code>__set($key, $value)</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$key</strong> (<em>string</em>) – Session item key</li> <li>
<strong>$value</strong> (<em>mixed</em>) – Value to assign to the session item key</li> </ul> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first last">void</p> </td> </tr>  </table> <p>A magic method that allows you to assign items to <code>$_SESSION</code> by accessing them as <code>$this-&gt;session</code> properties:</p> <pre data-language="php">$this-&gt;session-&gt;foo = 'bar';

// Results in:
// $_SESSION['foo'] = 'bar';
</pre> </dd>
</dl> </dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
    © 2014–2018 British Columbia Institute of Technology<br>Licensed under the MIT License.<br>
    <a href="https://www.codeigniter.com/user_guide/libraries/sessions.html" class="_attribution-link" target="_blank">https://www.codeigniter.com/user_guide/libraries/sessions.html</a>
  </p>
</div>

				
			</div>
			<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
</amp-auto-ads>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
