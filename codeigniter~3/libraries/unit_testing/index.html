
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Unit Testing Class - CodeIgniter 3 - W3cubDocs</title>
  
  <meta name="description" content="Unit testing is an approach to software development in which tests are written for each function in your application. If you are not familiar with &hellip;">
  <meta name="keywords" content="unit, testing, class, -, codeigniter, codeigniter~3">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/codeigniter~3/libraries/unit_testing/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" integrity="sha256-6/DH7X+2hvUPElJfGsvzm+tgIpmM9zjbYxnpsr6gR1A=" crossorigin="anonymous" href="/assets/application-ebf0c7ed7fb686f50f12525f1acbf39beb6022998cf738db6319e9b2bea04750.css">
  <script type="text/javascript" src="/assets/application-db285287b40ed28fac520fcfd75d7d874692b647b5b5e05968c741dda5de4148.js" integrity="sha256-2yhSh7QO0o+sUg/P1119h0aStke1teBZaMdB3aXeQUg=" crossorigin="anonymous"></script>
  <script src="/json/codeigniter~3.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-2572770204602497",
            enable_page_level_ads: true
        });
  </script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/codeigniter~3/" class="_nav-link" title="" style="margin-left:0;">CodeIgniter 3</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _sphinx">
				
				
<h1 id="unit-testing-class">Unit Testing Class</h1> <p>Unit testing is an approach to software development in which tests are written for each function in your application. If you are not familiar with the concept you might do a little googling on the subject.</p> <p>CodeIgniter’s Unit Test class is quite simple, consisting of an evaluation function and two result functions. It’s not intended to be a full-blown test suite but rather a simple mechanism to evaluate your code to determine if it is producing the correct data type and result.</p>  <ul class="simple"> <li>
<a class="reference internal" href="#using-the-unit-testing-library" id="id1">Using the Unit Testing Library</a><ul> <li><a class="reference internal" href="#initializing-the-class" id="id2">Initializing the Class</a></li> <li><a class="reference internal" href="#running-tests" id="id3">Running Tests</a></li> <li><a class="reference internal" href="#generating-reports" id="id4">Generating Reports</a></li> <li><a class="reference internal" href="#strict-mode" id="id5">Strict Mode</a></li> <li><a class="reference internal" href="#enabling-disabling-unit-testing" id="id6">Enabling/Disabling Unit Testing</a></li> <li>
<a class="reference internal" href="#unit-test-display" id="id7">Unit Test Display</a><ul> <li><a class="reference internal" href="#customizing-displayed-tests" id="id8">Customizing displayed tests</a></li> <li><a class="reference internal" href="#creating-a-template" id="id9">Creating a Template</a></li> </ul> </li> </ul> </li> <li><a class="reference internal" href="#class-reference" id="id10">Class Reference</a></li> </ul>   <h2 id="using-the-unit-testing-library">Using the Unit Testing Library</h2>  <h3 id="initializing-the-class">Initializing the Class</h3> <p>Like most other classes in CodeIgniter, the Unit Test class is initialized in your controller using the $this-&gt;load-&gt;library function:</p> <pre data-language="php">$this-&gt;load-&gt;library('unit_test');
</pre> <p>Once loaded, the Unit Test object will be available using <code>$this-&gt;unit</code></p>   <h3 id="running-tests">Running Tests</h3> <p>Running a test involves supplying a test and an expected result in the following way:</p>  $this-&gt;unit-&gt;run(‘test’, ‘expected result’, ‘test name’, ‘notes’); <p>Where test is the result of the code you wish to test, expected result is the data type you expect, test name is an optional name you can give your test, and notes are optional notes. Example:</p> <pre data-language="php">$test = 1 + 1;

$expected_result = 2;

$test_name = 'Adds one plus one';

$this-&gt;unit-&gt;run($test, $expected_result, $test_name);
</pre> <p>The expected result you supply can either be a literal match, or a data type match. Here’s an example of a literal:</p> <pre data-language="php">$this-&gt;unit-&gt;run('Foo', 'Foo');
</pre> <p>Here is an example of a data type match:</p> <pre data-language="php">$this-&gt;unit-&gt;run('Foo', 'is_string');
</pre> <p>Notice the use of “is_string” in the second parameter? This tells the function to evaluate whether your test is producing a string as the result. Here is a list of allowed comparison types:</p> <ul class="simple"> <li>is_object</li> <li>is_string</li> <li>is_bool</li> <li>is_true</li> <li>is_false</li> <li>is_int</li> <li>is_numeric</li> <li>is_float</li> <li>is_double</li> <li>is_array</li> <li>is_null</li> <li>is_resource</li> </ul>   <h3 id="generating-reports">Generating Reports</h3> <p>You can either display results after each test, or your can run several tests and generate a report at the end. To show a report directly simply echo or return the run function:</p> <pre data-language="php">echo $this-&gt;unit-&gt;run($test, $expected_result);
</pre> <p>To run a full report of all tests, use this:</p> <pre data-language="php">echo $this-&gt;unit-&gt;report();
</pre> <p>The report will be formatted in an HTML table for viewing. If you prefer the raw data you can retrieve an array using:</p> <pre data-language="php">echo $this-&gt;unit-&gt;result();
</pre>   <h3 id="strict-mode">Strict Mode</h3> <p>By default the unit test class evaluates literal matches loosely. Consider this example:</p> <pre data-language="php">$this-&gt;unit-&gt;run(1, TRUE);
</pre> <p>The test is evaluating an integer, but the expected result is a boolean. PHP, however, due to it’s loose data-typing will evaluate the above code as TRUE using a normal equality test:</p> <pre data-language="php">if (1 == TRUE) echo 'This evaluates as true';
</pre> <p>If you prefer, you can put the unit test class in to strict mode, which will compare the data type as well as the value:</p> <pre data-language="php">if (1 === TRUE) echo 'This evaluates as FALSE';
</pre> <p>To enable strict mode use this:</p> <pre data-language="php">$this-&gt;unit-&gt;use_strict(TRUE);
</pre>   <h3 id="enabling-disabling-unit-testing">Enabling/Disabling Unit Testing</h3> <p>If you would like to leave some testing in place in your scripts, but not have it run unless you need it, you can disable unit testing using:</p> <pre data-language="php">$this-&gt;unit-&gt;active(FALSE);
</pre>   <h3 id="unit-test-display">Unit Test Display</h3> <p>When your unit test results display, the following items show by default:</p> <ul class="simple"> <li>Test Name (test_name)</li> <li>Test Datatype (test_datatype)</li> <li>Expected Datatype (res_datatype)</li> <li>Result (result)</li> <li>File Name (file)</li> <li>Line Number (line)</li> <li>Any notes you entered for the test (notes)</li> </ul> <p>You can customize which of these items get displayed by using $this-&gt;unit-&gt;set_test_items(). For example, if you only wanted the test name and the result displayed:</p>  <h4 id="customizing-displayed-tests">Customizing displayed tests</h4> <pre data-language="php">$this-&gt;unit-&gt;set_test_items(array('test_name', 'result'));
</pre>   <h4 id="creating-a-template">Creating a Template</h4> <p>If you would like your test results formatted differently then the default you can set your own template. Here is an example of a simple template. Note the required pseudo-variables:</p> <pre data-language="php">$str = '
&lt;table border="0" cellpadding="4" cellspacing="1"&gt;
{rows}
        &lt;tr&gt;
                &lt;td&gt;{item}&lt;/td&gt;
                &lt;td&gt;{result}&lt;/td&gt;
        &lt;/tr&gt;
{/rows}
&lt;/table&gt;';

$this-&gt;unit-&gt;set_template($str);
</pre> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">Your template must be declared <strong>before</strong> running the unit test process.</p> </div>     <h2 id="class-reference">Class Reference</h2> <dl class="class"> <dt id="CI_Unit_test">
<code>class CI_Unit_test</code> </dt> <dd>
<dl class="method"> <dt id="CI_Unit_test::set_test_items">
<code>set_test_items($items)</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$items</strong> (<em>array</em>) – List of visible test items</li> </ul> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first last">void</p> </td> </tr>  </table> <p>Sets a list of items that should be visible in tests. Valid options are:</p>  <ul class="simple"> <li>test_name</li> <li>test_datatype</li> <li>res_datatype</li> <li>result</li> <li>file</li> <li>line</li> <li>notes</li> </ul>  </dd>
</dl> <dl class="method"> <dt id="CI_Unit_test::run">
<code>run($test[, $expected = TRUE[, $test_name = 'undefined'[, $notes = '']]])</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$test</strong> (<em>mixed</em>) – Test data</li> <li>
<strong>$expected</strong> (<em>mixed</em>) – Expected result</li> <li>
<strong>$test_name</strong> (<em>string</em>) – Test name</li> <li>
<strong>$notes</strong> (<em>string</em>) – Any notes to be attached to the test</li> </ul> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">Test report</p> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">string</p> </td> </tr>  </table> <p>Runs unit tests.</p> </dd>
</dl> <dl class="method"> <dt id="CI_Unit_test::report">
<code>report([$result = array()])</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$result</strong> (<em>array</em>) – Array containing tests results</li> </ul> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">Test report</p> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">string</p> </td> </tr>  </table> <p>Generates a report about already complete tests.</p> </dd>
</dl> <dl class="method"> <dt id="CI_Unit_test::use_strict">
<code>use_strict([$state = TRUE])</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$state</strong> (<em>bool</em>) – Strict state flag</li> </ul> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">void</p> </td> </tr>  </table> <p>Enables/disables strict type comparison in tests.</p> </dd>
</dl> <dl class="method"> <dt id="CI_Unit_test::active">
<code>active([$state = TRUE])</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$state</strong> (<em>bool</em>) – Whether to enable testing</li> </ul> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">void</p> </td> </tr>  </table> <p>Enables/disables unit testing.</p> </dd>
</dl> <dl class="method"> <dt id="CI_Unit_test::result">
<code>result([$results = array()])</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$results</strong> (<em>array</em>) – Tests results list</li> </ul> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">Array of raw result data</p> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">array</p> </td> </tr>  </table> <p>Returns raw tests results data.</p> </dd>
</dl> <dl class="method"> <dt id="CI_Unit_test::set_template">
<code>set_template($template)</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$template</strong> (<em>string</em>) – Test result template</li> </ul> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">void</p> </td> </tr>  </table> <p>Sets the template for displaying tests results.</p> </dd>
</dl> </dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
    © 2014–2018 British Columbia Institute of Technology<br>Licensed under the MIT License.<br>
    <a href="https://www.codeigniter.com/user_guide/libraries/unit_testing.html" class="_attribution-link" target="_blank">https://www.codeigniter.com/user_guide/libraries/unit_testing.html</a>
  </p>
</div>

				
			</div>
			<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
</amp-auto-ads>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
