
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Form Validation - CodeIgniter 3 - W3cubDocs</title>
  
  <meta name="description" content=" CodeIgniter provides a comprehensive form validation and data prepping class that helps minimize the amount of code you’ll write. ">
  <meta name="keywords" content="form, validation, -, codeigniter, codeigniter~3">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/codeigniter~3/libraries/form_validation/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" integrity="sha256-6/DH7X+2hvUPElJfGsvzm+tgIpmM9zjbYxnpsr6gR1A=" crossorigin="anonymous" href="/assets/application-ebf0c7ed7fb686f50f12525f1acbf39beb6022998cf738db6319e9b2bea04750.css">
  <script type="text/javascript" src="/assets/application-db285287b40ed28fac520fcfd75d7d874692b647b5b5e05968c741dda5de4148.js" integrity="sha256-2yhSh7QO0o+sUg/P1119h0aStke1teBZaMdB3aXeQUg=" crossorigin="anonymous"></script>
  <script src="/json/codeigniter~3.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-2572770204602497",
            enable_page_level_ads: true
        });
  </script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/codeigniter~3/" class="_nav-link" title="" style="margin-left:0;">CodeIgniter 3</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _sphinx">
				
				
<h1 id="form-validation">Form Validation</h1> <p>CodeIgniter provides a comprehensive form validation and data prepping class that helps minimize the amount of code you’ll write.</p>  <p class="topic-title first">Page Contents</p> <ul class="simple"> <li>
<a class="reference internal" href="#form-validation" id="id6">Form Validation</a><ul> <li><a class="reference internal" href="#overview" id="id7">Overview</a></li> <li>
<a class="reference internal" href="#form-validation-tutorial" id="id8">Form Validation Tutorial</a><ul> <li><a class="reference internal" href="#the-form" id="id9">The Form</a></li> <li><a class="reference internal" href="#the-success-page" id="id10">The Success Page</a></li> <li><a class="reference internal" href="#the-controller" id="id11">The Controller</a></li> <li><a class="reference internal" href="#try-it" id="id12">Try it!</a></li> <li><a class="reference internal" href="#explanation" id="id13">Explanation</a></li> <li><a class="reference internal" href="#setting-validation-rules" id="id14">Setting Validation Rules</a></li> <li><a class="reference internal" href="#setting-rules-using-an-array" id="id15">Setting Rules Using an Array</a></li> <li><a class="reference internal" href="#cascading-rules" id="id16">Cascading Rules</a></li> <li><a class="reference internal" href="#prepping-data" id="id17">Prepping Data</a></li> <li><a class="reference internal" href="#re-populating-the-form" id="id18">Re-populating the form</a></li> <li><a class="reference internal" href="#callbacks-your-own-validation-methods" id="id19">Callbacks: Your own Validation Methods</a></li> <li><a class="reference internal" href="#callable-use-anything-as-a-rule" id="id20">Callable: Use anything as a rule</a></li> <li><a class="reference internal" href="#setting-error-messages" id="id21">Setting Error Messages</a></li> <li><a class="reference internal" href="#translating-field-names" id="id22">Translating Field Names</a></li> <li><a class="reference internal" href="#changing-the-error-delimiters" id="id23">Changing the Error Delimiters</a></li> <li><a class="reference internal" href="#showing-errors-individually" id="id24">Showing Errors Individually</a></li> <li><a class="reference internal" href="#validating-an-array-other-than-post" id="id25">Validating an Array (other than $_POST)</a></li> </ul> </li> <li>
<a class="reference internal" href="#saving-sets-of-validation-rules-to-a-config-file" id="id26">Saving Sets of Validation Rules to a Config File</a><ul> <li><a class="reference internal" href="#how-to-save-your-rules" id="id27">How to save your rules</a></li> <li><a class="reference internal" href="#creating-sets-of-rules" id="id28">Creating Sets of Rules</a></li> <li><a class="reference internal" href="#calling-a-specific-rule-group" id="id29">Calling a Specific Rule Group</a></li> <li><a class="reference internal" href="#associating-a-controller-method-with-a-rule-group" id="id30">Associating a Controller Method with a Rule Group</a></li> </ul> </li> <li><a class="reference internal" href="#using-arrays-as-field-names" id="id31">Using Arrays as Field Names</a></li> <li><a class="reference internal" href="#rule-reference" id="id32">Rule Reference</a></li> <li><a class="reference internal" href="#prepping-reference" id="id33">Prepping Reference</a></li> <li><a class="reference internal" href="#class-reference" id="id34">Class Reference</a></li> <li><a class="reference internal" href="#helper-reference" id="id35">Helper Reference</a></li> </ul> </li> </ul>   <h2 id="overview">Overview</h2> <p>Before explaining CodeIgniter’s approach to data validation, let’s describe the ideal scenario:</p> <ol class="arabic simple"> <li>A form is displayed.</li> <li>You fill it in and submit it.</li> <li>If you submitted something invalid, or perhaps missed a required item, the form is redisplayed containing your data along with an error message describing the problem.</li> <li>This process continues until you have submitted a valid form.</li> </ol> <p>On the receiving end, the script must:</p> <ol class="arabic simple"> <li>Check for required data.</li> <li>Verify that the data is of the correct type, and meets the correct criteria. For example, if a username is submitted it must be validated to contain only permitted characters. It must be of a minimum length, and not exceed a maximum length. The username can’t be someone else’s existing username, or perhaps even a reserved word. Etc.</li> <li>Sanitize the data for security.</li> <li>Pre-format the data if needed (Does the data need to be trimmed? HTML encoded? Etc.)</li> <li>Prep the data for insertion in the database.</li> </ol> <p>Although there is nothing terribly complex about the above process, it usually requires a significant amount of code, and to display error messages, various control structures are usually placed within the form HTML. Form validation, while simple to create, is generally very messy and tedious to implement.</p>   <h2 id="form-validation-tutorial">Form Validation Tutorial</h2> <p>What follows is a “hands on” tutorial for implementing CodeIgniters Form Validation.</p> <p>In order to implement form validation you’ll need three things:</p> <ol class="arabic simple"> <li>A <a class="reference internal" href="../../general/views/"><span class="doc">View</span></a> file containing a form.</li> <li>A View file containing a “success” message to be displayed upon successful submission.</li> <li>A <a class="reference internal" href="../../general/controllers/"><span class="doc">controller</span></a> method to receive and process the submitted data.</li> </ol> <p>Let’s create those three things, using a member sign-up form as the example.</p>  <h3 id="the-form">The Form</h3> <p>Using a text editor, create a form called myform.php. In it, place this code and save it to your application/views/ folder:</p> <pre data-language="php">&lt;html&gt;
&lt;head&gt;
&lt;title&gt;My Form&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;?php echo validation_errors(); ?&gt;

&lt;?php echo form_open('form'); ?&gt;

&lt;h5&gt;Username&lt;/h5&gt;
&lt;input type="text" name="username" value="" size="50" /&gt;

&lt;h5&gt;Password&lt;/h5&gt;
&lt;input type="text" name="password" value="" size="50" /&gt;

&lt;h5&gt;Password Confirm&lt;/h5&gt;
&lt;input type="text" name="passconf" value="" size="50" /&gt;

&lt;h5&gt;Email Address&lt;/h5&gt;
&lt;input type="text" name="email" value="" size="50" /&gt;

&lt;div&gt;&lt;input type="submit" value="Submit" /&gt;&lt;/div&gt;

&lt;/form&gt;

&lt;/body&gt;
&lt;/html&gt;
</pre>   <h3 id="the-success-page">The Success Page</h3> <p>Using a text editor, create a form called formsuccess.php. In it, place this code and save it to your application/views/ folder:</p> <pre data-language="php">&lt;html&gt;
&lt;head&gt;
&lt;title&gt;My Form&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;h3&gt;Your form was successfully submitted!&lt;/h3&gt;

&lt;p&gt;&lt;?php echo anchor('form', 'Try it again!'); ?&gt;&lt;/p&gt;

&lt;/body&gt;
&lt;/html&gt;
</pre>   <h3 id="the-controller">The Controller</h3> <p>Using a text editor, create a controller called Form.php. In it, place this code and save it to your application/controllers/ folder:</p> <pre data-language="php">&lt;?php

class Form extends CI_Controller {

        public function index()
        {
                $this-&gt;load-&gt;helper(array('form', 'url'));

                $this-&gt;load-&gt;library('form_validation');

                if ($this-&gt;form_validation-&gt;run() == FALSE)
                {
                        $this-&gt;load-&gt;view('myform');
                }
                else
                {
                        $this-&gt;load-&gt;view('formsuccess');
                }
        }
}
</pre>   <h3 id="try-it">Try it!</h3> <p>To try your form, visit your site using a URL similar to this one:</p> <pre data-language="php">example.com/index.php/form/
</pre> <p>If you submit the form you should simply see the form reload. That’s because you haven’t set up any validation rules yet.</p> <p><strong>Since you haven’t told the Form Validation class to validate anything yet, it returns FALSE (boolean false) by default. ``The run()`` method only returns TRUE if it has successfully applied your rules without any of them failing.</strong></p>   <h3 id="explanation">Explanation</h3> <p>You’ll notice several things about the above pages:</p> <p>The form (myform.php) is a standard web form with a couple exceptions:</p> <ol class="arabic"> <li>It uses a form helper to create the form opening. Technically, this isn’t necessary. You could create the form using standard HTML. However, the benefit of using the helper is that it generates the action URL for you, based on the URL in your config file. This makes your application more portable in the event your URLs change. </li> <li>
<p class="first">At the top of the form you’ll notice the following function call:</p> <pre data-language="php">&lt;?php echo validation_errors(); ?&gt;
</pre> <p>This function will return any error messages sent back by the validator. If there are no messages it returns an empty string.</p> </li> </ol> <p>The controller (Form.php) has one method: <code>index()</code>. This method initializes the validation class and loads the form helper and URL helper used by your view files. It also runs the validation routine. Based on whether the validation was successful it either presents the form or the success page.</p>   <h3 id="id1">Setting Validation Rules</h3> <p id="setting-validation-rules">CodeIgniter lets you set as many validation rules as you need for a given field, cascading them in order, and it even lets you prep and pre-process the field data at the same time. To set validation rules you will use the <code>set_rules()</code> method:</p> <pre data-language="php">$this-&gt;form_validation-&gt;set_rules();
</pre> <p>The above method takes <strong>three</strong> parameters as input:</p> <ol class="arabic simple"> <li>The field name - the exact name you’ve given the form field.</li> <li>A “human” name for this field, which will be inserted into the error message. For example, if your field is named “user” you might give it a human name of “Username”.</li> <li>The validation rules for this form field.</li> <li>(optional) Set custom error messages on any rules given for current field. If not provided will use the default one.</li> </ol> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">If you would like the field name to be stored in a language file, please see <a class="reference internal" href="#translating-field-names"><span class="std std-ref">Translating Field Names</span></a>.</p> </div> <p>Here is an example. In your controller (Form.php), add this code just below the validation initialization method:</p> <pre data-language="php">$this-&gt;form_validation-&gt;set_rules('username', 'Username', 'required');
$this-&gt;form_validation-&gt;set_rules('password', 'Password', 'required');
$this-&gt;form_validation-&gt;set_rules('passconf', 'Password Confirmation', 'required');
$this-&gt;form_validation-&gt;set_rules('email', 'Email', 'required');
</pre> <p>Your controller should now look like this:</p> <pre data-language="php">&lt;?php

class Form extends CI_Controller {

        public function index()
        {
                $this-&gt;load-&gt;helper(array('form', 'url'));

                $this-&gt;load-&gt;library('form_validation');

                $this-&gt;form_validation-&gt;set_rules('username', 'Username', 'required');
                $this-&gt;form_validation-&gt;set_rules('password', 'Password', 'required',
                        array('required' =&gt; 'You must provide a %s.')
                );
                $this-&gt;form_validation-&gt;set_rules('passconf', 'Password Confirmation', 'required');
                $this-&gt;form_validation-&gt;set_rules('email', 'Email', 'required');

                if ($this-&gt;form_validation-&gt;run() == FALSE)
                {
                        $this-&gt;load-&gt;view('myform');
                }
                else
                {
                        $this-&gt;load-&gt;view('formsuccess');
                }
        }
}
</pre> <p>Now submit the form with the fields blank and you should see the error messages. If you submit the form with all the fields populated you’ll see your success page.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">The form fields are not yet being re-populated with the data when there is an error. We’ll get to that shortly.</p> </div>   <h3 id="setting-rules-using-an-array">Setting Rules Using an Array</h3> <p>Before moving on it should be noted that the rule setting method can be passed an array if you prefer to set all your rules in one action. If you use this approach, you must name your array keys as indicated:</p> <pre data-language="php">$config = array(
        array(
                'field' =&gt; 'username',
                'label' =&gt; 'Username',
                'rules' =&gt; 'required'
        ),
        array(
                'field' =&gt; 'password',
                'label' =&gt; 'Password',
                'rules' =&gt; 'required',
                'errors' =&gt; array(
                        'required' =&gt; 'You must provide a %s.',
                ),
        ),
        array(
                'field' =&gt; 'passconf',
                'label' =&gt; 'Password Confirmation',
                'rules' =&gt; 'required'
        ),
        array(
                'field' =&gt; 'email',
                'label' =&gt; 'Email',
                'rules' =&gt; 'required'
        )
);

$this-&gt;form_validation-&gt;set_rules($config);
</pre>   <h3 id="cascading-rules">Cascading Rules</h3> <p>CodeIgniter lets you pipe multiple rules together. Let’s try it. Change your rules in the third parameter of rule setting method, like this:</p> <pre data-language="php">$this-&gt;form_validation-&gt;set_rules(
        'username', 'Username',
        'required|min_length[5]|max_length[12]|is_unique[users.username]',
        array(
                'required'      =&gt; 'You have not provided %s.',
                'is_unique'     =&gt; 'This %s already exists.'
        )
);
$this-&gt;form_validation-&gt;set_rules('password', 'Password', 'required');
$this-&gt;form_validation-&gt;set_rules('passconf', 'Password Confirmation', 'required|matches[password]');
$this-&gt;form_validation-&gt;set_rules('email', 'Email', 'required|valid_email|is_unique[users.email]');
</pre> <p>The above code sets the following rules:</p> <ol class="arabic simple"> <li>The username field be no shorter than 5 characters and no longer than 12.</li> <li>The password field must match the password confirmation field.</li> <li>The email field must contain a valid email address.</li> </ol> <p>Give it a try! Submit your form without the proper data and you’ll see new error messages that correspond to your new rules. There are numerous rules available which you can read about in the validation reference.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p>You can also pass an array of rules to <code>set_rules()</code>, instead of a string. Example:</p> <pre data-language="php">$this-&gt;form_validation-&gt;set_rules('username', 'Username', array('required', 'min_length[5]'));
</pre> </div>   <h3 id="prepping-data">Prepping Data</h3> <p>In addition to the validation method like the ones we used above, you can also prep your data in various ways. For example, you can set up rules like this:</p> <pre data-language="php">$this-&gt;form_validation-&gt;set_rules('username', 'Username', 'trim|required|min_length[5]|max_length[12]');
$this-&gt;form_validation-&gt;set_rules('password', 'Password', 'trim|required|min_length[8]');
$this-&gt;form_validation-&gt;set_rules('passconf', 'Password Confirmation', 'trim|required|matches[password]');
$this-&gt;form_validation-&gt;set_rules('email', 'Email', 'trim|required|valid_email');
</pre> <p>In the above example, we are “trimming” the fields, checking for length where necessary and making sure that both password fields match.</p> <p><strong>Any native PHP function that accepts one parameter can be used as a rule, like ``htmlspecialchars()``, ``trim()``, etc.</strong></p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">You will generally want to use the prepping functions <strong>after</strong> the validation rules so if there is an error, the original data will be shown in the form.</p> </div>   <h3 id="re-populating-the-form">Re-populating the form</h3> <p>Thus far we have only been dealing with errors. It’s time to repopulate the form field with the submitted data. CodeIgniter offers several helper functions that permit you to do this. The one you will use most commonly is:</p> <pre data-language="php">set_value('field name')
</pre> <p>Open your myform.php view file and update the <strong>value</strong> in each field using the <a class="reference internal" href="../../helpers/form_helper/#set_value" title="set_value"><code>set_value()</code></a> function:</p> <p><strong>Don’t forget to include each field name in the :php:func:`set_value()` function calls!</strong></p> <pre data-language="php">&lt;html&gt;
&lt;head&gt;
&lt;title&gt;My Form&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;?php echo validation_errors(); ?&gt;

&lt;?php echo form_open('form'); ?&gt;

&lt;h5&gt;Username&lt;/h5&gt;
&lt;input type="text" name="username" value="&lt;?php echo set_value('username'); ?&gt;" size="50" /&gt;

&lt;h5&gt;Password&lt;/h5&gt;
&lt;input type="text" name="password" value="&lt;?php echo set_value('password'); ?&gt;" size="50" /&gt;

&lt;h5&gt;Password Confirm&lt;/h5&gt;
&lt;input type="text" name="passconf" value="&lt;?php echo set_value('passconf'); ?&gt;" size="50" /&gt;

&lt;h5&gt;Email Address&lt;/h5&gt;
&lt;input type="text" name="email" value="&lt;?php echo set_value('email'); ?&gt;" size="50" /&gt;

&lt;div&gt;&lt;input type="submit" value="Submit" /&gt;&lt;/div&gt;

&lt;/form&gt;

&lt;/body&gt;
&lt;/html&gt;
</pre> <p>Now reload your page and submit the form so that it triggers an error. Your form fields should now be re-populated</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">The <a class="reference internal" href="#class-reference"><span class="std std-ref">Class Reference</span></a> section below contains methods that permit you to re-populate &lt;select&gt; menus, radio buttons, and checkboxes.</p> </div> <div class="admonition important"> <p class="first admonition-title">Important</p> <p>If you use an array as the name of a form field, you must supply it as an array to the function. Example:</p> <pre data-language="php">&lt;input type="text" name="colors[]" value="&lt;?php echo set_value('colors[]'); ?&gt;" size="50" /&gt;
</pre> </div> <p>For more info please see the <a class="reference internal" href="#using-arrays-as-field-names"><span class="std std-ref">Using Arrays as Field Names</span></a> section below.</p>   <h3 id="callbacks-your-own-validation-methods">Callbacks: Your own Validation Methods</h3> <p>The validation system supports callbacks to your own validation methods. This permits you to extend the validation class to meet your needs. For example, if you need to run a database query to see if the user is choosing a unique username, you can create a callback method that does that. Let’s create an example of this.</p> <p>In your controller, change the “username” rule to this:</p> <pre data-language="php">$this-&gt;form_validation-&gt;set_rules('username', 'Username', 'callback_username_check');
</pre> <p>Then add a new method called <code>username_check()</code> to your controller. Here’s how your controller should now look:</p> <pre data-language="php">&lt;?php

class Form extends CI_Controller {

        public function index()
        {
                $this-&gt;load-&gt;helper(array('form', 'url'));

                $this-&gt;load-&gt;library('form_validation');

                $this-&gt;form_validation-&gt;set_rules('username', 'Username', 'callback_username_check');
                $this-&gt;form_validation-&gt;set_rules('password', 'Password', 'required');
                $this-&gt;form_validation-&gt;set_rules('passconf', 'Password Confirmation', 'required');
                $this-&gt;form_validation-&gt;set_rules('email', 'Email', 'required|is_unique[users.email]');

                if ($this-&gt;form_validation-&gt;run() == FALSE)
                {
                        $this-&gt;load-&gt;view('myform');
                }
                else
                {
                        $this-&gt;load-&gt;view('formsuccess');
                }
        }

        public function username_check($str)
        {
                if ($str == 'test')
                {
                        $this-&gt;form_validation-&gt;set_message('username_check', 'The {field} field can not be the word "test"');
                        return FALSE;
                }
                else
                {
                        return TRUE;
                }
        }

}
</pre> <p>Reload your form and submit it with the word “test” as the username. You can see that the form field data was passed to your callback method for you to process.</p> <p>To invoke a callback just put the method name in a rule, with “callback_” as the rule <strong>prefix</strong>. If you need to receive an extra parameter in your callback method, just add it normally after the method name between square brackets, as in: <code>callback_foo[bar]</code>, then it will be passed as the second argument of your callback method.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">You can also process the form data that is passed to your callback and return it. If your callback returns anything other than a boolean TRUE/FALSE it is assumed that the data is your newly processed form data.</p> </div>   <h3 id="callable-use-anything-as-a-rule">Callable: Use anything as a rule</h3> <p>If callback rules aren’t good enough for you (for example, because they are limited to your controller), don’t get disappointed, there’s one more way to create custom rules: anything that <code>is_callable()</code> would return TRUE for.</p> <p>Consider the following example:</p> <pre data-language="php">$this-&gt;form_validation-&gt;set_rules(
        'username', 'Username',
        array(
                'required',
                array($this-&gt;users_model, 'valid_username')
        )
);
</pre> <p>The above code would use the <code>valid_username()</code> method from your <code>Users_model</code> object.</p> <p>This is just an example of course, and callbacks aren’t limited to models. You can use any object/method that accepts the field value as its’ first parameter. You can also use an anonymous function:</p> <pre data-language="php">$this-&gt;form_validation-&gt;set_rules(
        'username', 'Username',
        array(
                'required',
                function($value)
                {
                        // Check $value
                }
        )
);
</pre> <p>Of course, since a Callable rule by itself is not a string, it isn’t a rule name either. That is a problem when you want to set error messages for them. In order to get around that problem, you can put such rules as the second element of an array, with the first one being the rule name:</p> <pre data-language="php">$this-&gt;form_validation-&gt;set_rules(
        'username', 'Username',
        array(
                'required',
                array('username_callable', array($this-&gt;users_model, 'valid_username'))
        )
);
</pre> <p>Anonymous function version:</p> <pre data-language="php">$this-&gt;form_validation-&gt;set_rules(
        'username', 'Username',
        array(
                'required',
                array(
                        'username_callable',
                        function($str)
                        {
                                // Check validity of $str and return TRUE or FALSE
                        }
                )
        )
);
</pre>   <h3 id="id2">Setting Error Messages</h3> <p id="setting-error-messages">All of the native error messages are located in the following language file: <strong>system/language/english/form_validation_lang.php</strong></p> <p>To set your own global custom message for a rule, you can either extend/override the language file by creating your own in <strong>application/language/english/form_validation_lang.php</strong> (read more about this in the <a class="reference internal" href="../language/"><span class="doc">Language Class</span></a> documentation), or use the following method:</p> <pre data-language="php">$this-&gt;form_validation-&gt;set_message('rule', 'Error Message');
</pre> <p>If you need to set a custom error message for a particular field on some particular rule, use the set_rules() method:</p> <pre data-language="php">$this-&gt;form_validation-&gt;set_rules('field_name', 'Field Label', 'rule1|rule2|rule3',
        array('rule2' =&gt; 'Error Message on rule2 for this field_name')
);
</pre> <p>Where rule corresponds to the name of a particular rule, and Error Message is the text you would like displayed.</p> <p>If you’d like to include a field’s “human” name, or the optional parameter some rules allow for (such as max_length), you can add the <strong>{field}</strong> and <strong>{param}</strong> tags to your message, respectively:</p> <pre data-language="php">$this-&gt;form_validation-&gt;set_message('min_length', '{field} must have at least {param} characters.');
</pre> <p>On a field with the human name Username and a rule of min_length[5], an error would display: “Username must have at least 5 characters.”</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">The old <code>sprintf()</code> method of using <strong>%s</strong> in your error messages will still work, however it will override the tags above. You should use one or the other.</p> </div> <p>In the callback rule example above, the error message was set by passing the name of the method (without the “callback_” prefix):</p> <pre data-language="php">$this-&gt;form_validation-&gt;set_message('username_check')
</pre>   <h3 id="id3">Translating Field Names</h3> <p id="translating-field-names">If you would like to store the “human” name you passed to the <code>set_rules()</code> method in a language file, and therefore make the name able to be translated, here’s how:</p> <p>First, prefix your “human” name with <strong>lang:</strong>, as in this example:</p> <pre data-language="php">$this-&gt;form_validation-&gt;set_rules('first_name', 'lang:first_name', 'required');
</pre> <p>Then, store the name in one of your language file arrays (without the prefix):</p> <pre data-language="php">$lang['first_name'] = 'First Name';
</pre> <div class="admonition note"> <p class="first admonition-title">Note</p> <p>If you store your array item in a language file that is not loaded automatically by CI, you’ll need to remember to load it in your controller using:</p> <pre data-language="php">$this-&gt;lang-&gt;load('file_name');
</pre> </div> <p>See the <a class="reference internal" href="../language/"><span class="doc">Language Class</span></a> page for more info regarding language files.</p>   <h3 id="changing-delimiters">Changing the Error Delimiters</h3> <p id="changing-the-error-delimiters">By default, the Form Validation class adds a paragraph tag (&lt;p&gt;) around each error message shown. You can either change these delimiters globally, individually, or change the defaults in a config file.</p> <ol class="arabic"> <li>
<p class="first"><strong>Changing delimiters Globally</strong> To globally change the error delimiters, in your controller method, just after loading the Form Validation class, add this:</p> <pre data-language="php">$this-&gt;form_validation-&gt;set_error_delimiters('&lt;div class="error"&gt;', '&lt;/div&gt;');
</pre> <p>In this example, we’ve switched to using div tags.</p> </li> <li>
<p class="first"><strong>Changing delimiters Individually</strong> Each of the two error generating functions shown in this tutorial can be supplied their own delimiters as follows:</p> <pre data-language="php">&lt;?php echo form_error('field name', '&lt;div class="error"&gt;', '&lt;/div&gt;'); ?&gt;
</pre> <p>Or:</p> <pre data-language="php">&lt;?php echo validation_errors('&lt;div class="error"&gt;', '&lt;/div&gt;'); ?&gt;
</pre> </li> <li>
<p class="first"><strong>Set delimiters in a config file</strong> You can add your error delimiters in application/config/form_validation.php as follows:</p> <pre data-language="php">$config['error_prefix'] = '&lt;div class="error_prefix"&gt;';
$config['error_suffix'] = '&lt;/div&gt;';
</pre> </li> </ol>   <h3 id="showing-errors-individually">Showing Errors Individually</h3> <p>If you prefer to show an error message next to each form field, rather than as a list, you can use the <a class="reference internal" href="../../helpers/form_helper/#form_error" title="form_error"><code>form_error()</code></a> function.</p> <p>Try it! Change your form so that it looks like this:</p> <pre data-language="php">&lt;h5&gt;Username&lt;/h5&gt;
&lt;?php echo form_error('username'); ?&gt;
&lt;input type="text" name="username" value="&lt;?php echo set_value('username'); ?&gt;" size="50" /&gt;

&lt;h5&gt;Password&lt;/h5&gt;
&lt;?php echo form_error('password'); ?&gt;
&lt;input type="text" name="password" value="&lt;?php echo set_value('password'); ?&gt;" size="50" /&gt;

&lt;h5&gt;Password Confirm&lt;/h5&gt;
&lt;?php echo form_error('passconf'); ?&gt;
&lt;input type="text" name="passconf" value="&lt;?php echo set_value('passconf'); ?&gt;" size="50" /&gt;

&lt;h5&gt;Email Address&lt;/h5&gt;
&lt;?php echo form_error('email'); ?&gt;
&lt;input type="text" name="email" value="&lt;?php echo set_value('email'); ?&gt;" size="50" /&gt;
</pre> <p>If there are no errors, nothing will be shown. If there is an error, the message will appear.</p> <div class="admonition important"> <p class="first admonition-title">Important</p> <p>If you use an array as the name of a form field, you must supply it as an array to the function. Example:</p> <pre data-language="php">&lt;?php echo form_error('options[size]'); ?&gt;
&lt;input type="text" name="options[size]" value="&lt;?php echo set_value("options[size]"); ?&gt;" size="50" /&gt;
</pre> </div> <p>For more info please see the <a class="reference internal" href="#using-arrays-as-field-names"><span class="std std-ref">Using Arrays as Field Names</span></a> section below.</p>   <h3 id="validating-an-array-other-than-post">Validating an Array (other than $_POST)</h3> <p>Sometimes you may want to validate an array that does not originate from <code>$_POST</code> data.</p> <p>In this case, you can specify the array to be validated:</p> <pre data-language="php">$data = array(
        'username' =&gt; 'johndoe',
        'password' =&gt; 'mypassword',
        'passconf' =&gt; 'mypassword'
);

$this-&gt;form_validation-&gt;set_data($data);
</pre> <p>Creating validation rules, running the validation, and retrieving error messages works the same whether you are validating <code>$_POST</code> data or another array of your choice.</p> <div class="admonition important"> <p class="first admonition-title">Important</p> <p class="last">You have to call the <code>set_data()</code> method <em>before</em> defining any validation rules.</p> </div> <div class="admonition important"> <p class="first admonition-title">Important</p> <p class="last">If you want to validate more than one array during a single execution, then you should call the <code>reset_validation()</code> method before setting up rules and validating the new array.</p> </div> <p>For more info please see the <a class="reference internal" href="#class-reference"><span class="std std-ref">Class Reference</span></a> section below.</p>    <h2 id="saving-groups">Saving Sets of Validation Rules to a Config File</h2> <p id="saving-sets-of-validation-rules-to-a-config-file">A nice feature of the Form Validation class is that it permits you to store all your validation rules for your entire application in a config file. You can organize these rules into “groups”. These groups can either be loaded automatically when a matching controller/method is called, or you can manually call each set as needed.</p>  <h3 id="how-to-save-your-rules">How to save your rules</h3> <p>To store your validation rules, simply create a file named form_validation.php in your application/config/ folder. In that file you will place an array named $config with your rules. As shown earlier, the validation array will have this prototype:</p> <pre data-language="php">$config = array(
        array(
                'field' =&gt; 'username',
                'label' =&gt; 'Username',
                'rules' =&gt; 'required'
        ),
        array(
                'field' =&gt; 'password',
                'label' =&gt; 'Password',
                'rules' =&gt; 'required'
        ),
        array(
                'field' =&gt; 'passconf',
                'label' =&gt; 'Password Confirmation',
                'rules' =&gt; 'required'
        ),
        array(
                'field' =&gt; 'email',
                'label' =&gt; 'Email',
                'rules' =&gt; 'required'
        )
);
</pre> <p>Your validation rule file will be loaded automatically and used when you call the <code>run()</code> method.</p> <p>Please note that you MUST name your <code>$config</code> array.</p>   <h3 id="creating-sets-of-rules">Creating Sets of Rules</h3> <p>In order to organize your rules into “sets” requires that you place them into “sub arrays”. Consider the following example, showing two sets of rules. We’ve arbitrarily called these two rules “signup” and “email”. You can name your rules anything you want:</p> <pre data-language="php">$config = array(
        'signup' =&gt; array(
                array(
                        'field' =&gt; 'username',
                        'label' =&gt; 'Username',
                        'rules' =&gt; 'required'
                ),
                array(
                        'field' =&gt; 'password',
                        'label' =&gt; 'Password',
                        'rules' =&gt; 'required'
                ),
                array(
                        'field' =&gt; 'passconf',
                        'label' =&gt; 'Password Confirmation',
                        'rules' =&gt; 'required'
                ),
                array(
                        'field' =&gt; 'email',
                        'label' =&gt; 'Email',
                        'rules' =&gt; 'required'
                )
        ),
        'email' =&gt; array(
                array(
                        'field' =&gt; 'emailaddress',
                        'label' =&gt; 'EmailAddress',
                        'rules' =&gt; 'required|valid_email'
                ),
                array(
                        'field' =&gt; 'name',
                        'label' =&gt; 'Name',
                        'rules' =&gt; 'required|alpha'
                ),
                array(
                        'field' =&gt; 'title',
                        'label' =&gt; 'Title',
                        'rules' =&gt; 'required'
                ),
                array(
                        'field' =&gt; 'message',
                        'label' =&gt; 'MessageBody',
                        'rules' =&gt; 'required'
                )
        )
);
</pre>   <h3 id="calling-a-specific-rule-group">Calling a Specific Rule Group</h3> <p>In order to call a specific group, you will pass its name to the <code>run()</code> method. For example, to call the signup rule you will do this:</p> <pre data-language="php">if ($this-&gt;form_validation-&gt;run('signup') == FALSE)
{
        $this-&gt;load-&gt;view('myform');
}
else
{
        $this-&gt;load-&gt;view('formsuccess');
}
</pre>   <h3 id="associating-a-controller-method-with-a-rule-group">Associating a Controller Method with a Rule Group</h3> <p>An alternate (and more automatic) method of calling a rule group is to name it according to the controller class/method you intend to use it with. For example, let’s say you have a controller named Member and a method named signup. Here’s what your class might look like:</p> <pre data-language="php">&lt;?php

class Member extends CI_Controller {

        public function signup()
        {
                $this-&gt;load-&gt;library('form_validation');

                if ($this-&gt;form_validation-&gt;run() == FALSE)
                {
                        $this-&gt;load-&gt;view('myform');
                }
                else
                {
                        $this-&gt;load-&gt;view('formsuccess');
                }
        }
}
</pre> <p>In your validation config file, you will name your rule group member/signup:</p> <pre data-language="php">$config = array(
        'member/signup' =&gt; array(
                array(
                        'field' =&gt; 'username',
                        'label' =&gt; 'Username',
                        'rules' =&gt; 'required'
                ),
                array(
                        'field' =&gt; 'password',
                        'label' =&gt; 'Password',
                        'rules' =&gt; 'required'
                ),
                array(
                        'field' =&gt; 'passconf',
                        'label' =&gt; 'PasswordConfirmation',
                        'rules' =&gt; 'required'
                ),
                array(
                        'field' =&gt; 'email',
                        'label' =&gt; 'Email',
                        'rules' =&gt; 'required'
                )
        )
);
</pre> <p>When a rule group is named identically to a controller class/method it will be used automatically when the <code>run()</code> method is invoked from that class/method.</p>    <h2 id="id4">Using Arrays as Field Names</h2> <p id="using-arrays-as-field-names">The Form Validation class supports the use of arrays as field names. Consider this example:</p> <pre data-language="php">&lt;input type="text" name="options[]" value="" size="50" /&gt;
</pre> <p>If you do use an array as a field name, you must use the EXACT array name in the <a class="reference internal" href="#helper-functions"><span class="std std-ref">Helper Functions</span></a> that require the field name, and as your Validation Rule field name.</p> <p>For example, to set a rule for the above field you would use:</p> <pre data-language="php">$this-&gt;form_validation-&gt;set_rules('options[]', 'Options', 'required');
</pre> <p>Or, to show an error for the above field you would use:</p> <pre data-language="php">&lt;?php echo form_error('options[]'); ?&gt;
</pre> <p>Or to re-populate the field you would use:</p> <pre data-language="php">&lt;input type="text" name="options[]" value="&lt;?php echo set_value('options[]'); ?&gt;" size="50" /&gt;
</pre> <p>You can use multidimensional arrays as field names as well. For example:</p> <pre data-language="php">&lt;input type="text" name="options[size]" value="" size="50" /&gt;
</pre> <p>Or even:</p> <pre data-language="php">&lt;input type="text" name="sports[nba][basketball]" value="" size="50" /&gt;
</pre> <p>As with our first example, you must use the exact array name in the helper functions:</p> <pre data-language="php">&lt;?php echo form_error('sports[nba][basketball]'); ?&gt;
</pre> <p>If you are using checkboxes (or other fields) that have multiple options, don’t forget to leave an empty bracket after each option, so that all selections will be added to the POST array:</p> <pre data-language="php">&lt;input type="checkbox" name="options[]" value="red" /&gt;
&lt;input type="checkbox" name="options[]" value="blue" /&gt;
&lt;input type="checkbox" name="options[]" value="green" /&gt;
</pre> <p>Or if you use a multidimensional array:</p> <pre data-language="php">&lt;input type="checkbox" name="options[color][]" value="red" /&gt;
&lt;input type="checkbox" name="options[color][]" value="blue" /&gt;
&lt;input type="checkbox" name="options[color][]" value="green" /&gt;
</pre> <p>When you use a helper function you’ll include the bracket as well:</p> <pre data-language="php">&lt;?php echo form_error('options[color][]'); ?&gt;
</pre>   <h2 id="rule-reference">Rule Reference</h2> <p>The following is a list of all the native rules that are available to use:</p> <table class="docutils">  <thead valign="bottom"> <tr>
<th class="head">Rule</th> <th class="head">Parameter</th> <th class="head">Description</th> <th class="head">Example</th> </tr> </thead>  <tr>
<td><strong>required</strong></td> <td>No</td> <td>Returns FALSE if the form element is empty.</td> <td> </td> </tr> <tr>
<td><strong>matches</strong></td> <td>Yes</td> <td>Returns FALSE if the form element does not match the one in the parameter.</td> <td>matches[form_item]</td> </tr> <tr>
<td><strong>regex_match</strong></td> <td>Yes</td> <td>Returns FALSE if the form element does not match the regular expression.</td> <td>regex_match[/regex/]</td> </tr> <tr>
<td><strong>differs</strong></td> <td>Yes</td> <td>Returns FALSE if the form element does not differ from the one in the parameter.</td> <td>differs[form_item]</td> </tr> <tr>
<td><strong>is_unique</strong></td> <td>Yes</td> <td>Returns FALSE if the form element is not unique to the table and field name in the parameter. Note: This rule requires <a class="reference internal" href="../../database/query_builder/"><span class="doc">Query Builder</span></a> to be enabled in order to work.</td> <td>is_unique[table.field]</td> </tr> <tr>
<td><strong>min_length</strong></td> <td>Yes</td> <td>Returns FALSE if the form element is shorter than the parameter value.</td> <td>min_length[3]</td> </tr> <tr>
<td><strong>max_length</strong></td> <td>Yes</td> <td>Returns FALSE if the form element is longer than the parameter value.</td> <td>max_length[12]</td> </tr> <tr>
<td><strong>exact_length</strong></td> <td>Yes</td> <td>Returns FALSE if the form element is not exactly the parameter value.</td> <td>exact_length[8]</td> </tr> <tr>
<td><strong>greater_than</strong></td> <td>Yes</td> <td>Returns FALSE if the form element is less than or equal to the parameter value or not numeric.</td> <td>greater_than[8]</td> </tr> <tr>
<td><strong>greater_than_equal_to</strong></td> <td>Yes</td> <td>Returns FALSE if the form element is less than the parameter value, or not numeric.</td> <td>greater_than_equal_to[8]</td> </tr> <tr>
<td><strong>less_than</strong></td> <td>Yes</td> <td>Returns FALSE if the form element is greater than or equal to the parameter value or not numeric.</td> <td>less_than[8]</td> </tr> <tr>
<td><strong>less_than_equal_to</strong></td> <td>Yes</td> <td>Returns FALSE if the form element is greater than the parameter value, or not numeric.</td> <td>less_than_equal_to[8]</td> </tr> <tr>
<td><strong>in_list</strong></td> <td>Yes</td> <td>Returns FALSE if the form element is not within a predetermined list.</td> <td>in_list[red,blue,green]</td> </tr> <tr>
<td><strong>alpha</strong></td> <td>No</td> <td>Returns FALSE if the form element contains anything other than alphabetical characters.</td> <td> </td> </tr> <tr>
<td><strong>alpha_numeric</strong></td> <td>No</td> <td>Returns FALSE if the form element contains anything other than alpha-numeric characters.</td> <td> </td> </tr> <tr>
<td><strong>alpha_numeric_spaces</strong></td> <td>No</td> <td>Returns FALSE if the form element contains anything other than alpha-numeric characters or spaces. Should be used after trim to avoid spaces at the beginning or end.</td> <td> </td> </tr> <tr>
<td><strong>alpha_dash</strong></td> <td>No</td> <td>Returns FALSE if the form element contains anything other than alpha-numeric characters, underscores or dashes.</td> <td> </td> </tr> <tr>
<td><strong>numeric</strong></td> <td>No</td> <td>Returns FALSE if the form element contains anything other than numeric characters.</td> <td> </td> </tr> <tr>
<td><strong>integer</strong></td> <td>No</td> <td>Returns FALSE if the form element contains anything other than an integer.</td> <td> </td> </tr> <tr>
<td><strong>decimal</strong></td> <td>No</td> <td>Returns FALSE if the form element contains anything other than a decimal number.</td> <td> </td> </tr> <tr>
<td><strong>is_natural</strong></td> <td>No</td> <td>Returns FALSE if the form element contains anything other than a natural number: 0, 1, 2, 3, etc.</td> <td> </td> </tr> <tr>
<td><strong>is_natural_no_zero</strong></td> <td>No</td> <td>Returns FALSE if the form element contains anything other than a natural number, but not zero: 1, 2, 3, etc.</td> <td> </td> </tr> <tr>
<td><strong>valid_url</strong></td> <td>No</td> <td>Returns FALSE if the form element does not contain a valid URL.</td> <td> </td> </tr> <tr>
<td><strong>valid_email</strong></td> <td>No</td> <td>Returns FALSE if the form element does not contain a valid email address.</td> <td> </td> </tr> <tr>
<td><strong>valid_emails</strong></td> <td>No</td> <td>Returns FALSE if any value provided in a comma separated list is not a valid email.</td> <td> </td> </tr> <tr>
<td><strong>valid_ip</strong></td> <td>Yes</td> <td>Returns FALSE if the supplied IP address is not valid. Accepts an optional parameter of ‘ipv4’ or ‘ipv6’ to specify an IP format.</td> <td> </td> </tr> <tr>
<td><strong>valid_base64</strong></td> <td>No</td> <td>Returns FALSE if the supplied string contains anything other than valid Base64 characters.</td> <td> </td> </tr>  </table> <div class="admonition note"> <p class="first admonition-title">Note</p> <p>These rules can also be called as discrete methods. For example:</p> <pre data-language="php">$this-&gt;form_validation-&gt;required($string);
</pre> </div> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">You can also use any native PHP functions that permit up to two parameters, where at least one is required (to pass the field data).</p> </div>   <h2 id="prepping-reference">Prepping Reference</h2> <p>The following is a list of all the prepping methods that are available to use:</p> <table class="docutils">  <thead valign="bottom"> <tr>
<th class="head">Name</th> <th class="head">Parameter</th> <th class="head">Description</th> </tr> </thead>  <tr>
<td><strong>prep_for_form</strong></td> <td>No</td> <td>DEPRECATED: Converts special characters so that HTML data can be shown in a form field without breaking it.</td> </tr> <tr>
<td><strong>prep_url</strong></td> <td>No</td> <td>Adds “http://” to URLs if missing.</td> </tr> <tr>
<td><strong>strip_image_tags</strong></td> <td>No</td> <td>Strips the HTML from image tags leaving the raw URL.</td> </tr> <tr>
<td><strong>encode_php_tags</strong></td> <td>No</td> <td>Converts PHP tags to entities.</td> </tr>  </table> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">You can also use any native PHP functions that permits one parameter, like <code>trim()</code>, <code>htmlspecialchars()</code>, <code>urldecode()</code>, etc.</p> </div>   <h2 id="id5">Class Reference</h2> <dl class="class" id="class-reference"> <dt id="CI_Form_validation">
<code>class CI_Form_validation</code> </dt> <dd>
<dl class="method"> <dt id="CI_Form_validation::set_rules">
<code>set_rules($field[, $label = ''[, $rules = ''[, $errors = array()]]])</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$field</strong> (<em>string</em>) – Field name</li> <li>
<strong>$label</strong> (<em>string</em>) – Field label</li> <li>
<strong>$rules</strong> (<em>mixed</em>) – Validation rules, as a string list separated by a pipe “|”, or as an array or rules</li> <li>
<strong>$errors</strong> (<em>array</em>) – A list of custom error messages</li> </ul> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">CI_Form_validation instance (method chaining)</p> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">CI_Form_validation</p> </td> </tr>  </table> <p>Permits you to set validation rules, as described in the tutorial sections above:</p> <ul class="simple"> <li><a class="reference internal" href="#setting-validation-rules"><span class="std std-ref">Setting Validation Rules</span></a></li> <li><a class="reference internal" href="#saving-groups"><span class="std std-ref">Saving Sets of Validation Rules to a Config File</span></a></li> </ul> </dd>
</dl> <dl class="method"> <dt id="CI_Form_validation::run">
<code>run([$group = ''])</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$group</strong> (<em>string</em>) – The name of the validation group to run</li> </ul> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">TRUE on success, FALSE if validation failed</p> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">bool</p> </td> </tr>  </table> <p>Runs the validation routines. Returns boolean TRUE on success and FALSE on failure. You can optionally pass the name of the validation group via the method, as described in: <a class="reference internal" href="#saving-groups"><span class="std std-ref">Saving Sets of Validation Rules to a Config File</span></a></p> </dd>
</dl> <dl class="method"> <dt id="CI_Form_validation::set_message">
<code>set_message($lang[, $val = ''])</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$lang</strong> (<em>string</em>) – The rule the message is for</li> <li>
<strong>$val</strong> (<em>string</em>) – The message</li> </ul> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">CI_Form_validation instance (method chaining)</p> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">CI_Form_validation</p> </td> </tr>  </table> <p>Permits you to set custom error messages. See <a class="reference internal" href="#setting-error-messages"><span class="std std-ref">Setting Error Messages</span></a></p> </dd>
</dl> <dl class="method"> <dt id="CI_Form_validation::set_error_delimiters">
<code>set_error_delimiters([$prefix = '&lt;p&gt;'[, $suffix = '&lt;/p&gt;']])</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$prefix</strong> (<em>string</em>) – Error message prefix</li> <li>
<strong>$suffix</strong> (<em>string</em>) – Error message suffix</li> </ul> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">CI_Form_validation instance (method chaining)</p> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">CI_Form_validation</p> </td> </tr>  </table> <p>Sets the default prefix and suffix for error messages.</p> </dd>
</dl> <dl class="method"> <dt id="CI_Form_validation::set_data">
<code>set_data($data)</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$data</strong> (<em>array</em>) – Array of data validate</li> </ul> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">CI_Form_validation instance (method chaining)</p> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">CI_Form_validation</p> </td> </tr>  </table> <p>Permits you to set an array for validation, instead of using the default <code>$_POST</code> array.</p> </dd>
</dl> <dl class="method"> <dt id="CI_Form_validation::reset_validation">
<code>reset_validation()</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Returns:</th>
<td class="field-body">CI_Form_validation instance (method chaining)</td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">CI_Form_validation</td> </tr>  </table> <p>Permits you to reset the validation when you validate more than one array. This method should be called before validating each new array.</p> </dd>
</dl> <dl class="method"> <dt id="CI_Form_validation::error_array">
<code>error_array()</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Returns:</th>
<td class="field-body">Array of error messages</td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">array</td> </tr>  </table> <p>Returns the error messages as an array.</p> </dd>
</dl> <dl class="method"> <dt id="CI_Form_validation::error_string">
<code>error_string([$prefix = ''[, $suffix = '']])</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$prefix</strong> (<em>string</em>) – Error message prefix</li> <li>
<strong>$suffix</strong> (<em>string</em>) – Error message suffix</li> </ul> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">Error messages as a string</p> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">string</p> </td> </tr>  </table> <p>Returns all error messages (as returned from error_array()) formatted as a string and separated by a newline character.</p> </dd>
</dl> <dl class="method"> <dt id="CI_Form_validation::error">
<code>error($field[, $prefix = ''[, $suffix = '']])</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$field</strong> (<em>string</em>) – Field name</li> <li>
<strong>$prefix</strong> (<em>string</em>) – Optional prefix</li> <li>
<strong>$suffix</strong> (<em>string</em>) – Optional suffix</li> </ul> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">Error message string</p> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">string</p> </td> </tr>  </table> <p>Returns the error message for a specific field, optionally adding a prefix and/or suffix to it (usually HTML tags).</p> </dd>
</dl> <dl class="method"> <dt id="CI_Form_validation::has_rule">
<code>has_rule($field)</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$field</strong> (<em>string</em>) – Field name</li> </ul> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">TRUE if the field has rules set, FALSE if not</p> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">bool</p> </td> </tr>  </table> <p>Checks to see if there is a rule set for the specified field.</p> </dd>
</dl> </dd>
</dl>   <h2 id="helper-functions">Helper Reference</h2> <p id="helper-reference">Please refer to the <a class="reference internal" href="../../helpers/form_helper/"><span class="doc">Form Helper</span></a> manual for the following functions:</p> <ul class="simple"> <li><a class="reference internal" href="../../helpers/form_helper/#form_error" title="form_error"><code>form_error()</code></a></li> <li><a class="reference internal" href="../../helpers/form_helper/#validation_errors" title="validation_errors"><code>validation_errors()</code></a></li> <li><a class="reference internal" href="../../helpers/form_helper/#set_value" title="set_value"><code>set_value()</code></a></li> <li><a class="reference internal" href="../../helpers/form_helper/#set_select" title="set_select"><code>set_select()</code></a></li> <li><a class="reference internal" href="../../helpers/form_helper/#set_checkbox" title="set_checkbox"><code>set_checkbox()</code></a></li> <li><a class="reference internal" href="../../helpers/form_helper/#set_radio" title="set_radio"><code>set_radio()</code></a></li> </ul> <p>Note that these are procedural functions, so they <strong>do not</strong> require you to prepend them with <code>$this-&gt;form_validation</code>.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2014–2018 British Columbia Institute of Technology<br>Licensed under the MIT License.<br>
    <a href="https://www.codeigniter.com/user_guide/libraries/form_validation.html" class="_attribution-link" target="_blank">https://www.codeigniter.com/user_guide/libraries/form_validation.html</a>
  </p>
</div>

				
			</div>
			<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
</amp-auto-ads>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
