
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Zip Encoding Class - CodeIgniter 3 - W3cubDocs</title>
  
  <meta name="description" content=" CodeIgniter’s Zip Encoding Class permits you to create Zip archives. Archives can be downloaded to your desktop or saved to a directory. ">
  <meta name="keywords" content="zip, encoding, class, -, codeigniter, codeigniter~3">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/codeigniter~3/libraries/zip/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" integrity="sha256-6/DH7X+2hvUPElJfGsvzm+tgIpmM9zjbYxnpsr6gR1A=" crossorigin="anonymous" href="/assets/application-ebf0c7ed7fb686f50f12525f1acbf39beb6022998cf738db6319e9b2bea04750.css">
  <script type="text/javascript" src="/assets/application-db285287b40ed28fac520fcfd75d7d874692b647b5b5e05968c741dda5de4148.js" integrity="sha256-2yhSh7QO0o+sUg/P1119h0aStke1teBZaMdB3aXeQUg=" crossorigin="anonymous"></script>
  <script src="/json/codeigniter~3.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-2572770204602497",
            enable_page_level_ads: true
        });
  </script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/codeigniter~3/" class="_nav-link" title="" style="margin-left:0;">CodeIgniter 3</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _sphinx">
				
				
<h1 id="zip-encoding-class">Zip Encoding Class</h1> <p>CodeIgniter’s Zip Encoding Class permits you to create Zip archives. Archives can be downloaded to your desktop or saved to a directory.</p>  <ul class="simple"> <li>
<a class="reference internal" href="#using-the-zip-encoding-class" id="id1">Using the Zip Encoding Class</a><ul> <li><a class="reference internal" href="#initializing-the-class" id="id2">Initializing the Class</a></li> <li><a class="reference internal" href="#usage-example" id="id3">Usage Example</a></li> </ul> </li> <li><a class="reference internal" href="#class-reference" id="id4">Class Reference</a></li> </ul>   <h2 id="using-the-zip-encoding-class">Using the Zip Encoding Class</h2>  <h3 id="initializing-the-class">Initializing the Class</h3> <p>Like most other classes in CodeIgniter, the Zip class is initialized in your controller using the $this-&gt;load-&gt;library function:</p> <pre data-language="php">$this-&gt;load-&gt;library('zip');
</pre> <p>Once loaded, the Zip library object will be available using:</p> <pre data-language="php">$this-&gt;zip
</pre>   <h3 id="usage-example">Usage Example</h3> <p>This example demonstrates how to compress a file, save it to a folder on your server, and download it to your desktop.</p> <pre data-language="php">$name = 'mydata1.txt';
$data = 'A Data String!';

$this-&gt;zip-&gt;add_data($name, $data);

// Write the zip file to a folder on your server. Name it "my_backup.zip"
$this-&gt;zip-&gt;archive('/path/to/directory/my_backup.zip');

// Download the file to your desktop. Name it "my_backup.zip"
$this-&gt;zip-&gt;download('my_backup.zip');
</pre>    <h2 id="class-reference">Class Reference</h2> <dl class="class"> <dt id="CI_Zip">
<code>class CI_Zip</code> </dt> <dd>
<dl class="attribute"> <dt>
<code>$compression_level = 2</code> </dt> <dd>
<p>The compression level to use.</p> <p>It can range from 0 to 9, with 9 being the highest and 0 effectively disabling compression:</p> <pre data-language="php">$this-&gt;zip-&gt;compression_level = 0;
</pre> </dd>
</dl> <dl class="method"> <dt id="CI_Zip::add_data">
<code>add_data($filepath[, $data = NULL])</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$filepath</strong> (<em>mixed</em>) – A single file path or an array of file =&gt; data pairs</li> <li>
<strong>$data</strong> (<em>array</em>) – File contents (ignored if $filepath is an array)</li> </ul> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">void</p> </td> </tr>  </table> <p>Adds data to the Zip archive. Can work both in single and multiple files mode.</p> <p>When adding a single file, the first parameter must contain the name you would like given to the file and the second must contain the file contents:</p> <pre data-language="php">$name = 'mydata1.txt';
$data = 'A Data String!';
$this-&gt;zip-&gt;add_data($name, $data);

$name = 'mydata2.txt';
$data = 'Another Data String!';
$this-&gt;zip-&gt;add_data($name, $data);
</pre> <p>When adding multiple files, the first parameter must contain <em>file =&gt; contents</em> pairs and the second parameter is ignored:</p> <pre data-language="php">$data = array(
        'mydata1.txt' =&gt; 'A Data String!',
        'mydata2.txt' =&gt; 'Another Data String!'
);

$this-&gt;zip-&gt;add_data($data);
</pre> <p>If you would like your compressed data organized into sub-directories, simply include the path as part of the filename(s):</p> <pre data-language="php">$name = 'personal/my_bio.txt';
$data = 'I was born in an elevator...';

$this-&gt;zip-&gt;add_data($name, $data);
</pre> <p>The above example will place my_bio.txt inside a folder called personal.</p> </dd>
</dl> <dl class="method"> <dt id="CI_Zip::add_dir">
<code>add_dir($directory)</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$directory</strong> (<em>mixed</em>) – Directory name string or an array of multiple directories</li> </ul> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">void</p> </td> </tr>  </table> <p>Permits you to add a directory. Usually this method is unnecessary since you can place your data into directories when using <code>$this-&gt;zip-&gt;add_data()</code>, but if you would like to create an empty directory you can do so:</p> <pre data-language="php">$this-&gt;zip-&gt;add_dir('myfolder'); // Creates a directory called "myfolder"
</pre> </dd>
</dl> <dl class="method"> <dt id="CI_Zip::read_file">
<code>read_file($path[, $archive_filepath = FALSE])</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$path</strong> (<em>string</em>) – Path to file</li> <li>
<strong>$archive_filepath</strong> (<em>mixed</em>) – New file name/path (string) or (boolean) whether to maintain the original filepath</li> </ul> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">TRUE on success, FALSE on failure</p> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">bool</p> </td> </tr>  </table> <p>Permits you to compress a file that already exists somewhere on your server. Supply a file path and the zip class will read it and add it to the archive:</p> <pre data-language="php">$path = '/path/to/photo.jpg';

$this-&gt;zip-&gt;read_file($path);

// Download the file to your desktop. Name it "my_backup.zip"
$this-&gt;zip-&gt;download('my_backup.zip');
</pre> <p>If you would like the Zip archive to maintain the directory structure of the file in it, pass TRUE (boolean) in the second parameter. Example:</p> <pre data-language="php">$path = '/path/to/photo.jpg';

$this-&gt;zip-&gt;read_file($path, TRUE);

// Download the file to your desktop. Name it "my_backup.zip"
$this-&gt;zip-&gt;download('my_backup.zip');
</pre> <p>In the above example, photo.jpg will be placed into the <em>path/to/</em> directory.</p> <p>You can also specify a new name (path included) for the added file on the fly:</p> <pre data-language="php">$path = '/path/to/photo.jpg';
$new_path = '/new/path/some_photo.jpg';

$this-&gt;zip-&gt;read_file($path, $new_path);

// Download ZIP archive containing /new/path/some_photo.jpg
$this-&gt;zip-&gt;download('my_archive.zip');
</pre> </dd>
</dl> <dl class="method"> <dt id="CI_Zip::read_dir">
<code>read_dir($path[, $preserve_filepath = TRUE[, $root_path = NULL]])</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$path</strong> (<em>string</em>) – Path to directory</li> <li>
<strong>$preserve_filepath</strong> (<em>bool</em>) – Whether to maintain the original path</li> <li>
<strong>$root_path</strong> (<em>string</em>) – Part of the path to exclude from the archive directory</li> </ul> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">TRUE on success, FALSE on failure</p> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">bool</p> </td> </tr>  </table> <p>Permits you to compress a directory (and its contents) that already exists somewhere on your server. Supply a path to the directory and the zip class will recursively read and recreate it as a Zip archive. All files contained within the supplied path will be encoded, as will any sub-directories contained within it. Example:</p> <pre data-language="php">$path = '/path/to/your/directory/';

$this-&gt;zip-&gt;read_dir($path);

// Download the file to your desktop. Name it "my_backup.zip"
$this-&gt;zip-&gt;download('my_backup.zip');
</pre> <p>By default the Zip archive will place all directories listed in the first parameter inside the zip. If you want the tree preceding the target directory to be ignored, you can pass FALSE (boolean) in the second parameter. Example:</p> <pre data-language="php">$path = '/path/to/your/directory/';

$this-&gt;zip-&gt;read_dir($path, FALSE);
</pre> <p>This will create a ZIP with a directory named “directory” inside, then all sub-directories stored correctly inside that, but will not include the <em>/path/to/your</em> part of the path.</p> </dd>
</dl> <dl class="method"> <dt id="CI_Zip::archive">
<code>archive($filepath)</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$filepath</strong> (<em>string</em>) – Path to target zip archive</li> </ul> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">TRUE on success, FALSE on failure</p> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">bool</p> </td> </tr>  </table> <p>Writes the Zip-encoded file to a directory on your server. Submit a valid server path ending in the file name. Make sure the directory is writable (755 is usually OK). Example:</p> <pre data-language="php">$this-&gt;zip-&gt;archive('/path/to/folder/myarchive.zip'); // Creates a file named myarchive.zip
</pre> </dd>
</dl> <dl class="method"> <dt id="CI_Zip::download">
<code>download($filename = 'backup.zip')</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$filename</strong> (<em>string</em>) – Archive file name</li> </ul> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">void</p> </td> </tr>  </table> <p>Causes the Zip file to be downloaded from your server. You must pass the name you would like the zip file called. Example:</p> <pre data-language="php">$this-&gt;zip-&gt;download('latest_stuff.zip'); // File will be named "latest_stuff.zip"
</pre> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">Do not display any data in the controller in which you call this method since it sends various server headers that cause the download to happen and the file to be treated as binary.</p> </div> </dd>
</dl> <dl class="method"> <dt id="CI_Zip::get_zip">
<code>get_zip()</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Returns:</th>
<td class="field-body">Zip file content</td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">string</td> </tr>  </table> <p>Returns the Zip-compressed file data. Generally you will not need this method unless you want to do something unique with the data. Example:</p> <pre data-language="php">$name = 'my_bio.txt';
$data = 'I was born in an elevator...';

$this-&gt;zip-&gt;add_data($name, $data);

$zip_file = $this-&gt;zip-&gt;get_zip();
</pre> </dd>
</dl> <dl class="method"> <dt id="CI_Zip::clear_data">
<code>clear_data()</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Return type:</th>
<td class="field-body">void</td> </tr>  </table> <p>The Zip class caches your zip data so that it doesn’t need to recompile the Zip archive for each method you use above. If, however, you need to create multiple Zip archives, each with different data, you can clear the cache between calls. Example:</p> <pre data-language="php">$name = 'my_bio.txt';
$data = 'I was born in an elevator...';

$this-&gt;zip-&gt;add_data($name, $data);
$zip_file = $this-&gt;zip-&gt;get_zip();

$this-&gt;zip-&gt;clear_data();

$name = 'photo.jpg';
$this-&gt;zip-&gt;read_file("/path/to/photo.jpg"); // Read the file's contents

$this-&gt;zip-&gt;download('myphotos.zip');
</pre> </dd>
</dl> </dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
    © 2014–2018 British Columbia Institute of Technology<br>Licensed under the MIT License.<br>
    <a href="https://www.codeigniter.com/user_guide/libraries/zip.html" class="_attribution-link" target="_blank">https://www.codeigniter.com/user_guide/libraries/zip.html</a>
  </p>
</div>

				
			</div>
			<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
</amp-auto-ads>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
